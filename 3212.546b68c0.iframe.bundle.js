"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3212],{"./src/common/components/ShowPrices.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),next_router__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/router.js"),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),_Heading__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/common/components/Heading.jsx"),_Text__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/common/components/Text.jsx"),_hooks_useStyle__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/common/hooks/useStyle.js"),process=__webpack_require__("./node_modules/process/browser.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function PlanCard(_ref){var item=_ref.item,i=_ref.i,handleSelect=_ref.handleSelect,selectedIndex=_ref.selectedIndex,backgroundColor2=(0,_hooks_useStyle__WEBPACK_IMPORTED_MODULE_5__.Z)().backgroundColor2;return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{key:"".concat(item.title," ").concat(null==item?void 0:item.price),display:"flex",onClick:function onClick(){return handleSelect(i,item)},width:"100%",alignItems:(null==item?void 0:item.isFreeTier)&&"center",justifyContent:"space-between",p:"22px 18px",gridGap:"24px",cursor:"pointer",background:backgroundColor2,border:"4px solid",borderColor:selectedIndex===i?"#0097CD":"transparent",borderRadius:"8px"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{display:"flex",flexDirection:"column",width:"100%",gridGap:"12px",minWidth:{base:"none",md:"auto"},height:"fit-content",fontWeight:"400"},!(null!=item&&item.isFreeTier)&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{fontSize:"18px",fontWeight:"700"},null==item?void 0:item.title),__jsx(_Text__WEBPACK_IMPORTED_MODULE_4__.Z,{size:"md",fontWeight:"500",mb:"6px",dangerouslySetInnerHTML:{__html:null==item?void 0:item.description}})),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{textAlign:"right",display:"flex",minWidth:"FINANCING"!==item.period&&"auto",justifyContent:"center",flexDirection:"column",gridGap:"10px"},__jsx(_Heading__WEBPACK_IMPORTED_MODULE_3__.Z,{as:"span",size:{base:"var(--heading-m)",md:"clamp(0.875rem, 0.3rem + 1.8vw, 2rem)"},width:"FINANCING"===item.period&&"max-content",lineHeight:"1",textTransform:"uppercase",color:"blue.default"},(null==item?void 0:item.priceText)||(null==item?void 0:item.price)),(null==item?void 0:item.lastPrice)&&__jsx(_Text__WEBPACK_IMPORTED_MODULE_4__.Z,{lineHeight:"21px",fontSize:"21px",fontWeight:"500",color:"#A9A9A9"},__jsx("s",null,null==item?void 0:item.lastPrice))))}function ShowPrices(_ref2){var _data$pricing,data=_ref2.data,title=_ref2.title,secondSectionTitle=_ref2.secondSectionTitle,notReady=_ref2.notReady,list=_ref2.list,finance=_ref2.finance,onSelect=_ref2.onSelect,defaultIndex=_ref2.defaultIndex,defaultFinanceIndex=_ref2.defaultFinanceIndex,externalSelection=_ref2.externalSelection,outOfConsumables=_ref2.outOfConsumables,handleUpgrade=_ref2.handleUpgrade,isTotallyFree=_ref2.isTotallyFree,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultIndex),selectedIndex=_useState[0],setSelectedIndex=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultFinanceIndex),selectedFinanceIndex=_useState2[0],setSelectedFinanceIndex=_useState2[1],t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_2__.Z)("profile").t,_useStyle2=(0,_hooks_useStyle__WEBPACK_IMPORTED_MODULE_5__.Z)(),fontColor=_useStyle2.fontColor,disabledColor=_useStyle2.disabledColor,featuredColor=_useStyle2.featuredColor,router=(0,next_router__WEBPACK_IMPORTED_MODULE_1__.useRouter)(),financeSelected={0:list||(null==data?void 0:data.pricing.list),1:finance||(null==data?void 0:data.pricing.finance)},dataList=(null==financeSelected?void 0:financeSelected[selectedFinanceIndex])||[],selectedItem=null!==selectedIndex&&financeSelected[selectedFinanceIndex][selectedIndex],handleSelect=function handleSelect(index,item){setSelectedIndex(index),onSelect&&onSelect(item)};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){1===dataList.length&&handleSelect(0,dataList[0])}),[]);var handleSelectFinance=function handleSelectFinance(index){setSelectedFinanceIndex(index),setSelectedIndex(0),onSelect(financeSelected[defaultFinanceIndex][defaultIndex||0])},getTabColor=function getTabColor(index){var tabIsAvailable=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return selectedFinanceIndex===index?{borderBottom:"4px solid",borderColor:"blue.default",color:"blue.default",cursor:"pointer",fontWeight:"700"}:{borderBottom:"4px solid",borderColor:"gray.400",color:tabIsAvailable?fontColor:disabledColor,cursor:tabIsAvailable?"pointer":"not-allowed",fontWeight:"400"}},paymentTabStyle=getTabColor(0,(null==list?void 0:list.length)>0),financeTabStyle=getTabColor(1,(null==finance?void 0:finance.length)>0),existMoreThanOne=dataList.length>1,isOnlyOneItem=1===[].concat((0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(finance),(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(list)).length;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var tabSelected=null==financeSelected?void 0:financeSelected[null==externalSelection?void 0:externalSelection.selectedFinanceIndex],financeFound=(null==tabSelected?void 0:tabSelected[null==externalSelection?void 0:externalSelection.selectedIndex])||(null==tabSelected?void 0:tabSelected[0]);(null==externalSelection?void 0:externalSelection.selectedIndex)>=0&&(null==externalSelection?void 0:externalSelection.selectedFinanceIndex)>=0&&(null==tabSelected?void 0:tabSelected.length)>0&&(handleSelectFinance(externalSelection.selectedFinanceIndex),handleSelect(externalSelection.selectedIndex,financeFound))}),[externalSelection]),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{borderRadius:"12px",padding:"16px",background:featuredColor,display:"flex",flex:.5,flexDirection:"column",gridGap:"20px"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{width:"100%",display:"flex",flexWrap:"wrap",gridGap:"5px 10px",justifyContent:{base:"center",sm:"space-between"},alignItems:"center",mb:"6px"},__jsx(_Heading__WEBPACK_IMPORTED_MODULE_3__.Z,{as:"h2",size:"sm"},title||(null==data?void 0:data.pricing["choose-plan"])),!isTotallyFree&&financeSelected[1]&&!isOnlyOneItem&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{display:"flex"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_8__.Z)({p:{base:"10px 7px",md:"15px 10px",lg:"15px 10px"},onClick:function onClick(){(null==list?void 0:list.length)>0&&handleSelectFinance(0)}},paymentTabStyle),(null==finance?void 0:finance.length)>0?t("subscription.upgrade-modal.one_payment"):t("subscription.upgrade-modal.subscription")),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_8__.Z)({display:(null==finance?void 0:finance.length)>0?"block":"none",p:{base:"10px 7px",md:"15px 10px",lg:"15px 10px"},disabled:(null==finance?void 0:finance.length)>0,onClick:function onClick(){(null==finance?void 0:finance.length)>0&&handleSelectFinance(1)}},financeTabStyle),secondSectionTitle||(null==data?void 0:data.pricing["finance-text"])))),(null==dataList?void 0:dataList.length)>0&&dataList.filter((function(l){return!0===l.show})).map((function(item,i){return!item.isFreeTier&&__jsx(PlanCard,{key:null==item?void 0:item.plan_id,item,i,handleSelect,selectedIndex})})),existMoreThanOne&&dataList.some((function(item){return item.isFreeTier}))&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{display:"flex",alignItems:"center"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{as:"hr",color:"gray.500",width:"100%"}),__jsx(_Text__WEBPACK_IMPORTED_MODULE_4__.Z,{size:"md",textAlign:"center",width:"100%",margin:"0"},notReady||(null==data||null===(_data$pricing=data.pricing)||void 0===_data$pricing?void 0:_data$pricing["not-ready"])),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{as:"hr",color:"gray.500",width:"100%"})),(null==dataList?void 0:dataList.length)>0&&dataList.filter((function(l){return!0===l.show&&(null==l?void 0:l.isFreeTier)})).map((function(item,i){return __jsx(PlanCard,{key:null==item?void 0:item.plan_id,item,i,handleSelect,selectedIndex})})),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.xu,{mt:"38px"},"production"!==process.env.VERCEL_ENV&&outOfConsumables&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.z,{variant:"default",isDisabled:!selectedItem&&!0},t("common:upgrade-plan.button")),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.z,{display:outOfConsumables&&"none",variant:"default",isDisabled:!selectedItem&&!0,onClick:function onClick(){var _selectedItem$type;!1===handleUpgrade?router.push("/checkout?syllabus=coding-introduction&plan=".concat(null!=selectedItem&&null!==(_selectedItem$type=selectedItem.type)&&void 0!==_selectedItem$type&&null!==(_selectedItem$type=_selectedItem$type.toLowerCase())&&void 0!==_selectedItem$type&&_selectedItem$type.includes("trial")?"coding-introduction-free-trial":"coding-introduction-financing-options-one-payment")):handleUpgrade(selectedItem)}},t("common:enroll"))))}PlanCard.displayName="PlanCard",ShowPrices.displayName="ShowPrices",ShowPrices.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_10___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().any])),title:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,secondSectionTitle:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,notReady:prop_types__WEBPACK_IMPORTED_MODULE_10___default().string,list:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().any])),finance:prop_types__WEBPACK_IMPORTED_MODULE_10___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().any])),onSelect:prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,defaultIndex:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number,defaultFinanceIndex:prop_types__WEBPACK_IMPORTED_MODULE_10___default().number,outOfConsumables:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,handleUpgrade:prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().func,prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool]),isTotallyFree:prop_types__WEBPACK_IMPORTED_MODULE_10___default().bool,externalSelection:prop_types__WEBPACK_IMPORTED_MODULE_10___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_10___default().any]))},ShowPrices.defaultProps={data:null,title:null,secondSectionTitle:null,notReady:null,list:null,finance:null,onSelect:function onSelect(){},defaultIndex:null,defaultFinanceIndex:0,outOfConsumables:!1,handleUpgrade:!1,isTotallyFree:!1,externalSelection:{}},ShowPrices.__docgenInfo={description:"",methods:[],displayName:"ShowPrices",props:{data:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},title:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},secondSectionTitle:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},notReady:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},list:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"}]}},required:!1},finance:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"}]}},required:!1},onSelect:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},defaultIndex:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"number"},required:!1},defaultFinanceIndex:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},outOfConsumables:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},handleUpgrade:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"union",value:[{name:"func"},{name:"bool"}]},required:!1},isTotallyFree:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},externalSelection:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=ShowPrices},"./src/js_modules/profile/Subscriptions/ButtonHandler.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),prop_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__),_common_components_NextChakraLink__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/common/components/NextChakraLink.jsx"),_handlers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/js_modules/profile/Subscriptions/handlers.jsx"),_excluded=["subscription","onOpenUpgrade","setSubscriptionProps","onOpenCancelSubscription","children"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ButtonHandler(_ref){var _subscription$status,_subscription$plans,subscription=_ref.subscription,onOpenUpgrade=_ref.onOpenUpgrade,setSubscriptionProps=_ref.setSubscriptionProps,onOpenCancelSubscription=_ref.onOpenCancelSubscription,children=_ref.children,restStyles=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_ref,_excluded),t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__.Z)("profile").t,status=null==subscription?void 0:subscription.status,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),isLoading=_useState[0],setIsLoading=_useState[1],isFullyPaid="fully_paid"===(null==subscription||null===(_subscription$status=subscription.status)||void 0===_subscription$status?void 0:_subscription$status.toLowerCase()),planSlug=null==subscription||null===(_subscription$plans=subscription.plans)||void 0===_subscription$plans||null===(_subscription$plans=_subscription$plans[0])||void 0===_subscription$plans?void 0:_subscription$plans.slug,isPlanFinancingExpired="plan_financing"===(null==subscription?void 0:subscription.type)&&(null==subscription?void 0:subscription.valid_until)<(new Date).toISOString(),getPlanOffer=(0,_handlers__WEBPACK_IMPORTED_MODULE_3__.Z)({}).getPlanOffer,handlePlanOffer=function handlePlanOffer(){setIsLoading(!0),getPlanOffer({slug:planSlug,onOpenUpgrade}).finally((function(){return setIsLoading(!1)}))},buttonProps=function getStyles(){var _subscription$planOff;return"plan_financing"===(null==subscription?void 0:subscription.type)||"ACTIVE"!==status&&"FULLY_PAID"!==status?"FREE_TRIAL"===status||isPlanFinancingExpired&&null!=subscription&&null!==(_subscription$planOff=subscription.planOffer)&&void 0!==_subscription$planOff&&_subscription$planOff.pricing_exists?{text:t("subscription.upgrade"),style:{variant:"outline",color:"blue.default",borderColor:"currentColor",fontWeight:700}}:"CANCELLED"===status?{text:t("subscription.reactivate-subscription"),style:{variant:"default",color:"white",fontWeight:700},isComponent:!0,component:__jsx(_common_components_NextChakraLink__WEBPACK_IMPORTED_MODULE_2__.Z,{variant:"buttonDefault",justifyContent:"center",display:"inherit",href:"/checkout?plan=".concat(planSlug),textAlign:"center",margin:"auto 0 0 0"},t("subscription.reactivate-subscription"))}:{text:"",style:{display:"none"}}:{text:t("subscription.cancel"),style:{variant:"link"}}}();return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!isFullyPaid&&buttonProps.isComponent&&__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,null==buttonProps?void 0:buttonProps.component),!isFullyPaid&&!buttonProps.isComponent&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.z,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_6__.Z)({isLoading,onClick:function onClick(){isPlanFinancingExpired&&handlePlanOffer(),["FREE_TRIAL","PAYMENT_ISSUE"].includes(status)&&handlePlanOffer(),["ACTIVE","FULLY_PAID"].includes(status)&&"plan_financing"!==(null==subscription?void 0:subscription.type)&&onOpenCancelSubscription(),setSubscriptionProps(subscription)},color:"blue.default",margin:"auto 0 0 0"},buttonProps.style,restStyles),children||buttonProps.text))}ButtonHandler.propTypes={subscription:prop_types__WEBPACK_IMPORTED_MODULE_7___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_7___default().any])),onOpenUpgrade:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func,setSubscriptionProps:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func,onOpenCancelSubscription:prop_types__WEBPACK_IMPORTED_MODULE_7___default().func,restStyles:prop_types__WEBPACK_IMPORTED_MODULE_7___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_7___default().any])),children:prop_types__WEBPACK_IMPORTED_MODULE_7___default().node},ButtonHandler.defaultProps={subscription:{},onOpenUpgrade:function onOpenUpgrade(){},setSubscriptionProps:function setSubscriptionProps(){},onOpenCancelSubscription:function onOpenCancelSubscription(){},restStyles:{},children:null},ButtonHandler.__docgenInfo={description:"",methods:[],displayName:"ButtonHandler",props:{subscription:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},onOpenUpgrade:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},setSubscriptionProps:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onOpenCancelSubscription:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},restStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1}}};const __WEBPACK_DEFAULT_EXPORT__=ButtonHandler},"./src/js_modules/profile/Subscriptions/UpgradeModal.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-UUGUEMMH.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YLPWWAYV.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-OWW5MU75.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-66WFFNY3.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-MPFPK3CX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/router.js"),prop_types__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_14__),_common_components_Icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/common/components/Icon/index.jsx"),_common_components_ShowPrices__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/common/components/ShowPrices.jsx"),_common_components_Text__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/common/components/Text.jsx"),_common_hooks_useStyle__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/common/hooks/useStyle.js"),_utils_url__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/utils/url.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function UpgradeModal(_ref){var _offerProps$bullets,_offerProps$paymentOp2,upgradeModalIsOpen=_ref.upgradeModalIsOpen,setUpgradeModalIsOpen=_ref.setUpgradeModalIsOpen,subscriptionProps=_ref.subscriptionProps,offerProps=_ref.offerProps,_useStyle=(0,_common_hooks_useStyle__WEBPACK_IMPORTED_MODULE_7__.Z)(),lightColor=_useStyle.lightColor,modal=_useStyle.modal,t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__.Z)("profile").t,router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),isTotallyFree=!0===(null==offerProps?void 0:offerProps.isTotallyFree),upgradeLabel=function getUpgradeLabel(outOfConsumables){var status=null==subscriptionProps?void 0:subscriptionProps.status;return["ACTIVE, FULLY_PAID, FREE_TRIAL"].includes(status)&&outOfConsumables?{title:t("subscription.upgrade-modal.buy_mentorships"),description:""}:"FREE_TRIAL"===status?{title:t("subscription.upgrade-modal.upgrade_free_trial"),description:t("subscription.upgrade-modal.free_trial_description")}:{title:t("subscription.upgrade-modal.upgrade_access"),description:""}}(null==offerProps?void 0:offerProps.outOfConsumables);return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.u_,{isOpen:upgradeModalIsOpen,onClose:function onClose(){return setUpgradeModalIsOpen(!1)},size:isTotallyFree?"xl":"5xl"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.o,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.Z,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.h,{background:modal.background3},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.k,{padding:"32px",gridGap:"35px",flexDirection:{base:"column",lg:isTotallyFree?"column":"row"}},!isTotallyFree&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.k,{flex:.5,margin:"5rem 0 0 0",flexDirection:"column",gridGap:"16px",textAlign:"center"},__jsx(_common_components_Text__WEBPACK_IMPORTED_MODULE_5__.Z,{fontSize:"26px",color:"blue.default",fontWeight:"700",lineHeight:"31px"},upgradeLabel.title),upgradeLabel.description&&__jsx(_common_components_Text__WEBPACK_IMPORTED_MODULE_5__.Z,{fontSize:"21px",color:lightColor,fontWeight:"700",lineHeight:"25.2px"},upgradeLabel.description),(null==offerProps||null===(_offerProps$bullets=offerProps.bullets)||void 0===_offerProps$bullets?void 0:_offerProps$bullets.length)>0&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.xu,{as:"ul",style:{listStyle:"none"},display:"flex",flexDirection:"column",gridGap:"12px",margin:"10px 0 0 5px"},null==offerProps?void 0:offerProps.bullets.map((function(bullet){var _bullet$features$,_bullet$features$2;return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.xu,{as:"li",key:null==bullet||null===(_bullet$features$=bullet.features[0])||void 0===_bullet$features$?void 0:_bullet$features$.description,display:"flex",flexDirection:"row",lineHeight:"24px",gridGap:"8px"},__jsx(_common_components_Icon__WEBPACK_IMPORTED_MODULE_3__.Z,{icon:"checked2",color:"#38A56A",width:"13px",height:"10px",style:{margin:"8px 0 0 0"}}),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.xu,{fontSize:"14px",fontWeight:"600",letterSpacing:"0.05em",dangerouslySetInnerHTML:{__html:null==bullet?void 0:bullet.description}}),null==bullet||null===(_bullet$features$2=bullet.features[0])||void 0===_bullet$features$2?void 0:_bullet$features$2.description)})))),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.xu,{flex:.5},__jsx(_common_components_ShowPrices__WEBPACK_IMPORTED_MODULE_4__.Z,{title:null!=offerProps&&offerProps.outOfConsumables?t("subscription.upgrade-modal.choose_how_much"):t("subscription.upgrade-modal.choose_your_plan"),planSlug:null==offerProps?void 0:offerProps.slug,notReady:t("subscription.upgrade-modal.not_ready_to_commit"),defaultFinanceIndex:function getDefaultFinanceIndex(){var _offerProps$paymentOp,_offerProps$financing;return(null==offerProps||null===(_offerProps$paymentOp=offerProps.paymentOptions)||void 0===_offerProps$paymentOp?void 0:_offerProps$paymentOp.length)>0?0:(null==offerProps||null===(_offerProps$financing=offerProps.financingOptions)||void 0===_offerProps$financing?void 0:_offerProps$financing.length)>0?1:0}(),list:(null==offerProps||null===(_offerProps$paymentOp2=offerProps.paymentOptions)||void 0===_offerProps$paymentOp2?void 0:_offerProps$paymentOp2.length)>0?null==offerProps?void 0:offerProps.paymentOptions:null==offerProps?void 0:offerProps.consumableOptions,onePaymentLabel:t("subscription.upgrade-modal.one_payment"),financeTextLabel:t("subscription.upgrade-modal.finance"),handleUpgrade:function handleUpgrade(item){var _item$suggested_plan,_item$suggested_plan2,hasAvailableCohorts=null==item||null===(_item$suggested_plan=item.suggested_plan)||void 0===_item$suggested_plan?void 0:_item$suggested_plan.has_available_cohorts,period=null==item?void 0:item.period,querys=(0,_utils_url__WEBPACK_IMPORTED_MODULE_6__.A_)({plan:null==item||null===(_item$suggested_plan2=item.suggested_plan)||void 0===_item$suggested_plan2?void 0:_item$suggested_plan2.slug,plan_id:null==item?void 0:item.plan_id,has_available_cohorts:hasAvailableCohorts,price:null==item?void 0:item.price,period});router.push("/checkout".concat(querys))},finance:null==offerProps?void 0:offerProps.financingOptions,outOfConsumables:null==offerProps?void 0:offerProps.outOfConsumables,isTotallyFree})))))}UpgradeModal.displayName="UpgradeModal",UpgradeModal.propTypes={upgradeModalIsOpen:prop_types__WEBPACK_IMPORTED_MODULE_14___default().bool.isRequired,setUpgradeModalIsOpen:prop_types__WEBPACK_IMPORTED_MODULE_14___default().func.isRequired,subscriptionProps:prop_types__WEBPACK_IMPORTED_MODULE_14___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_14___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_14___default().any])).isRequired,offerProps:prop_types__WEBPACK_IMPORTED_MODULE_14___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_14___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_14___default().any])).isRequired},UpgradeModal.__docgenInfo={description:"",methods:[],displayName:"UpgradeModal",props:{upgradeModalIsOpen:{description:"",type:{name:"bool"},required:!0},setUpgradeModalIsOpen:{description:"",type:{name:"func"},required:!0},subscriptionProps:{description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!0},offerProps:{description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!0}}};const __WEBPACK_DEFAULT_EXPORT__=UpgradeModal},"./src/js_modules/profile/Subscriptions/handlers.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/toast/dist/chunk-ENIANY67.mjs"),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/router.js"),prop_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__),_common_hooks_useStyle__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/common/hooks/useStyle.js"),_common_services_breathecode__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/common/services/breathecode.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/index.js");function profileHandlers(){var t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__.Z)("profile").t,_useStyle=(0,_common_hooks_useStyle__WEBPACK_IMPORTED_MODULE_5__.Z)(),reverseFontColor=_useStyle.reverseFontColor,fontColor=_useStyle.fontColor,lightColor=_useStyle.lightColor,toast=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.p)(),router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),getPlanProps=function(){var _ref=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee(slug){var resp,data;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_common_services_breathecode__WEBPACK_IMPORTED_MODULE_3__.Z.payment().getPlanProps(encodeURIComponent(slug));case 2:return resp=_context.sent,_context.next=5,null==resp?void 0:resp.data;case 5:return data=_context.sent,_context.abrupt("return",data);case 7:case"end":return _context.stop()}}),_callee)})));return function getPlanProps(_x){return _ref.apply(this,arguments)}}();return{statusStyles:{free_trial:{color:fontColor,border:"1px solid",borderColor:lightColor},fully_paid:{color:"green.400",background:"green.light"},active:{color:"green.400",background:"green.light"},expired:{color:fontColor,background:"transparent",border:"1px solid"},payment_issue:{color:"danger",background:"red.light"},cancelled:{color:reverseFontColor,background:"gray.default"},completed:{color:"blue.default",border:"1px solid",borderColor:"blue.default"}},statusLabel:{free_trial:t("subscription.status.free_trial"),fully_paid:t("subscription.status.fully_paid"),active:t("subscription.status.active"),expired:t("subscription.status.expired"),payment_issue:t("subscription.status.payment_issue"),cancelled:t("subscription.status.cancelled"),completed:t("subscription.status.completed")},getLocaleDate:function getLocaleDate(date){return new Date(date).toLocaleDateString()},durationFormated:function durationFormated(format){var duration=null==format?void 0:format.duration,days=null==duration?void 0:duration.days,hours=null==duration?void 0:duration.hours,daysLabel=t("days"),dayLabel=t("day"),monthsLabel=t("months"),monthLabel=t("month"),andLabel=t("and"),hoursLabel=t("hours");return"expired"===format.status?t("expired"):(null==duration?void 0:duration.months)>0?"".concat(null==duration?void 0:duration.months," ").concat((null==duration?void 0:duration.months)<=1?monthLabel:monthsLabel):0===days&&hours>0?"".concat(hours,"h ").concat(andLabel," ").concat(null==duration?void 0:duration.minutes,"min"):days>7?"".concat(days," ").concat(daysLabel):days<=7&&hours<0?"".concat(days," ").concat(days>1?daysLabel:dayLabel," ").concat((null==duration?void 0:duration.hours)>0?"".concat(andLabel," ").concat(null==duration?void 0:duration.hours," ").concat(hoursLabel):""):null==format?void 0:format.formated},payUnitString:function payUnitString(payUnit){return"MONTH"===payUnit?t("monthly"):"HALF"===payUnit?t("half-year"):"QUARTER"===payUnit?t("quarterly"):"YEAR"===payUnit?t("yearly"):payUnit},getPlan:function getPlan(_ref2){var slug=_ref2.slug,_ref2$onOpenUpgrade=_ref2.onOpenUpgrade,onOpenUpgrade=void 0===_ref2$onOpenUpgrade?function(){}:_ref2$onOpenUpgrade,_ref2$disableRedirect=_ref2.disableRedirects,disableRedirects=void 0!==_ref2$disableRedirect&&_ref2$disableRedirect;return new Promise((function(resolve,reject){_common_services_breathecode__WEBPACK_IMPORTED_MODULE_3__.Z.payment().getPlan(encodeURIComponent(slug)).then(function(){var _ref3=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee2(res){var data,bullets,outOfConsumables,_planData$financing_o,_planData$financing_o2,_planData$financing_o3,planData,existsAmountPerHalf,existsAmountPerMonth,existsAmountPerQuarter,existsAmountPerYear,isNotTrial,financingOptionsExists,financingOptionsManyMonthsExists,financingOptionsOnePaymentExists,isTotallyFree,financingOptionsManyMonths,financingOptionsOnePayment,getTrialLabel,onePaymentFinancing,trialPlan,monthPlan,yearPlan,financingOption,paymentList,financingList,finalData;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data=null==res?void 0:res.data,_context2.next=3,getPlanProps(slug);case 3:bullets=_context2.sent,outOfConsumables=null==data?void 0:data.service_items.some((function(item){return 0===(null==item?void 0:item.how_many)})),data&&null!=data&&data.slug?(planData=data,existsAmountPerHalf=(null==data?void 0:data.amount_per_half)>0||(null==data?void 0:data.price_per_half)>0,existsAmountPerMonth=(null==data?void 0:data.amount_per_month)>0||(null==data?void 0:data.price_per_month)>0,existsAmountPerQuarter=(null==data?void 0:data.amount_per_quarter)>0||(null==data?void 0:data.price_per_quarter)>0,existsAmountPerYear=(null==data?void 0:data.amount_per_year)>0||(null==data?void 0:data.price_per_year)>0,isNotTrial=existsAmountPerHalf||existsAmountPerMonth||existsAmountPerQuarter||existsAmountPerYear,financingOptionsExists=(null==planData||null===(_planData$financing_o=planData.financing_options)||void 0===_planData$financing_o?void 0:_planData$financing_o.length)>0,financingOptionsManyMonthsExists=financingOptionsExists&&(null==planData||null===(_planData$financing_o2=planData.financing_options)||void 0===_planData$financing_o2?void 0:_planData$financing_o2.some((function(l){return(null==l?void 0:l.monthly_price)>0&&(null==l?void 0:l.how_many_months)>1}))),financingOptionsOnePaymentExists=financingOptionsExists&&(null==planData||null===(_planData$financing_o3=planData.financing_options)||void 0===_planData$financing_o3?void 0:_planData$financing_o3.some((function(l){return(null==l?void 0:l.monthly_price)>0&&1===(null==l?void 0:l.how_many_months)}))),isTotallyFree=!isNotTrial&&0===(null==planData?void 0:planData.trial_duration)&&!financingOptionsExists,financingOptionsManyMonths=financingOptionsManyMonthsExists?null==planData?void 0:planData.financing_options.filter((function(l){return(null==l?void 0:l.monthly_price)>0&&(null==l?void 0:l.how_many_months)>1})).sort((function(a,b){return(null==a?void 0:a.monthly_price)-(null==b?void 0:b.monthly_price)})):[],financingOptionsOnePayment=financingOptionsOnePaymentExists?null==planData?void 0:planData.financing_options.filter((function(l){return(null==l?void 0:l.monthly_price)>0&&1===(null==l?void 0:l.how_many_months)})).sort((function(a,b){return(null==a?void 0:a.monthly_price)-(null==b?void 0:b.monthly_price)})):[],getTrialLabel=function getTrialLabel(){if(isTotallyFree)return{priceText:t("subscription.upgrade-modal.free-course"),description:t("subscription.upgrade-modal.full_access")};if("WEEK"===(null==planData?void 0:planData.trial_duration_unit)){var weekDays=7*(null==planData?void 0:planData.trial_duration);return{priceText:"".concat(t("subscription.upgrade-modal.duration_days",{duration:weekDays})," ").concat(t("subscription.upgrade-modal.connector_duration_trial")),description:"".concat(t("subscription.upgrade-modal.no_card_needed")," ").concat(t("subscription.upgrade-modal.duration_days",{duration:weekDays}))}}return"DAY"===(null==planData?void 0:planData.trial_duration_unit)?{priceText:"".concat(t("subscription.upgrade-modal.duration_days",{duration:null==planData?void 0:planData.trial_duration})," ").concat(t("subscription.upgrade-modal.connector_duration_trial")),description:"".concat(t("subscription.upgrade-modal.no_card_needed")," ").concat(t("subscription.upgrade-modal.duration_days",{duration:null==planData?void 0:planData.trial_duration}))}:"MONTH"===(null==planData?void 0:planData.trial_duration_unit)?{priceText:"".concat(null==planData?void 0:planData.trial_duration," month trial"),description:"".concat(t("subscription.upgrade-modal.no_card_needed")," ").concat(t("subscription.upgrade-modal.duration_month",{duration:null==planData?void 0:planData.trial_duration}))}:{priceText:t("subscription.upgrade-modal.free_trial"),description:""}},onePaymentFinancing=financingOptionsOnePaymentExists?financingOptionsOnePayment.map((function(item){return{title:t("subscription.upgrade-modal.one_payment"),price:null==item?void 0:item.monthly_price,priceText:"$".concat(null==item?void 0:item.monthly_price),period:"FINANCING",description:t("subscription.upgrade-modal.full_access"),plan_id:"f-".concat(null==item?void 0:item.monthly_price,"-").concat(null==item?void 0:item.how_many_months),how_many_months:null==item?void 0:item.how_many_months,suggested_plan:planData,type:"PAYMENT",show:!0}})):[],trialPlan=financingOptionsExists||isNotTrial?{}:{title:t("subscription.upgrade-modal.free_trial"),price:0,priceText:getTrialLabel().priceText,trialDuration:null==planData?void 0:planData.trial_duration,period:null==planData?void 0:planData.trial_duration_unit,description:getTrialLabel().description,plan_id:"p-".concat(null==planData?void 0:planData.trial_duration,"-trial"),suggested_plan:planData,type:isTotallyFree?"FREE":"TRIAL",isFreeTier:!0,show:!0},monthPlan=!financingOptionsOnePaymentExists&&existsAmountPerMonth?[{title:t("subscription.upgrade-modal.monthly_payment"),price:null==planData?void 0:planData.price_per_month,priceText:"$".concat(null==planData?void 0:planData.price_per_month),period:"MONTH",description:t("subscription.upgrade-modal.full_access"),plan_id:"p-".concat(null==planData?void 0:planData.price_per_month),suggested_plan:planData,type:"PAYMENT",show:!0}]:onePaymentFinancing,yearPlan=existsAmountPerYear?{title:t("subscription.upgrade-modal.yearly_payment"),price:null==planData?void 0:planData.price_per_year,priceText:"$".concat(null==planData?void 0:planData.price_per_year),period:"YEAR",description:t("subscription.upgrade-modal.full_access"),plan_id:"p-".concat(null==planData?void 0:planData.price_per_year),suggested_plan:planData,type:"PAYMENT",show:!0}:{},financingOption=financingOptionsManyMonthsExists?financingOptionsManyMonths.map((function(item){return{title:t("subscription.upgrade-modal.many_months_payment",{qty:null==item?void 0:item.how_many_months}),price:null==item?void 0:item.monthly_price,priceText:"$".concat(null==item?void 0:item.monthly_price," x ").concat(null==item?void 0:item.how_many_months),period:"FINANCING",description:t("subscription.upgrade-modal.many_months_description",{monthly_price:null==item?void 0:item.monthly_price,many_months:null==item?void 0:item.how_many_months}),plan_id:"f-".concat(null==item?void 0:item.monthly_price,"-").concat(null==item?void 0:item.how_many_months),how_many_months:null==item?void 0:item.how_many_months,suggested_plan:planData,type:"PAYMENT",show:!0}})):[],paymentList=[].concat((0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_8__.Z)(monthPlan),[yearPlan,trialPlan]).filter((function(plan){return Object.keys(plan).length>0})),financingList=null==financingOption?void 0:financingOption.filter((function(plan){return Object.keys(plan).length>0})),finalData={title:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.fp)((0,_utils__WEBPACK_IMPORTED_MODULE_4__.A$)(String(null==planData?void 0:planData.slug))),slug:null==planData?void 0:planData.slug,isTotallyFree,details:null==planData?void 0:planData.details,expires_at:null==planData?void 0:planData.expires_at,pricing_exists:isNotTrial||financingOptionsExists,paymentOptions:paymentList,financingOptions:financingList,outOfConsumables,consumableOptions:[],bullets},resolve(finalData),null!=data&&data.show_modal&&!disableRedirects&&onOpenUpgrade(finalData),!1===(null==data?void 0:data.show_modal)&&planData&&!disableRedirects&&router.push("/checkout?plan=".concat(null==planData?void 0:planData.slug))):(toast({position:"top",title:t("alert-message:error-getting-plan"),status:"error",duration:5e3,isClosable:!0}),resolve({}));case 6:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref3.apply(this,arguments)}}()).catch((function(){reject(),toast({position:"top",title:t("alert-message:error-getting-plan"),status:"error",duration:5e3,isClosable:!0})}))}))},getPlanOffer:function getPlanOffer(_ref4){var slug=_ref4.slug,_ref4$onOpenUpgrade=_ref4.onOpenUpgrade,onOpenUpgrade=void 0===_ref4$onOpenUpgrade?function(){}:_ref4$onOpenUpgrade,_ref4$disableRedirect=_ref4.disableRedirects,disableRedirects=void 0!==_ref4$disableRedirect&&_ref4$disableRedirect,_ref4$withCurrentPlan=_ref4.withCurrentPlan,withCurrentPlan=void 0!==_ref4$withCurrentPlan&&_ref4$withCurrentPlan;return new Promise((function(resolve,reject){_common_services_breathecode__WEBPACK_IMPORTED_MODULE_3__.Z.payment({original_plan:slug}).planOffer().then(function(){var _ref5=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_7__.Z)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function _callee3(res){var data,currentOffer,currentSuggestedPlan,_currentOffer$origina,_offerData$financing_,_offerData$financing_2,_offerData$financing_3,offerData,bullets,outOfConsumables,existsAmountPerHalf,existsAmountPerMonth,existsAmountPerQuarter,existsAmountPerYear,isNotTrial,financingOptionsExists,financingOptionsManyMonthsExists,financingOptionsOnePaymentExists,_isTotallyFree,financingOptionsManyMonths,financingOptionsOnePayment,getTrialLabel,onePaymentFinancing,trialPlan,monthPlan,yearPlan,financingOption,paymentList,financingList,finalData;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(data=null==res?void 0:res.data,currentOffer=data.find((function(item){var _item$original_plan;return(null==item||null===(_item$original_plan=item.original_plan)||void 0===_item$original_plan?void 0:_item$original_plan.slug)===slug})),currentSuggestedPlan=withCurrentPlan?null==currentOffer?void 0:currentOffer.original_plan:null==currentOffer?void 0:currentOffer.suggested_plan,!currentOffer||null==currentSuggestedPlan||!currentSuggestedPlan.slug){_context3.next=34;break}return offerData=currentSuggestedPlan,_context3.next=7,getPlanProps(null==offerData?void 0:offerData.slug);case 7:bullets=_context3.sent,outOfConsumables=null==currentOffer||null===(_currentOffer$origina=currentOffer.original_plan)||void 0===_currentOffer$origina?void 0:_currentOffer$origina.service_items.some((function(item){return 0===(null==item?void 0:item.how_many)})),existsAmountPerHalf=(null==offerData?void 0:offerData.price_per_half)>0,existsAmountPerMonth=(null==offerData?void 0:offerData.price_per_month)>0,existsAmountPerQuarter=(null==offerData?void 0:offerData.price_per_quarter)>0,existsAmountPerYear=(null==offerData?void 0:offerData.price_per_year)>0,isNotTrial=existsAmountPerHalf||existsAmountPerMonth||existsAmountPerQuarter||existsAmountPerYear,financingOptionsExists=(null==offerData||null===(_offerData$financing_=offerData.financing_options)||void 0===_offerData$financing_?void 0:_offerData$financing_.length)>0,financingOptionsManyMonthsExists=financingOptionsExists&&(null==offerData||null===(_offerData$financing_2=offerData.financing_options)||void 0===_offerData$financing_2?void 0:_offerData$financing_2.some((function(l){return(null==l?void 0:l.monthly_price)>0&&(null==l?void 0:l.how_many_months)>1}))),financingOptionsOnePaymentExists=financingOptionsExists&&(null==offerData||null===(_offerData$financing_3=offerData.financing_options)||void 0===_offerData$financing_3?void 0:_offerData$financing_3.some((function(l){return(null==l?void 0:l.monthly_price)>0&&1===(null==l?void 0:l.how_many_months)}))),_isTotallyFree=!isNotTrial&&0===(null==offerData?void 0:offerData.trial_duration)&&!financingOptionsExists,financingOptionsManyMonths=financingOptionsManyMonthsExists?null==offerData?void 0:offerData.financing_options.filter((function(l){return(null==l?void 0:l.monthly_price)>0&&(null==l?void 0:l.how_many_months)>1})).sort((function(a,b){return(null==a?void 0:a.monthly_price)-(null==b?void 0:b.monthly_price)})):[],financingOptionsOnePayment=financingOptionsOnePaymentExists?null==offerData?void 0:offerData.financing_options.filter((function(l){return(null==l?void 0:l.monthly_price)>0&&1===(null==l?void 0:l.how_many_months)})).sort((function(a,b){return(null==a?void 0:a.monthly_price)-(null==b?void 0:b.monthly_price)})):[],getTrialLabel=function getTrialLabel(){if(_isTotallyFree)return{priceText:t("subscription.upgrade-modal.free-course"),description:t("subscription.upgrade-modal.full_access")};if("WEEK"===(null==offerData?void 0:offerData.trial_duration_unit)){var weekDays=7*(null==offerData?void 0:offerData.trial_duration);return{priceText:"".concat(t("subscription.upgrade-modal.duration_days",{duration:weekDays})," ").concat(t("subscription.upgrade-modal.connector_duration_trial")),description:"".concat(t("subscription.upgrade-modal.no_card_needed")," ").concat(t("subscription.upgrade-modal.duration_days",{duration:weekDays}))}}return"DAY"===(null==offerData?void 0:offerData.trial_duration_unit)?{priceText:"".concat(t("subscription.upgrade-modal.duration_days",{duration:null==offerData?void 0:offerData.trial_duration})," ").concat(t("subscription.upgrade-modal.connector_duration_trial")),description:"".concat(t("subscription.upgrade-modal.no_card_needed")," ").concat(t("subscription.upgrade-modal.duration_days",{duration:null==offerData?void 0:offerData.trial_duration}))}:"MONTH"===(null==offerData?void 0:offerData.trial_duration_unit)?{priceText:"".concat(null==offerData?void 0:offerData.trial_duration," month trial"),description:"".concat(t("subscription.upgrade-modal.no_card_needed")," ").concat(t("subscription.upgrade-modal.duration_month",{duration:null==offerData?void 0:offerData.trial_duration}))}:{priceText:t("subscription.upgrade-modal.free_trial"),description:""}},onePaymentFinancing=financingOptionsOnePaymentExists?financingOptionsOnePayment.map((function(item){return{title:t("subscription.upgrade-modal.one_payment"),price:null==item?void 0:item.monthly_price,priceText:"$".concat(null==item?void 0:item.monthly_price),period:"FINANCING",description:t("subscription.upgrade-modal.full_access"),plan_id:"f-".concat(null==item?void 0:item.monthly_price,"-").concat(null==item?void 0:item.how_many_months),how_many_months:null==item?void 0:item.how_many_months,suggested_plan:offerData,type:"PAYMENT",show:!0}})):[],trialPlan=financingOptionsExists||isNotTrial?{}:{title:t("subscription.upgrade-modal.free_trial"),price:0,priceText:getTrialLabel().priceText,trialDuration:null==offerData?void 0:offerData.trial_duration,period:null==offerData?void 0:offerData.trial_duration_unit,description:getTrialLabel().description,plan_id:"p-".concat(null==offerData?void 0:offerData.trial_duration,"-trial"),suggested_plan:offerData,type:_isTotallyFree?"FREE":"TRIAL",isFreeTier:!0,show:!0},monthPlan=!financingOptionsOnePaymentExists&&existsAmountPerMonth?[{title:t("subscription.upgrade-modal.monthly_payment"),price:null==offerData?void 0:offerData.price_per_month,priceText:"$".concat(null==offerData?void 0:offerData.price_per_month),period:"MONTH",description:t("subscription.upgrade-modal.full_access"),plan_id:"p-".concat(null==offerData?void 0:offerData.price_per_month),suggested_plan:offerData,type:"PAYMENT",show:!0}]:onePaymentFinancing,yearPlan=existsAmountPerYear?{title:t("subscription.upgrade-modal.yearly_payment"),price:null==offerData?void 0:offerData.price_per_year,priceText:"$".concat(null==offerData?void 0:offerData.price_per_year),period:"YEAR",description:t("subscription.upgrade-modal.full_access"),plan_id:"p-".concat(null==offerData?void 0:offerData.price_per_year),suggested_plan:offerData,type:"PAYMENT",show:!0}:{},financingOption=financingOptionsManyMonthsExists?financingOptionsManyMonths.map((function(item){return{title:t("subscription.upgrade-modal.many_months_payment",{qty:null==item?void 0:item.how_many_months}),price:null==item?void 0:item.monthly_price,priceText:"$".concat(null==item?void 0:item.monthly_price," x ").concat(null==item?void 0:item.how_many_months),period:"FINANCING",description:t("subscription.upgrade-modal.many_months_description",{monthly_price:null==item?void 0:item.monthly_price,many_months:null==item?void 0:item.how_many_months}),plan_id:"f-".concat(null==item?void 0:item.monthly_price,"-").concat(null==item?void 0:item.how_many_months),how_many_months:null==item?void 0:item.how_many_months,suggested_plan:offerData,type:"PAYMENT",show:!0}})):[],paymentList=[].concat((0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_8__.Z)(monthPlan),[yearPlan,trialPlan]).filter((function(plan){return Object.keys(plan).length>0})),financingList=null==financingOption?void 0:financingOption.filter((function(plan){return Object.keys(plan).length>0})),finalData={title:(0,_utils__WEBPACK_IMPORTED_MODULE_4__.fp)((0,_utils__WEBPACK_IMPORTED_MODULE_4__.A$)(String(null==offerData?void 0:offerData.slug))),slug:null==offerData?void 0:offerData.slug,isTotallyFree:_isTotallyFree,details:null==offerData?void 0:offerData.details,expires_at:null==offerData?void 0:offerData.expires_at,show_modal:null==currentOffer?void 0:currentOffer.show_modal,pricing_exists:isNotTrial||financingOptionsExists,paymentOptions:paymentList,financingOptions:financingList,outOfConsumables,consumableOptions:[],bullets},resolve(finalData),null!=currentOffer&&currentOffer.show_modal&&!disableRedirects&&onOpenUpgrade(finalData),!1===(null==currentOffer?void 0:currentOffer.show_modal)&&offerData&&!disableRedirects&&router.push("/checkout?plan=".concat(null==offerData?void 0:offerData.slug)),_context3.next=35;break;case 34:resolve({status:"error-getting-plan-offer"});case 35:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref5.apply(this,arguments)}}()).catch((function(){reject(),toast({position:"top",title:t("alert-message:error-getting-offer"),status:"error",duration:5e3,isClosable:!0})}))}))}}}profileHandlers.propTypes={translations:prop_types__WEBPACK_IMPORTED_MODULE_9___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default().any]))},profileHandlers.defaultProps={translations:{}};const __WEBPACK_DEFAULT_EXPORT__=profileHandlers}}]);
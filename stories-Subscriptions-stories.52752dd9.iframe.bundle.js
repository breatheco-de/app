"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9435],{"./src/components/AvatarUser.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/media-query/dist/chunk-MG6WC47T.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-4OGHDZEB.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-3O5UWOX6.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-CRIDK7KT.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@chakra-ui/avatar/dist/chunk-WPAIWTI3.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-KVBLLJMP.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-BYOOQOH2.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-6YK4VVQO.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-3JH7ZFSI.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),prop_types__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_19__),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),next_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next/router.js"),date_fns_locale__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/esm/locale/es/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),_Heading__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Heading.jsx"),_Text__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Text.jsx"),_hooks_useCohortHandler__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/hooks/useCohortHandler.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,AvatarUser=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(function(_ref){var _user$profile,_user$github,_data$role,data=_ref.data,fullName=_ref.fullName,isTeacherVersion=_ref.isTeacherVersion,containerStyle=_ref.containerStyle,width=_ref.width,height=_ref.height,customBadge=_ref.customBadge,isWrapped=_ref.isWrapped,index=_ref.index,withoutPopover=_ref.withoutPopover,avatarUrl=_ref.avatarUrl,user=data.user,t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__.A)("dashboard").t,fullNameLabel=fullName||"".concat(null==user?void 0:user.first_name," ").concat(null==user?void 0:user.last_name),router=(0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)(),cohortSession=(0,_hooks_useCohortHandler__WEBPACK_IMPORTED_MODULE_5__.A)().state.cohortSession,_useMediaQuery=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.U)("(max-width: 768px)"),isBelowTablet=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_7__.A)(_useMediaQuery,1)[0],dateFormated={en:(null==data?void 0:data.created_at)&&(0,date_fns__WEBPACK_IMPORTED_MODULE_8__.A)(new Date(null==data?void 0:data.created_at),"MMMM dd, yyyy"),es:(null==data?void 0:data.created_at)&&(0,date_fns__WEBPACK_IMPORTED_MODULE_8__.A)(new Date(null==data?void 0:data.created_at),"dd 'de' MMMM, yyyy",{locale:date_fns_locale__WEBPACK_IMPORTED_MODULE_9__.A})},cohortSlug=router.query.cohortSlug,roles={teacher:t("common:teacher"),assistant:t("common:assistant"),student:t("common:student"),member:t("common:member")},placementCard=isBelowTablet?"auto":"left-end",avatar=(null==user||null===(_user$profile=user.profile)||void 0===_user$profile?void 0:_user$profile.avatar_url)||(null==user||null===(_user$github=user.github)||void 0===_user$github?void 0:_user$github.avatar_url)||avatarUrl;return withoutPopover?__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.Q,{as:"div","aria-expanded":!1,justifyContent:"center",alignItems:"center",style:containerStyle},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.e,{id:fullNameLabel,width,height,style:{userSelect:"none"},onClick:function onClick(){var _cohortSession$academ2;isTeacherVersion&&null!=user&&user.id&&null!=cohortSession&&null!==(_cohortSession$academ2=cohortSession.academy)&&void 0!==_cohortSession$academ2&&_cohortSession$academ2.id&&router.push("/cohort/".concat(cohortSlug,"/student/").concat(null==user?void 0:user.id,"?academy=").concat(cohortSession.academy.id))},cursor:isTeacherVersion?"pointer":"default",title:fullNameLabel,src:avatar,marginLeft:isWrapped?"-10px":"0px",zIndex:index},customBadge&&customBadge)):__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.A,{trigger:"hover",key:fullNameLabel,placement:placementCard},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.W,null,__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.Q,{as:"div","aria-expanded":!1,justifyContent:"center",alignItems:"center",style:containerStyle},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.e,{id:fullNameLabel,width,height,style:{userSelect:"none"},onClick:function onClick(){var _cohortSession$academ;isTeacherVersion&&null!=user&&user.id&&null!=cohortSession&&null!==(_cohortSession$academ=cohortSession.academy)&&void 0!==_cohortSession$academ&&_cohortSession$academ.id&&router.push("/cohort/".concat(cohortSlug,"/student/").concat(null==user?void 0:user.id,"?academy=").concat(cohortSession.academy.id))},cursor:isTeacherVersion?"pointer":"default",title:fullNameLabel,src:avatar,marginLeft:isWrapped?"-10px":"0px",zIndex:index,alt:"".concat(fullNameLabel," - image")},customBadge&&customBadge))),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.h,{display:{base:"none",md:"block"},minWidth:{base:"none",md:null!=data&&data.role?"320px":""},width:null!=data&&data.role?"100%":"auto",pr:!(null!=data&&data.role)&&"20px"},(null==data?void 0:data.role)&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.D,null,__jsx(_Heading__WEBPACK_IMPORTED_MODULE_3__.A,{size:"15px",fontWeight:"semibold",textTransform:"uppercase",py:"4px",px:"8px",dangerouslySetInnerHTML:{__html:"".concat(roles[null==data||null===(_data$role=data.role)||void 0===_data$role?void 0:_data$role.toLowerCase()]||"member")}})),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.R,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__.e,{className:"popover-bg-color",display:"flex",flexDirection:"row",gridGap:"15px",my:"8px"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.e,{id:fullNameLabel,width:null!=data&&data.role?"95px":"38px",height:null!=data&&data.role?"95px":"38px",style:{userSelect:"none"},src:avatar}),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_18__.az,{display:"flex",flexDirection:"column",justifyContent:"center",gridGap:"10px",height:"auto"},__jsx(_Heading__WEBPACK_IMPORTED_MODULE_3__.A,{size:"15px"},fullNameLabel),(null==data?void 0:data.role)&&__jsx(_Text__WEBPACK_IMPORTED_MODULE_4__.A,{size:"sm",fontWeight:"400"},t("dashboard:member-since",{role:roles[data.role.toLowerCase()]||"member",date:dateFormated[null==router?void 0:router.locale]}))))))});AvatarUser.propTypes={data:prop_types__WEBPACK_IMPORTED_MODULE_19___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_19___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_19___default().any])).isRequired,fullName:prop_types__WEBPACK_IMPORTED_MODULE_19___default().string,containerStyle:prop_types__WEBPACK_IMPORTED_MODULE_19___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_19___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_19___default().any])),width:prop_types__WEBPACK_IMPORTED_MODULE_19___default().string,height:prop_types__WEBPACK_IMPORTED_MODULE_19___default().string,customBadge:prop_types__WEBPACK_IMPORTED_MODULE_19___default().node,isWrapped:prop_types__WEBPACK_IMPORTED_MODULE_19___default().bool,index:prop_types__WEBPACK_IMPORTED_MODULE_19___default().number,withoutPopover:prop_types__WEBPACK_IMPORTED_MODULE_19___default().bool,avatarUrl:prop_types__WEBPACK_IMPORTED_MODULE_19___default().string,isTeacherVersion:prop_types__WEBPACK_IMPORTED_MODULE_19___default().bool},AvatarUser.defaultProps={fullName:"",containerStyle:{},width:"39px",height:"39px",customBadge:null,isWrapped:!1,index:0,withoutPopover:!1,avatarUrl:"",isTeacherVersion:!1};const __WEBPACK_DEFAULT_EXPORT__=AvatarUser;AvatarUser.__docgenInfo={description:"",methods:[],displayName:"AvatarUser",props:{fullName:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},containerStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},width:{defaultValue:{value:"'39px'",computed:!1},description:"",type:{name:"string"},required:!1},height:{defaultValue:{value:"'39px'",computed:!1},description:"",type:{name:"string"},required:!1},customBadge:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},isWrapped:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},index:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},withoutPopover:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},avatarUrl:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},isTeacherVersion:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},data:{description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!0}}}},"./src/components/Image.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),next_image__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__),_excluded=["src","alt","objectFit","layout","quality","priority","classNameImg","styleImg"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Image(props){var src=props.src,alt=props.alt,objectFit=props.objectFit,layout=props.layout,quality=props.quality,classNameImg=(props.priority,props.classNameImg),styleImg=props.styleImg,rest=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.A)(props,_excluded);return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.az,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_5__.A)({position:"relative"},rest),__jsx(next_image__WEBPACK_IMPORTED_MODULE_2__.A,{className:classNameImg,quality,src,alt,width:rest.width,height:rest.height,style:_objectSpread(_objectSpread({},styleImg),{},{objectFit,fill:layout})}))}Image.displayName="Image",Image.propTypes={src:prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,prop_types__WEBPACK_IMPORTED_MODULE_6___default().object]),alt:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string.isRequired,quality:prop_types__WEBPACK_IMPORTED_MODULE_6___default().number,layout:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,priority:prop_types__WEBPACK_IMPORTED_MODULE_6___default().bool,objectFit:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,classNameImg:prop_types__WEBPACK_IMPORTED_MODULE_6___default().string,styleImg:prop_types__WEBPACK_IMPORTED_MODULE_6___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_6___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_6___default().any]))},Image.defaultProps={src:"/static/images/code1.png",quality:100,layout:"fill",priority:!1,objectFit:"cover",classNameImg:"",styleImg:{}};const __WEBPACK_DEFAULT_EXPORT__=Image;Image.__docgenInfo={description:"",methods:[],displayName:"Image",props:{src:{defaultValue:{value:"'/static/images/code1.png'",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1},quality:{defaultValue:{value:"100",computed:!1},description:"",type:{name:"number"},required:!1},layout:{defaultValue:{value:"'fill'",computed:!1},description:"",type:{name:"string"},required:!1},priority:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},objectFit:{defaultValue:{value:"'cover'",computed:!1},description:"",type:{name:"string"},required:!1},classNameImg:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},styleImg:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},alt:{description:"",type:{name:"string"},required:!0}}}},"./src/components/Profile/Subscriptions/SubsriptionButton.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),prop_types__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__),next_router__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/next/router.js"),_hooks_useSubscriptions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useSubscriptions.js"),_hooks_useSignup__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/hooks/useSignup.js"),_hooks_useCustomToast__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/hooks/useCustomToast.jsx"),_utils_requests__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/utils/requests.js"),_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/utils/index.js"),_excluded=["subscription","setSubscriptionProps","onOpenCancelSubscription","children","allSubscriptions"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function SubsriptionButton(_ref){var _subscription$plans,_subscription$status,subscription=_ref.subscription,setSubscriptionProps=_ref.setSubscriptionProps,onOpenCancelSubscription=_ref.onOpenCancelSubscription,children=_ref.children,allSubscriptions=_ref.allSubscriptions,restStyles=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_9__.A)(_ref,_excluded),t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_2__.A)("profile").t,createToast=(0,_hooks_useCustomToast__WEBPACK_IMPORTED_MODULE_6__.A)({toastId:"subscription-button"}).createToast,status=null==subscription?void 0:subscription.status,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),isLoading=_useState[0],setIsLoading=_useState[1],router=(0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)(),planSlug=null==subscription||null===(_subscription$plans=subscription.plans)||void 0===_subscription$plans||null===(_subscription$plans=_subscription$plans[0])||void 0===_subscription$plans?void 0:_subscription$plans.slug,isPlanFinancingExpired="plan_financing"===(null==subscription?void 0:subscription.type)&&(null==subscription?void 0:subscription.valid_until)<(new Date).toISOString(),planOfferedAcquired=null==allSubscriptions?void 0:allSubscriptions.some(function(sub){return sub.plans.some(function(plan){var _subscription$planOff;return plan.slug===(null==subscription||null===(_subscription$planOff=subscription.planOffer)||void 0===_subscription$planOff?void 0:_subscription$planOff.slug)})}),isFreeTrial="FREE_TRIAL"===status,isActive="ACTIVE"===status,isFullyPaid="fully_paid"===(null==subscription||null===(_subscription$status=subscription.status)||void 0===_subscription$status?void 0:_subscription$status.toLowerCase()),isError="ERROR"===status,isCancelled="CANCELLED"===status,isExpired="EXPIRED"===status,isPaymentIssue="PAYMENT_ISSUE"===status,getPlanOffer=(0,_hooks_useSubscriptions__WEBPACK_IMPORTED_MODULE_4__.A)().getPlanOffer,reactivatePlan=(0,_hooks_useSignup__WEBPACK_IMPORTED_MODULE_5__.A)().reactivatePlan,handlePlanOffer=function(){var _ref2=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_10__.A)(_home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee(){var planOffer;return _home_runner_work_app_app_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setIsLoading(!0),_context.next=1,getPlanOffer(planSlug);case 1:planOffer=_context.sent,router.push("/checkout?plan=".concat(planOffer.suggested_plan.slug)),_context.next=3;break;case 2:_context.prev=2,_context.catch(0),createToast({position:"top",title:t("alert-message:error-getting-offer"),status:"error",duration:5e3,isClosable:!0});case 3:return _context.prev=3,setIsLoading(!1),_context.finish(3);case 4:case"end":return _context.stop()}},_callee,null,[[0,2,3,4]])}));return function handlePlanOffer(){return _ref2.apply(this,arguments)}}(),handleReactivatePlan=function handleReactivatePlan(){setIsLoading(!0),reactivatePlan(planSlug,status)},manageActionBasedOnLocation=function manageActionBasedOnLocation(){"/profile/[slug]"!==router.pathname?router.push("/profile/subscriptions"):(0,_utils_requests__WEBPACK_IMPORTED_MODULE_7__.A$)({dataLayer:{event:"chat_with_support",plan:planSlug,agent:(0,_utils__WEBPACK_IMPORTED_MODULE_8__.VK)()}})},buttonProps=function getStyles(){var _subscription$planOff2,_subscription$planOff3;return planOfferedAcquired&&(isFreeTrial||isFullyPaid)||planOfferedAcquired&&isActive?{text:"",style:{display:"none"}}:isFreeTrial||"plan_financing"!==(null==subscription?void 0:subscription.type)&&(isActive||isFullyPaid)&&null!=subscription&&null!==(_subscription$planOff2=subscription.planOffer)&&void 0!==_subscription$planOff2&&_subscription$planOff2.slug?{text:t("subscription.upgrade"),style:{variant:"outline",color:"blue.default",borderColor:"currentColor",fontWeight:700}}:"plan_financing"!==(null==subscription?void 0:subscription.type)&&(isActive||isFullyPaid)?{text:t("subscription.cancel"),style:{variant:"link"}}:isCancelled?{text:t("subscription.reactivate-subscription"),style:{variant:"default",color:"white",fontWeight:500}}:!(isPaymentIssue||isError||isExpired)||null!=subscription&&null!==(_subscription$planOff3=subscription.planOffer)&&void 0!==_subscription$planOff3&&_subscription$planOff3.slug?{text:"",style:{display:"none"}}:{text:t("subscription.contact-support"),isComponent:!0,component:__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,isPaymentIssue&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.$,{onClick:function onClick(){setSubscriptionProps(subscription),isCancelled?handleReactivatePlan():onOpenCancelSubscription()},marginTop:"5px",textAlign:"center",userSelect:"none",justifyContent:"center",fontSize:"sm",fontWeight:700,color:"blue.1000",width:"100%",_hover:"none",_active:"none",background:"auto",height:"none"},t(isCancelled?"subscription.reactivate-subscription":"subscription.cancel")),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.$,{onClick:manageActionBasedOnLocation,marginTop:"5px",textAlign:"center",userSelect:"none",justifyContent:"center",fontSize:"sm",fontWeight:700,color:"blue.1000",width:"100%",_hover:"none",_active:"none",background:"auto",height:"none"},"/profile/[slug]"===router.pathname?t("subscription.contact-support"):t("subscription.manage-subscription")))}}();return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!isFullyPaid&&buttonProps.isComponent&&__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,null==buttonProps?void 0:buttonProps.component),!isFullyPaid&&!buttonProps.isComponent&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.$,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_12__.A)({isLoading,onClick:function onClick(){var _subscription$planOff4,_subscription$planOff5;setSubscriptionProps(subscription),isPlanFinancingExpired&&handlePlanOffer(),(["FREE_TRIAL","PAYMENT_ISSUE"].includes(status)||["ACTIVE","FULLY_PAID"].includes(status)&&null!=subscription&&null!==(_subscription$planOff4=subscription.planOffer)&&void 0!==_subscription$planOff4&&_subscription$planOff4.slug)&&handlePlanOffer(),!["ACTIVE","FULLY_PAID"].includes(status)||"plan_financing"===(null==subscription?void 0:subscription.type)||null!=subscription&&null!==(_subscription$planOff5=subscription.planOffer)&&void 0!==_subscription$planOff5&&_subscription$planOff5.slug||onOpenCancelSubscription(),["CANCELLED"].includes(status)&&handleReactivatePlan()},color:"blue.default",margin:"auto 0 0 0"},buttonProps.style,restStyles),children||buttonProps.text))}SubsriptionButton.propTypes={subscription:prop_types__WEBPACK_IMPORTED_MODULE_13___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_13___default().any])),setSubscriptionProps:prop_types__WEBPACK_IMPORTED_MODULE_13___default().func,onOpenCancelSubscription:prop_types__WEBPACK_IMPORTED_MODULE_13___default().func,restStyles:prop_types__WEBPACK_IMPORTED_MODULE_13___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_13___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_13___default().any])),children:prop_types__WEBPACK_IMPORTED_MODULE_13___default().node,allSubscriptions:prop_types__WEBPACK_IMPORTED_MODULE_13___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_13___default().objectOf([prop_types__WEBPACK_IMPORTED_MODULE_13___default().any]))},SubsriptionButton.defaultProps={subscription:{},setSubscriptionProps:function setSubscriptionProps(){},onOpenCancelSubscription:function onOpenCancelSubscription(){},restStyles:{},children:null,allSubscriptions:[]};const __WEBPACK_DEFAULT_EXPORT__=SubsriptionButton;SubsriptionButton.__docgenInfo={description:"",methods:[],displayName:"SubsriptionButton",props:{subscription:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},setSubscriptionProps:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},onOpenCancelSubscription:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},restStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},allSubscriptions:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"objectOf",value:{name:"custom",raw:"[PropTypes.any]"}}},required:!1}}}},"./src/components/SimpleModal/index.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-UUGUEMMH.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-OWW5MU75.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-66WFFNY3.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YBA5A33G.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YLPWWAYV.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-PVJ72NKC.mjs"),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_hooks_useStyle__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useStyle.js"),_excluded=["isOpen","title","size","leftButton","isCentered","children","onClose","bodyStyles","forceHandler","hideCloseButton","headerStyles","closeOnOverlayClick","onMouseUp","closeButtonStyles"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function SimpleModal(_ref){var isOpen=_ref.isOpen,title=_ref.title,size=_ref.size,leftButton=_ref.leftButton,isCentered=_ref.isCentered,children=_ref.children,onClose=_ref.onClose,bodyStyles=_ref.bodyStyles,forceHandler=_ref.forceHandler,hideCloseButton=_ref.hideCloseButton,headerStyles=_ref.headerStyles,closeOnOverlayClick=_ref.closeOnOverlayClick,onMouseUp=_ref.onMouseUp,closeButtonStyles=_ref.closeButtonStyles,rest=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.A)(_ref,_excluded),_useStyle=(0,_hooks_useStyle__WEBPACK_IMPORTED_MODULE_1__.A)(),modal=_useStyle.modal,borderColor2=_useStyle.borderColor2;return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.aF,{size,isOpen,isCentered,onClose:function closeHandler(){forceHandler||onClose()},closeOnOverlayClick},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.m,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.az,{onMouseUp},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.$,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__.A)({background:modal.background2,style:{marginTop:isCentered?"":"10vh"}},rest),leftButton&&leftButton,title&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.r,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_7__.A)({borderBottom:1,borderStyle:"solid",borderColor:borderColor2},headerStyles),title),!hideCloseButton&&!forceHandler&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.s,closeButtonStyles),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.c,bodyStyles,children))))}SimpleModal.displayName="SimpleModal",SimpleModal.propTypes={isOpen:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool.isRequired,title:prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().node]),size:prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node.isRequired,onClose:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,bodyStyles:prop_types__WEBPACK_IMPORTED_MODULE_11___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().any])),forceHandler:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,hideCloseButton:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,headerStyles:prop_types__WEBPACK_IMPORTED_MODULE_11___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().number])),closeOnOverlayClick:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,onMouseUp:prop_types__WEBPACK_IMPORTED_MODULE_11___default().func,isCentered:prop_types__WEBPACK_IMPORTED_MODULE_11___default().bool,leftButton:prop_types__WEBPACK_IMPORTED_MODULE_11___default().node,closeButtonStyles:prop_types__WEBPACK_IMPORTED_MODULE_11___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_11___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default().string,prop_types__WEBPACK_IMPORTED_MODULE_11___default().number]))},SimpleModal.defaultProps={title:"",size:null,bodyStyles:{},forceHandler:!1,hideCloseButton:!1,onClose:function onClose(){},headerStyles:{},closeOnOverlayClick:!0,onMouseUp:function onMouseUp(){},isCentered:!1,leftButton:null,closeButtonStyles:{}};const __WEBPACK_DEFAULT_EXPORT__=SimpleModal;SimpleModal.__docgenInfo={description:"",methods:[],displayName:"SimpleModal",props:{title:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"node"}]},required:!1},size:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},bodyStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},forceHandler:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},hideCloseButton:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onClose:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},headerStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"string"},{name:"number"}]}},required:!1},closeOnOverlayClick:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},onMouseUp:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},isCentered:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},leftButton:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},closeButtonStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"string"},{name:"number"}]}},required:!1},isOpen:{description:"",type:{name:"bool"},required:!0},children:{description:"",type:{name:"node"},required:!0}}}},"./src/stories/Subscriptions.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FullyPaid:()=>FullyPaid,PaymentIssue:()=>PaymentIssue,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Subscriptions_stories,isActive:()=>isActive,isCancelled:()=>isCancelled,isFreeTrial:()=>isFreeTrial,isPaymentUpToDate:()=>isPaymentUpToDate});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),chunk_6CSUKJP7=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),chunk_5FO2ZLZM=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-5FO2ZLZM.mjs"),useTranslation=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),head=__webpack_require__("./node_modules/next/head.js"),head_default=__webpack_require__.n(head),Text=__webpack_require__("./src/components/Text.jsx"),useStyle=__webpack_require__("./src/hooks/useStyle.js"),useSubscriptions=__webpack_require__("./src/hooks/useSubscriptions.js"),utils=__webpack_require__("./src/utils/index.js"),Skeleton=__webpack_require__("./src/components/Skeleton.jsx"),breathecode=__webpack_require__("./src/services/breathecode.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),chunk_MPFPK3CX=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-MPFPK3CX.mjs"),chunk_P74GIWPW=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-P74GIWPW.mjs"),Icon=__webpack_require__("./src/components/Icon/index.jsx"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),en_US=__webpack_require__("./node_modules/date-fns/esm/locale/en-US/index.js"),es=__webpack_require__("./node_modules/date-fns/esm/locale/es/index.js"),variables=__webpack_require__("./src/utils/variables.js");const handlers=function profileHandlers(){var _useTranslation=(0,useTranslation.A)("profile"),t=_useTranslation.t,lang=_useTranslation.lang,_useStyle=(0,useStyle.A)(),reverseFontColor=_useStyle.reverseFontColor,fontColor=_useStyle.fontColor,lightColor=_useStyle.lightColor,formatDate=function formatDate(date){if(!date)return"N/A";var parsedDate=new Date(date);return(0,format.A)(parsedDate,"dd MMM yy",{locale:"en"===lang||"us"===lang?en_US.A:es.A})};return{statusStyles:{free_trial:{color:fontColor,border:"1px solid",borderColor:lightColor},fully_paid:{color:"green.400",background:"green.light"},active:{color:"green.400",background:"green.light"},expired:{color:fontColor,background:"transparent",border:"1px solid"},error:{color:fontColor,background:"transparent",border:"1px solid"},payment_issue:{color:"danger",background:"red.light"},cancelled:{color:reverseFontColor,background:"gray.default"},completed:{color:"blue.default",border:"1px solid",borderColor:"blue.default"}},statusLabel:{free_trial:t("subscription.status.free_trial"),fully_paid:t("subscription.status.fully_paid"),active:t("subscription.status.active"),expired:t("subscription.status.expired"),payment_issue:t("subscription.status.payment_issue"),cancelled:t("subscription.status.cancelled"),completed:t("subscription.status.completed"),error:t("subscription.status.error")},getSubscriptionDetails:function getSubscriptionDetails(sub){var _sub$status,_sub$invoices,_sub$currency,_sub$invoices$,status=null==sub||null===(_sub$status=sub.status)||void 0===_sub$status?void 0:_sub$status.toLowerCase(),isPlanFinancing="plan_financing"===(null==sub?void 0:sub.type),fullFilledInvoicesAmount=null==sub||null===(_sub$invoices=sub.invoices)||void 0===_sub$invoices?void 0:_sub$invoices.filter(function(invo){return"FULFILLED"===invo.status}).length,isPlanFinancingFullyPaid=fullFilledInvoicesAmount===(null==sub?void 0:sub.how_many_installments),nextPaymentDate=formatDate(null==sub?void 0:sub.next_payment_at),expirationDate=formatDate((null==sub?void 0:sub.plan_expires_at)||(null==sub?void 0:sub.next_payment_at)),activeSince=formatDate(null==sub?void 0:sub.created_at),subCurrency=variables.tV[null==sub||null===(_sub$currency=sub.currency)||void 0===_sub$currency?void 0:_sub$currency.code]||"$",invoiceAmount=null==sub||null===(_sub$invoices$=sub.invoices[0])||void 0===_sub$invoices$?void 0:_sub$invoices$.amount,monthlyPrice=null==sub?void 0:sub.monthly_price,totalPrice=(null==sub?void 0:sub.how_many_installments)*monthlyPrice,payEveryUnit=null==sub?void 0:sub.pay_every_unit,statusMessage=null==sub?void 0:sub.status_message,paymentText=function paymentText(amount,date){return t("subscription.next-payment-with-price",{amount,date,currencySymbol:subCurrency})},renewalDateText=function renewalDateText(date){return t("subscription.renewal-date",{date})},expirationDateText=function expirationDateText(date){return t("subscription.expiration-date",{date})},expiredOnText=function expiredOnText(date){return t("subscription.expired-on",{date})},activeSinceText=function activeSinceText(date){return t("subscription.active-since",{date})},totallyPaidText=function totallyPaidText(amount){return t("subscription.totally-paid",{amount,currencySymbol:subCurrency})},totalPaidText=function totalPaidText(paidAmount,pendingAmount){return t("subscription.total-paid",{paidAmount,pendingAmount,currencySymbol:subCurrency})},paymentInfoText=function paymentInfoText(amount,unit){return!!amount&&t("subscription.payment",{payment:"".concat(subCurrency).concat(amount,"/").concat(t("signup:payment_unit_short.".concat(unit.toLowerCase())))})},errorMessageText=function errorMessageText(error){return t("subscription.error-message",{error:error||"Something went wrong"})},noPaymentsLeft=function noPaymentsLeft(){return t("subscription.no-payment-left")},statusConfig={fully_paid:function fully_paid(){return isPlanFinancing?{renewalDate:expirationDateText(expirationDate),paymentInfo:isPlanFinancingFullyPaid?totallyPaidText(fullFilledInvoicesAmount*monthlyPrice):totalPaidText(fullFilledInvoicesAmount*monthlyPrice,totalPrice),nextPayment:isPlanFinancingFullyPaid?noPaymentsLeft():paymentText(monthlyPrice,nextPaymentDate)}:{renewalDate:renewalDateText(nextPaymentDate),renewability:!!activeSince&&activeSinceText(activeSince),paymentInfo:0===invoiceAmount?t("subscription.payment",{payment:t("common:free")}):paymentInfoText(invoiceAmount,payEveryUnit)}},active:function active(){return isPlanFinancing?{renewalDate:expirationDateText(expirationDate),paymentInfo:isPlanFinancingFullyPaid?totallyPaidText(fullFilledInvoicesAmount*monthlyPrice):totalPaidText(fullFilledInvoicesAmount*monthlyPrice,totalPrice),nextPayment:isPlanFinancingFullyPaid?noPaymentsLeft():paymentText(monthlyPrice,nextPaymentDate)}:{renewalDate:renewalDateText(nextPaymentDate),renewability:!!activeSince&&activeSinceText(activeSince),paymentInfo:0===invoiceAmount?t("subscription.payment",{payment:t("common:free")}):paymentInfoText(invoiceAmount,payEveryUnit)}},expired:function expired(){return{renewalDate:expiredOnText(expirationDate),paymentInfo:isPlanFinancing?totallyPaidText(fullFilledInvoicesAmount*monthlyPrice):paymentInfoText(invoiceAmount,payEveryUnit)}},error:function error(){return{errorMessage:errorMessageText(statusMessage),paymentInfo:invoiceAmount?paymentInfoText(invoiceAmount,payEveryUnit):"Error"}},payment_issue:function payment_issue(){return isPlanFinancing?{renewalDate:expirationDateText(expirationDate),nextPayment:isPlanFinancingFullyPaid?noPaymentsLeft():paymentText(monthlyPrice,nextPaymentDate),paymentInfo:isPlanFinancingFullyPaid?totallyPaidText(monthlyPrice):totalPaidText(fullFilledInvoicesAmount*monthlyPrice,totalPrice)}:{errorMessage:errorMessageText(statusMessage),paymentInfo:paymentInfoText(invoiceAmount,payEveryUnit)}},cancelled:function cancelled(){return isPlanFinancing?{renewalDate:expirationDateText(expirationDate),nextPayment:isPlanFinancingFullyPaid?noPaymentsLeft():paymentText(monthlyPrice,nextPaymentDate),paymentInfo:isPlanFinancingFullyPaid?totallyPaidText(monthlyPrice):totalPaidText(fullFilledInvoicesAmount*monthlyPrice,totalPrice)}:{paymentInfo:paymentInfoText(invoiceAmount,payEveryUnit)}},free_trial:function free_trial(){return{renewalDate:renewalDateText(nextPaymentDate),renewability:!!activeSince&&activeSinceText(activeSince),paymentInfo:t("subscription.payment",{payment:t("common:free")})}}};return statusConfig[status]?statusConfig[status]():{renewalDate:"",paymentInfo:"",nextPayment:"",errorMessage:"",renewability:""}}}};var SubsriptionButton=__webpack_require__("./src/components/Profile/Subscriptions/SubsriptionButton.jsx"),__jsx=react.createElement;function SubscriptionInfo(_ref){var subscription=_ref.subscription,lang=(0,useTranslation.A)("profile").lang,_useStyle=(0,useStyle.A)(),backgroundColor3=_useStyle.backgroundColor3,blueDefault=_useStyle.hexColor.blueDefault,_getSubscriptionDetai=(0,handlers().getSubscriptionDetails)(subscription,lang),renewalDate=_getSubscriptionDetai.renewalDate,renewability=_getSubscriptionDetai.renewability,paymentInfo=_getSubscriptionDetai.paymentInfo,nextPayment=_getSubscriptionDetai.nextPayment,errorMessage=_getSubscriptionDetai.errorMessage;return __jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"10px",background:backgroundColor3,borderRadius:"4px",padding:"8px"},errorMessage&&__jsx(chunk_MPFPK3CX.s,{gridGap:"4px",alignItems:"center"},__jsx(Icon.A,{width:"18px",height:"13px",color:blueDefault,minWidth:"18px"}),__jsx(chunk_P74GIWPW.E,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px"},errorMessage)),nextPayment&&__jsx(chunk_MPFPK3CX.s,{gridGap:"4px",alignItems:"center"},__jsx(Icon.A,{icon:"card",width:"18px",height:"13px",color:blueDefault,minWidth:"18px"}),__jsx(chunk_P74GIWPW.E,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px"},nextPayment)),paymentInfo&&__jsx(chunk_MPFPK3CX.s,{gridGap:"4px",alignItems:"center"},__jsx(Icon.A,{icon:"card",width:"18px",height:"13px",color:blueDefault,minWidth:"18px"}),__jsx(chunk_P74GIWPW.E,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px"},paymentInfo)),renewalDate&&__jsx(chunk_MPFPK3CX.s,{gridGap:"4px",alignItems:"center"},__jsx(Icon.A,{icon:"refresh_time",width:"16px",height:"16px",color:blueDefault,minWidth:"18px"}),__jsx(chunk_P74GIWPW.E,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px"},renewalDate)),renewability&&__jsx(chunk_MPFPK3CX.s,{gridGap:"4px",alignItems:"center"},__jsx(Icon.A,{icon:"renewal",width:"16px",height:"16px",color:blueDefault,minWidth:"18px"}),__jsx(chunk_P74GIWPW.E,{fontSize:"12px",fontWeight:"700",padding:"0 0 0 8px"},renewability)))}function SubscriptionCard(_ref2){var _subscription$status,_subscription$plans$,_subscription$plans$2,subscription=_ref2.subscription,allSubscriptions=_ref2.allSubscriptions,setSubscriptionProps=_ref2.setSubscriptionProps,onOpenCancelSubscription=_ref2.onOpenCancelSubscription,borderColor2=(0,useStyle.A)().borderColor2,_profileHandlers2=handlers(),statusStyles=_profileHandlers2.statusStyles,statusLabel=_profileHandlers2.statusLabel,status=null==subscription||null===(_subscription$status=subscription.status)||void 0===_subscription$status?void 0:_subscription$status.toLowerCase();return __jsx(chunk_MPFPK3CX.s,{key:null==subscription?void 0:subscription.id,height:"fit-content",position:"relative",margin:"10px 0 0 0",flexDirection:"column",justifyContent:"space-between",alignItems:"center",border:"1px solid",borderColor:borderColor2,p:"14px 16px 14px 14px",borderRadius:"9px"},__jsx(chunk_6CSUKJP7.az,{borderRadius:"50%",bg:"green.400",padding:"12px",position:"absolute",top:-7,left:4},__jsx(Icon.A,{icon:"data-science",width:"30px",height:"30px"})),__jsx(chunk_6CSUKJP7.az,{padding:"0 0 14px 0",width:"100%"},__jsx(chunk_P74GIWPW.E,(0,esm_extends.A)({fontSize:"12px",fontWeight:"700",padding:"4px 10px",borderRadius:"18px",width:"fit-content",margin:"0 0 0 auto"},statusStyles[status]||""),statusLabel[status]||"unknown")),__jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"8px",height:"100%",width:"100%"},__jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"10px"},__jsx(chunk_P74GIWPW.E,{fontSize:"16px",fontWeight:"700"},(null==subscription||null===(_subscription$plans$=subscription.plans[0])||void 0===_subscription$plans$?void 0:_subscription$plans$.name)||(0,utils.A4)((0,utils.Pf)(null==subscription||null===(_subscription$plans$2=subscription.plans[0])||void 0===_subscription$plans$2?void 0:_subscription$plans$2.slug)))),__jsx(SubscriptionInfo,{subscription}),__jsx(SubsriptionButton.A,{subscription,allSubscriptions,setSubscriptionProps,onOpenCancelSubscription})))}SubscriptionInfo.displayName="SubscriptionInfo",SubscriptionCard.displayName="SubscriptionCard",SubscriptionInfo.propTypes={subscription:prop_types_default().shape({id:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),status:prop_types_default().string,status_message:prop_types_default().string,user:prop_types_default().shape({first_name:prop_types_default().string,last_name:prop_types_default().string,email:prop_types_default().string}),academy:prop_types_default().shape({id:prop_types_default().number,name:prop_types_default().string,slug:prop_types_default().string}),how_many_installments:prop_types_default().number,invoices:prop_types_default().arrayOf(prop_types_default().shape({})),monthly_price:prop_types_default().number,next_payment_at:prop_types_default().string,planOffer:prop_types_default().shape({status:prop_types_default().string}),plan_expires_at:prop_types_default().string,plans:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string,slug:prop_types_default().string})),selected_cohort_set:prop_types_default().shape({id:prop_types_default().number,slug:prop_types_default().string,academy:prop_types_default().shape({}),cohorts:prop_types_default().arrayOf(prop_types_default().shape({}))}),selected_event_type_set:prop_types_default().shape({id:prop_types_default().number,slug:prop_types_default().string,academy:prop_types_default().shape({}),event_types:prop_types_default().arrayOf(prop_types_default().shape({})),academy_services:prop_types_default().arrayOf(prop_types_default().shape({}))}),selected_mentorship_service_set:prop_types_default().shape({id:prop_types_default().number,slug:prop_types_default().string,academy:prop_types_default().shape({}),mentorship_services:prop_types_default().arrayOf(prop_types_default().shape({})),academy_services:prop_types_default().arrayOf(prop_types_default().shape({}))}),type:prop_types_default().string,valid_until:prop_types_default().string}).isRequired},SubscriptionCard.propTypes={subscription:prop_types_default().shape({id:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),status:prop_types_default().string,status_message:prop_types_default().string,user:prop_types_default().shape({first_name:prop_types_default().string,last_name:prop_types_default().string,email:prop_types_default().string}),academy:prop_types_default().shape({id:prop_types_default().number,name:prop_types_default().string,slug:prop_types_default().string}),how_many_installments:prop_types_default().number,invoices:prop_types_default().arrayOf(prop_types_default().shape({})),monthly_price:prop_types_default().number,next_payment_at:prop_types_default().string,planOffer:prop_types_default().shape({status:prop_types_default().string}),plan_expires_at:prop_types_default().string,plans:prop_types_default().arrayOf(prop_types_default().shape({name:prop_types_default().string,slug:prop_types_default().string})),selected_cohort_set:prop_types_default().shape({id:prop_types_default().number,slug:prop_types_default().string,academy:prop_types_default().shape({}),cohorts:prop_types_default().arrayOf(prop_types_default().shape({}))}),selected_event_type_set:prop_types_default().shape({id:prop_types_default().number,slug:prop_types_default().string,academy:prop_types_default().shape({}),event_types:prop_types_default().arrayOf(prop_types_default().shape({})),academy_services:prop_types_default().arrayOf(prop_types_default().shape({}))}),selected_mentorship_service_set:prop_types_default().shape({id:prop_types_default().number,slug:prop_types_default().string,academy:prop_types_default().shape({}),mentorship_services:prop_types_default().arrayOf(prop_types_default().shape({})),academy_services:prop_types_default().arrayOf(prop_types_default().shape({}))}),type:prop_types_default().string,valid_until:prop_types_default().string}).isRequired,allSubscriptions:prop_types_default().arrayOf(prop_types_default().shape({})).isRequired,setSubscriptionProps:prop_types_default().func.isRequired,onOpenCancelSubscription:prop_types_default().func.isRequired};const Subscriptions_SubscriptionCard=SubscriptionCard;SubscriptionCard.__docgenInfo={description:"",methods:[],displayName:"SubscriptionCard",props:{subscription:{description:"",type:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],required:!1},status:{name:"string",required:!1},status_message:{name:"string",required:!1},user:{name:"shape",value:{first_name:{name:"string",required:!1},last_name:{name:"string",required:!1},email:{name:"string",required:!1}},required:!1},academy:{name:"shape",value:{id:{name:"number",required:!1},name:{name:"string",required:!1},slug:{name:"string",required:!1}},required:!1},how_many_installments:{name:"number",required:!1},invoices:{name:"arrayOf",value:{name:"shape",value:{}},required:!1},monthly_price:{name:"number",required:!1},next_payment_at:{name:"string",required:!1},planOffer:{name:"shape",value:{status:{name:"string",required:!1}},required:!1},plan_expires_at:{name:"string",required:!1},plans:{name:"arrayOf",value:{name:"shape",value:{name:{name:"string",required:!1},slug:{name:"string",required:!1}}},required:!1},selected_cohort_set:{name:"shape",value:{id:{name:"number",required:!1},slug:{name:"string",required:!1},academy:{name:"shape",value:{},required:!1},cohorts:{name:"arrayOf",value:{name:"shape",value:{}},required:!1}},required:!1},selected_event_type_set:{name:"shape",value:{id:{name:"number",required:!1},slug:{name:"string",required:!1},academy:{name:"shape",value:{},required:!1},event_types:{name:"arrayOf",value:{name:"shape",value:{}},required:!1},academy_services:{name:"arrayOf",value:{name:"shape",value:{}},required:!1}},required:!1},selected_mentorship_service_set:{name:"shape",value:{id:{name:"number",required:!1},slug:{name:"string",required:!1},academy:{name:"shape",value:{},required:!1},mentorship_services:{name:"arrayOf",value:{name:"shape",value:{}},required:!1},academy_services:{name:"arrayOf",value:{name:"shape",value:{}},required:!1}},required:!1},type:{name:"string",required:!1},valid_until:{name:"string",required:!1}}},required:!0},allSubscriptions:{description:"",type:{name:"arrayOf",value:{name:"shape",value:{}}},required:!0},setSubscriptionProps:{description:"",type:{name:"func"},required:!0},onOpenCancelSubscription:{description:"",type:{name:"func"},required:!0}}};var chunk_NAA7TEES=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),ConsumableCard_jsx=react.createElement;function ConsumableCard(_ref){var title=_ref.title,icon=_ref.icon,totalAvailable=_ref.totalAvailable,onClick=_ref.onClick,_useStyle=(0,useStyle.A)(),featuredLight=_useStyle.featuredLight,hexColor=_useStyle.hexColor,t=(0,useTranslation.A)("profile").t;return ConsumableCard_jsx(chunk_MPFPK3CX.s,{direction:"column",borderRadius:"17px",padding:"12px 16px",background:featuredLight,width:{base:"100%",md:"265px"},gap:"10px",justifyContent:"space-between"},ConsumableCard_jsx(chunk_P74GIWPW.E,{size:"sm",mb:"10px",fontWeight:"700"},title),ConsumableCard_jsx(chunk_MPFPK3CX.s,{justifyContent:"space-between",alignItems:"center"},ConsumableCard_jsx(chunk_MPFPK3CX.s,{gap:"10px",alignItems:"center",minHeight:"51px"},icon,totalAvailable>=0&&totalAvailable<100?ConsumableCard_jsx(chunk_P74GIWPW.E,{color:hexColor.fontColor3,fontSize:"34px",fontWeight:"700"},totalAvailable):ConsumableCard_jsx(Icon.A,{icon:"infinite",color:hexColor.fontColor3,width:"34px",height:"34px"})),ConsumableCard_jsx(chunk_NAA7TEES.$,{variant:"link",onClick},t("subscription.see-details"))))}ConsumableCard.displayName="ConsumableCard",ConsumableCard.propTypes={title:prop_types_default().string.isRequired,icon:prop_types_default().string.isRequired,totalAvailable:prop_types_default().number.isRequired,onClick:prop_types_default().func.isRequired};const Subscriptions_ConsumableCard=ConsumableCard;ConsumableCard.__docgenInfo={description:"",methods:[],displayName:"ConsumableCard",props:{title:{description:"",type:{name:"string"},required:!0},icon:{description:"",type:{name:"string"},required:!0},totalAvailable:{description:"",type:{name:"number"},required:!0},onClick:{description:"",type:{name:"func"},required:!0}}};var chunk_UUGUEMMH=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-UUGUEMMH.mjs"),chunk_OWW5MU75=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-OWW5MU75.mjs"),chunk_66WFFNY3=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-66WFFNY3.mjs"),chunk_YLPWWAYV=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YLPWWAYV.mjs"),chunk_YBA5A33G=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YBA5A33G.mjs"),chunk_PVJ72NKC=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-PVJ72NKC.mjs"),chunk_SMHKDLMK=__webpack_require__("./node_modules/@chakra-ui/image/dist/chunk-SMHKDLMK.mjs"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),chunk_WPAIWTI3=__webpack_require__("./node_modules/@chakra-ui/avatar/dist/chunk-WPAIWTI3.mjs"),chunk_ZYO64PFG=__webpack_require__("./node_modules/@chakra-ui/avatar/dist/chunk-ZYO64PFG.mjs"),chunk_6XCF7NSR=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-6XCF7NSR.mjs"),chunk_GYFRIY2Z=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-GYFRIY2Z.mjs"),chunk_J356FWKS=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-J356FWKS.mjs"),chunk_7NLW6UB6=__webpack_require__("./node_modules/@chakra-ui/color-mode/dist/chunk-7NLW6UB6.mjs"),next_router=__webpack_require__("./node_modules/next/router.js"),Heading=__webpack_require__("./src/components/Heading.jsx"),Image=__webpack_require__("./src/components/Image.jsx"),SimpleModal=__webpack_require__("./src/components/SimpleModal/index.jsx"),index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),chunk_NO6MRLPK=__webpack_require__("./node_modules/@chakra-ui/spinner/dist/chunk-NO6MRLPK.mjs"),chunk_VFYM6BU6=__webpack_require__("./node_modules/@chakra-ui/checkbox/dist/chunk-VFYM6BU6.mjs"),formik_esm=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),NextChakraLink=__webpack_require__("./src/components/NextChakraLink.jsx"),signupAction=__webpack_require__("./src/store/actions/signupAction.js"),FieldForm=__webpack_require__("./src/components/Forms/FieldForm.jsx"),regex=__webpack_require__("./src/utils/regex.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const Forms_useEmailValidation=function useEmailValidation(){var _useState=(0,react.useState)({valid:!1,loading:!1,error:null}),emailValidation=_useState[0],setEmailValidation=_useState[1],_useState2=(0,react.useState)(null),emailValue=_useState2[0],setEmailValue=_useState2[1],validateEmail=function(){var _ref=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(email){var cacheEmail,result,response,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!utils.l6||!email.toLowerCase().match(regex.Rp)){_context.next=5;break}if(setEmailValidation({valid:!1,loading:!0,error:null}),!(cacheEmail=sessionStorage.getItem(email))){_context.next=1;break}result=JSON.parse(cacheEmail),_context.next=4;break;case 1:return _context.next=2,breathecode.A.post("".concat(variables.UA,"/v1/marketing/app/validateemail"),{email});case 2:return response=_context.sent,_context.next=3,response.json();case 3:result=_context.sent;case 4:sessionStorage.setItem(email,JSON.stringify(result)),result.status_code&&result.status_code>=400?setEmailValidation({valid:!1,loading:!1,error:result.detail}):setEmailValidation({valid:!0,loading:!1,error:null});case 5:_context.next=7;break;case 6:_context.prev=6,_t=_context.catch(0),console.log(_t),setEmailValidation({valid:!1,loading:!1,error:"string"==typeof _t?_t:_t.message});case 7:case"end":return _context.stop()}},_callee,null,[[0,6]])}));return function validateEmail(_x){return _ref.apply(this,arguments)}}();return(0,react.useEffect)(function(){if(!emailValue)return function(){};var timeoutId=setTimeout(function(){return validateEmail(emailValue)},1e3);return function(){return clearTimeout(timeoutId)}},[emailValue]),{thriggerValidation:function thriggerValidation(e){setEmailValidation({valid:!1,loading:!1,error:null}),setEmailValue(e.target.value)},emailValidation}};var react_input_mask=__webpack_require__("./node_modules/react-input-mask/index.js"),react_input_mask_default=__webpack_require__.n(react_input_mask),chunk_6ZNYZUDD=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-6ZNYZUDD.mjs"),chunk_3GP7MWMA=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-3GP7MWMA.mjs");const countriesList_namespaceObject=JSON.parse('[{"name":"Afghanistan","locations":["asia"],"code":"93","iso":"AF","mask":"99 999 9999"},{"name":"Albania","locations":["europe"],"code":"355","iso":"AL","mask":"(999)999 999"},{"name":"Algeria","locations":["africa","north-africa"],"code":"213","iso":"DZ","mask":"99 999 9999"},{"name":"Andorra","locations":["europe"],"code":"376","iso":"AD","mask":"999 999"},{"name":"Angola","locations":["africa"],"code":"244","iso":"AO","mask":"(999)999 999"},{"name":"Antigua and Barbuda","locations":["america","carribean"],"code":"1","iso":"AG","mask":"(268)999 9999"},{"name":"Argentina","locations":["america","buenosaires-argentina","south-america"],"code":"54","iso":"AR","mask":"(999)999 9999"},{"name":"Armenia","locations":["asia"," ex-ussr"],"code":"374","iso":"AM","mask":"99 999 999"},{"name":"Aruba","locations":["america","carribean"],"code":"297","iso":"AW","mask":"999 9999"},{"name":"Australia","locations":["oceania"],"code":"61","iso":"AU","mask":"9 9999 9999"},{"name":"Austria","locations":["europe","eu-union"],"code":"43","iso":"AT","mask":"(999)999 9999"},{"name":"Azerbaijan","locations":["asia"," ex-ussr"],"code":"994","iso":"AZ","mask":"99 999 99 99"},{"name":"Bahamas","locations":["america","carribean"],"code":"1","iso":"BS","mask":"(242)999 9999"},{"name":"Bahrain","locations":["middle-east"],"code":"973","iso":"BH","mask":"9999 9999"},{"name":"Bangladesh","locations":["asia"],"code":"880","iso":"BD","mask":"1999 999999"},{"name":"Barbados","locations":["america","carribean"],"code":"1","iso":"BB","mask":"(246)999 9999"},{"name":"Belarus","locations":["europe"," ex-ussr"],"code":"375","iso":"BY","mask":"(99)999 99 99"},{"name":"Belgium","locations":["europe","eu-union"],"code":"32","iso":"BE","mask":"(999)999 999"},{"name":"Belize","locations":["america","central-america"],"code":"501","iso":"BZ","mask":"999 9999"},{"name":"Benin","locations":["africa"],"code":"229","iso":"BJ","mask":"99 99 9999"},{"name":"Bhutan","locations":["asia"],"code":"975","iso":"BT","mask":"99 999 999"},{"name":"Bolivia","locations":["america","lapaz-bolivia","south-america"],"code":"591","iso":"BO","mask":"9 999 9999"},{"name":"Bosnia and Herzegovina","locations":["europe","ex-yugos"],"code":"387","iso":"BA","mask":"99 99999"},{"name":"Botswana","locations":["africa"],"code":"267","iso":"BW","mask":"99 999 999"},{"name":"Brazil","locations":["america","south-america"],"code":"55","iso":"BR","mask":"(99) 99999999"},{"name":"British Indian Ocean Territory","locations":["asia"],"code":"246","iso":"IO","mask":"999 9999"},{"name":"Brunei Darussalam","locations":["asia"],"code":"673","iso":"BN","mask":"999 9999"},{"name":"Bulgaria","locations":["europe","eu-union"],"code":"359","iso":"BG","mask":"(999)999 999"},{"name":"Burkina Faso","locations":["africa"],"code":"226","iso":"BF","mask":"99 99 9999"},{"name":"Burundi","locations":["africa"],"code":"257","iso":"BI","mask":"99 99 9999"},{"name":"Cambodia","locations":["asia"],"code":"855","iso":"KH","mask":"99 999 999"},{"name":"Cameroon","locations":["africa"],"code":"237","iso":"CM","mask":"9999 9999"},{"name":"Canada","locations":["america","north-america"],"code":"1","iso":"CA","mask":"(999)999 9999"},{"name":"Cape Verde","locations":["africa"],"code":"238","iso":"CV","mask":"(999)99 99"},{"name":"Caribbean Netherlands","locations":["america","carribean"],"code":"599","iso":"BQ","mask":"9999 9999"},{"name":"Central African Republic","locations":["africa"],"code":"236","iso":"CF","mask":"99 99 9999"},{"name":"Chad","locations":["africa"],"code":"235","iso":"TD","mask":"99 99 99 99"},{"name":"Chile","locations":["america","south-america"],"code":"56","iso":"CL","mask":"9 9999 9999"},{"name":"China","locations":["asia"],"code":"86","iso":"CN","mask":"99 99999 99999"},{"name":"Colombia","locations":["america","south-america"],"code":"57","iso":"CO","mask":"(999)999 9999"},{"name":"Comoros","locations":["africa"],"code":"269","iso":"KM","mask":"99 99999"},{"name":"Congo","locations":["africa"],"code":"242","iso":"CG","mask":"99 99999"},{"name":"Costa Rica","locations":["america","central-america"],"code":"506","iso":"CR","mask":"9999 9999"},{"name":"Croatia","locations":["europe","eu-union","ex-yugos"],"code":"385","iso":"HR","mask":"99 999 999"},{"name":"Cuba","locations":["america","carribean"],"code":"53","iso":"CU","mask":"9 999 9999"},{"name":"Curaçao","locations":["america","carribean"],"code":"599","iso":"CW","mask":"999 9999"},{"name":"Cyprus","locations":["europe"],"code":"357","iso":"CY","mask":"99 999 999"},{"name":"Czech Republic","locations":["europe","eu-union"],"code":"420","iso":"CZ","mask":"(999)999 999"},{"name":"Democratic Republic of the Congo","locations":["africa"],"code":"243","iso":"CD","mask":"(999)999 999"},{"name":"Denmark","locations":["europe","eu-union"],"code":"45","iso":"DK","mask":"99 99 99 99"},{"name":"Djibouti","locations":["africa"],"code":"253","iso":"DJ","mask":"99 99 99 99"},{"name":"Dominica","locations":["america","carribean"],"code":"1","iso":"DM","mask":"(767)999 9999"},{"name":"Dominican Republic","locations":["america","carribean"],"code":"1","iso":"DO","mask":"(999)999 9999"},{"name":"Ecuador","locations":["america","south-america"],"code":"593","iso":"EC","mask":"99 999 9999"},{"name":"Egypt","locations":["africa","north-africa"],"code":"20","iso":"EG","mask":"(999)999 9999"},{"name":"El Salvador","locations":["america","central-america"],"code":"503","iso":"SV","mask":"99 99 9999"},{"name":"Equatorial Guinea","locations":["africa"],"code":"240","iso":"GQ","mask":"99 999 9999"},{"name":"Eritrea","locations":["africa"],"code":"291","iso":"ER","mask":"9 999 999"},{"name":"Estonia","locations":["europe","eu-union"],"code":"372","iso":"EE","mask":"9999 9999"},{"name":"Ethiopia","locations":["africa"],"code":"251","iso":"ET","mask":"99 999 9999"},{"name":"Fiji","locations":["oceania"],"code":"679","iso":"FJ","mask":"99 99999"},{"name":"Finland","locations":["europe","eu-union"],"code":"358","iso":"FI","mask":"(999)999 99 99"},{"name":"France","locations":["europe","eu-union"],"code":"33","iso":"FR","mask":"(999)999 999"},{"name":"French Guiana","locations":["america","south-america"],"code":"594","iso":"GF","mask":"99999 9999"},{"name":"French Polynesia","locations":["oceania"],"code":"689","iso":"PF","mask":"99 99 99"},{"name":"Gabon","locations":["africa"],"code":"241","iso":"GA","mask":"9 99 99 99"},{"name":"Gambia","locations":["africa"],"code":"220","iso":"GM","mask":"(999)99 99"},{"name":"Georgia","locations":["asia"],"code":"995","iso":"GE","mask":"(999)999 999"},{"name":"Germany","locations":["europe","eu-union"],"code":"49","iso":"DE","mask":"9999 99999999"},{"name":"Ghana","locations":["africa"],"code":"233","iso":"GH","mask":"(999)999 999"},{"name":"Greece","locations":["europe","eu-union"],"code":"30","iso":"GR","mask":"(999)999 9999"},{"name":"Grenada","locations":["america","carribean"],"code":"1","iso":"GD","mask":"(473)999 9999"},{"name":"Guadeloupe","locations":["america","carribean"],"code":"590","iso":"GP","mask":"(999)999 999"},{"name":"Guam","locations":["oceania"],"code":"1","iso":"GU","mask":"(671)999 9999"},{"name":"Guatemala","locations":["america","central-america"],"code":"502","iso":"GT","mask":"9 999 9999"},{"name":"Guinea","locations":["africa"],"code":"224","iso":"GN","mask":"99 999 999"},{"name":"Guinea Bissau","locations":["africa"],"code":"245","iso":"GW","mask":"9 999999"},{"name":"Guyana","locations":["america"],"code":"592","iso":"GY","mask":"999 9999"},{"name":"Haiti","locations":["america","carribean"],"code":"509","iso":"HT","mask":"99 99 9999"},{"name":"Honduras","locations":["america","central-america"],"code":"504","iso":"HN","mask":"9999 9999"},{"name":"Hong Kong","locations":["asia"],"code":"852","iso":"HK","mask":"9999 9999"},{"name":"Hungary","locations":["europe","eu-union"],"code":"36","iso":"HU","mask":"(999)999 999"},{"name":"Iceland","locations":["europe"],"code":"354","iso":"IS","mask":"999 9999"},{"name":"India","locations":["asia"],"code":"91","iso":"IN","mask":"(9999)999 999"},{"name":"Indonesia","locations":["asia"],"code":"62","iso":"ID","mask":"(899)999 999"},{"name":"Iran","locations":["asia"],"code":"98","iso":"IR","mask":"(999)999 9999"},{"name":"Iraq","locations":["middle-east"],"code":"964","iso":"IQ","mask":"(999)999 9999"},{"name":"Ireland","locations":["europe","eu-union"],"code":"353","iso":"IE","mask":"(999)999 999"},{"name":"Israel","locations":["middle-east"],"code":"972","iso":"IL","mask":"99 999 9999"},{"name":"Italy","locations":["europe","eu-union"],"code":"39","iso":"IT","mask":"(999)9999 999"},{"name":"Ivory Coast / Cote d\'Ivoire","locations":["africa"],"code":"225","iso":"CI","mask":"99 999 999"},{"name":"Jamaica","locations":["america","carribean"],"code":"1","iso":"JM","mask":"(876)999 9999"},{"name":"Japan","locations":["asia"],"code":"81","iso":"JP","mask":"99 9999 9999"},{"name":"Jordan","locations":["middle-east"],"code":"962","iso":"JO","mask":"9 9999 9999"},{"name":"Kazakhstan","locations":["asia"," ex-ussr"],"code":"77","iso":"KZ","mask":"(999)999 99 99"},{"name":"Kenya","locations":["africa"],"code":"254","iso":"KE","mask":"999 999999"},{"name":"Kiribati","locations":["oceania"],"code":"686","iso":"KI","mask":"99 999"},{"name":"Kosovo","locations":["oceania"],"code":"383","iso":"XK","mask":"999 999 999"},{"name":"Kuwait","locations":["middle-east"],"code":"965","iso":"KW","mask":"9999 9999"},{"name":"Kyrgyzstan","locations":["asia"," ex-ussr"],"code":"996","iso":"KG","mask":"(999)999 999"},{"name":"Laos","locations":["asia"],"code":"856","iso":"LA","mask":"99 999 999"},{"name":"Latvia","locations":["europe","eu-union"],"code":"371","iso":"LV","mask":"99 999 999"},{"name":"Lebanon","locations":["middle-east"],"code":"961","iso":"LB","mask":"99 999 999"},{"name":"Lesotho","locations":["africa"],"code":"266","iso":"LS","mask":"9 999 9999"},{"name":"Liberia","locations":["africa"],"code":"231","iso":"LR","mask":"99 999 999"},{"name":"Libya","locations":["africa","north-africa"],"code":"218","iso":"LY","mask":"99 999 9999"},{"name":"Liechtenstein","locations":["europe"],"code":"423","iso":"LI","mask":"(999)999 9999"},{"name":"Lithuania","locations":["europe","eu-union"],"code":"370","iso":"LT","mask":"(999)99 999"},{"name":"Luxembourg","locations":["europe","eu-union"],"code":"352","iso":"LU","mask":"(999)999 999"},{"name":"Macau","locations":["asia"],"code":"853","iso":"MO","mask":"9999 9999"},{"name":"Macedonia","locations":["europe"],"code":"389","iso":"MK","mask":"99 999 999"},{"name":"Madagascar","locations":["africa"],"code":"261","iso":"MG","mask":"99 99 99999"},{"name":"Malawi","locations":["africa"],"code":"265","iso":"MW","mask":"9 9999 9999"},{"name":"Malaysia","locations":["asia"],"code":"60","iso":"MY","mask":"99 9999 9999"},{"name":"Maldives","locations":["asia"],"code":"960","iso":"MV","mask":"999 9999"},{"name":"Mali","locations":["africa"],"code":"223","iso":"ML","mask":"99 99 9999"},{"name":"Malta","locations":["europe","eu-union"],"code":"356","iso":"MT","mask":"9999 9999"},{"name":"Marshall Islands","locations":["oceania"],"code":"692","iso":"MH","mask":"999 9999"},{"name":"Martinique","locations":["america","carribean"],"code":"596","iso":"MQ","mask":"(999)99 99 99"},{"name":"Mauritania","locations":["africa"],"code":"222","iso":"MR","mask":"99 99 9999"},{"name":"Mauritius","locations":["africa"],"code":"230","iso":"MU","mask":"999 9999"},{"name":"Mexico","locations":["america","north-america"],"code":"52","iso":"MX","mask":"(999)999 9999"},{"name":"Micronesia","locations":["oceania"],"code":"691","iso":"FM","mask":"999 9999"},{"name":"Moldova","locations":["europe"," ex-ussr"],"code":"373","iso":"MD","mask":"9999 9999"},{"name":"Monaco","locations":["europe"],"code":"377","iso":"MC","mask":"99 999 999"},{"name":"Mongolia","locations":["asia"],"code":"976","iso":"MN","mask":"99 99 9999"},{"name":"Montenegro","locations":["europe"],"code":"382","iso":"ME","mask":"99 999 999"},{"name":"Morocco","locations":["africa","north-africa"],"code":"212","iso":"MA","mask":"99 9999 999"},{"name":"Mozambique","locations":["africa"],"code":"258","iso":"MZ","mask":"99 999 999"},{"name":"Myanmar","locations":["asia"],"code":"95","iso":"MM","mask":"99 999 999"},{"name":"Namibia","locations":["africa"],"code":"264","iso":"NA","mask":"99 999 9999"},{"name":"Nauru","locations":["oceania"],"code":"674","iso":"NR","mask":"999 9999"},{"name":"Nepal","locations":["asia"],"code":"977","iso":"NP","mask":"99 999 999"},{"name":"Netherlands","locations":["europe","eu-union"],"code":"31","iso":"NL","mask":"99 999 9999"},{"name":"New Caledonia","locations":["oceania"],"code":"687","iso":"NC","mask":"99 9999"},{"name":"New Zealand","locations":["oceania"],"code":"64","iso":"NZ","mask":"(999)999 9999"},{"name":"Nicaragua","locations":["america","central-america"],"code":"505","iso":"NI","mask":"9999 9999"},{"name":"Niger","locations":["africa"],"code":"227","iso":"NE","mask":"99 99 9999"},{"name":"Nigeria","locations":["africa"],"code":"234","iso":"NG","mask":"99 999 999"},{"name":"North Korea","locations":["asia"],"code":"850","iso":"KP","mask":"999 9999 999"},{"name":"Norway","locations":["europe"],"code":"47","iso":"NO","mask":"(999)99 999"},{"name":"Oman","locations":["middle-east"],"code":"968","iso":"OM","mask":"99 999 999"},{"name":"Pakistan","locations":["asia"],"code":"92","iso":"PK","mask":"(999)999 9999"},{"name":"Palau","locations":["oceania"],"code":"680","iso":"PW","mask":"999 9999"},{"name":"Palestine","locations":["middle-east"],"code":"970","iso":"PS","mask":"99 999 9999"},{"name":"Panama","locations":["america","central-america"],"code":"507","iso":"PA","mask":"999 9999"},{"name":"Papua New Guinea","locations":["oceania"],"code":"675","iso":"PG","mask":"(999)99 999"},{"name":"Paraguay","locations":["america","south-america"],"code":"595","iso":"PY","mask":"(999)999 999"},{"name":"Peru","locations":["america","south-america"],"code":"51","iso":"PE","mask":"(999)999 999"},{"name":"Philippines","locations":["asia"],"code":"63","iso":"PH","mask":"(999)999 9999"},{"name":"Poland","locations":["europe","eu-union"],"code":"48","iso":"PL","mask":"(999)999 999"},{"name":"Portugal","locations":["europe","eu-union"],"code":"351","iso":"PT","mask":"99 999 9999"},{"name":"Puerto Rico","locations":["america","carribean"],"code":"1","iso":"PR","mask":"(999) 999 9999"},{"name":"Qatar","locations":["middle-east"],"code":"974","iso":"QA","mask":"9999 9999"},{"name":"Reunion","locations":["africa"],"code":"262","iso":"RE","mask":"99999 9999"},{"name":"Romania","locations":["europe","eu-union"],"code":"40","iso":"RO","mask":"99 999 9999"},{"name":"Russia","locations":["europe","asia"," ex-ussr","baltic"],"code":"7","iso":"RU","mask":"(999)999 99 99"},{"name":"Rwanda","locations":["africa"],"code":"250","iso":"RW","mask":"(999)999 999"},{"name":"Saint Kitts and Nevis","locations":["america","carribean"],"code":"1","iso":"KN","mask":"(869)999 9999"},{"name":"Saint Lucia","locations":["america","carribean"],"code":"1","iso":"LC","mask":"(758)999 9999"},{"name":"Saint Martin","locations":["america","carribean"],"code":"590","iso":"MF","mask":"(999)999 999"},{"name":"Saint Vincent and the Grenadines","locations":["america","carribean"],"code":"1","iso":"VC","mask":"(784)999 9999"},{"name":"Samoa","locations":["oceania"],"code":"685","iso":"WS","mask":"99 9999"},{"name":"San Marino","locations":["europe"],"code":"378","iso":"SM","mask":"9999 999999"},{"name":"Sao Tome and Principe","locations":["africa"],"code":"239","iso":"ST","mask":"99 99999"},{"name":"Saudi Arabia","locations":["middle-east"],"code":"966","iso":"SA","mask":"99 9999 9999"},{"name":"Senegal","locations":["africa"],"code":"221","iso":"SN","mask":"99 999 9999"},{"name":"Serbia","locations":["europe"],"code":"381","iso":"RS","mask":"99 999 9999"},{"name":"Seychelles","locations":["africa"],"code":"248","iso":"SC","mask":"9 999 999"},{"name":"Sierra Leone","locations":["africa"],"code":"232","iso":"SL","mask":"99 999999"},{"name":"Singapore","locations":["asia"],"code":"65","iso":"SG","mask":"9999 9999"},{"name":"Slovakia","locations":["europe","eu-union"],"code":"421","iso":"SK","mask":"(999)999 999"},{"name":"Slovenia","locations":["europe","eu-union"],"code":"386","iso":"SI","mask":"99 999 999"},{"name":"Solomon Islands","locations":["oceania"],"code":"677","iso":"SB","mask":"999 9999"},{"name":"Somalia","locations":["africa"],"code":"252","iso":"SO","mask":"99 999 999"},{"name":"South Africa","locations":["africa"],"code":"27","iso":"ZA","mask":"99 999 9999"},{"name":"South Korea","locations":["asia"],"code":"82","iso":"KR","mask":"99 999 9999"},{"name":"South Sudan","locations":["africa","north-africa"],"code":"211","iso":"SS","mask":"99 999 9999"},{"name":"Spain","locations":["europe","eu-union"],"code":"34","iso":"ES","mask":"(999)999 999"},{"name":"Sri Lanka","locations":["asia"],"code":"94","iso":"LK","mask":"99 999 9999"},{"name":"Sudan","locations":["africa"],"code":"249","iso":"SD","mask":"99 999 9999"},{"name":"Suriname","locations":["america"],"code":"597","iso":"SR","mask":"999 9999"},{"name":"Swaziland","locations":["africa"],"code":"268","iso":"SZ","mask":"99 99 9999"},{"name":"Sweden","locations":["europe","eu-union"],"code":"46","iso":"SE","mask":"99 999 9999"},{"name":"Switzerland","locations":["europe"],"code":"41","iso":"CH","mask":"99 999 9999"},{"name":"Syria","locations":["middle-east"],"code":"963","iso":"SY","mask":"99 9999 999"},{"name":"Taiwan","locations":["asia"],"code":"886","iso":"TW","mask":"9999 9999"},{"name":"Tajikistan","locations":["asia"," ex-ussr"],"code":"992","iso":"TJ","mask":"99 999 9999"},{"name":"Tanzania","locations":["africa"],"code":"255","iso":"TZ","mask":"99 999 9999"},{"name":"Thailand","locations":["asia"],"code":"66","iso":"TH","mask":"99 999 9999"},{"name":"Timor Leste","locations":["asia"],"code":"670","iso":"TL","mask":"999 99999"},{"name":"Togo","locations":["africa"],"code":"228","iso":"TG","mask":"99 999 999"},{"name":"Tonga","locations":["oceania"],"code":"676","iso":"TO","mask":"99999"},{"name":"Trinidad and Tobago","locations":["america","carribean"],"code":"1","iso":"TT","mask":"(868)999 9999"},{"name":"Tunisia","locations":["africa","north-africa"],"code":"216","iso":"TN","mask":"99 999 999"},{"name":"Turkey","locations":["europe","middle-east"],"code":"90","iso":"TR","mask":"(999)999 9999"},{"name":"Turkmenistan","locations":["asia"," ex-ussr"],"code":"993","iso":"TM","mask":"9 999 9999"},{"name":"Tuvalu","locations":["oceania"],"code":"688","iso":"TV","mask":"999999"},{"name":"Uganda","locations":["africa"],"code":"256","iso":"UG","mask":"(999)999 999"},{"name":"Ukraine","locations":["europe"," ex-ussr"],"code":"380","iso":"UA","mask":"(99)999 99 99"},{"name":"United Arab Emirates","locations":["middle-east"],"code":"971","iso":"AE","mask":"99 999 9999"},{"name":"United Kingdom","locations":["europe"],"code":"44","iso":"GB","mask":"99 9999 9999"},{"name":"United States","locations":["america","north-america"],"code":"1","iso":"US","mask":"(999)999 9999"},{"name":"Uruguay","locations":["america","south-america"],"code":"598","iso":"UY","mask":"9 999 99 99"},{"name":"Uzbekistan","locations":["asia"," ex-ussr"],"code":"998","iso":"UZ","mask":"99 999 9999"},{"name":"Vanuatu","locations":["oceania"],"code":"678","iso":"VU","mask":"99 99999"},{"name":"Vatican City","locations":["europe"],"code":"39","iso":"VA","mask":"06 69899999"},{"name":"Venezuela","locations":["america","south-america"],"code":"58","iso":"VE","mask":"(999)999 9999"},{"name":"Vietnam","locations":["asia"],"code":"84","iso":"VN","mask":"99 9999 999"},{"name":"Yemen","locations":["middle-east"],"code":"967","iso":"YE","mask":"999 999 999"},{"name":"Zambia","locations":["africa"],"code":"260","iso":"ZM","mask":"99 999 9999"},{"name":"Zimbabwe","locations":["africa"],"code":"263","iso":"ZW","mask":"9 999999"}]');var PhoneInput_jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function PhoneInput(_ref){var prefix=_ref.prefix,containerStyle=_ref.containerStyle,required=_ref.required,formData=_ref.formData,style=_ref.style,inputStyle=_ref.inputStyle,buttonStyle=_ref.buttonStyle,dropdownStyle=_ref.dropdownStyle,setVal=_ref.setVal,enableSearch=_ref.enableSearch,searchClass=_ref.searchClass,disableSearchIcon=_ref.disableSearchIcon,searchStyle=_ref.searchStyle,id=_ref.id,searchPlaceholder=_ref.searchPlaceholder,autocompleteSearch=_ref.autocompleteSearch,searchNotFound=_ref.searchNotFound,sessionContextLocation=_ref.sessionContextLocation,campusDial=_ref.campusDial,setShowPhoneWarning=_ref.setShowPhoneWarning,errorMsg=_ref.errorMsg,placeholder=_ref.placeholder,_useState=(0,react.useState)(!1),showDropdown=_useState[0],setShowDropdown=_useState[1],_useState2=(0,react.useState)(""),searchValue=_useState2[0],setSearchValue=_useState2[1],_useState3=(0,react.useState)(""),phoneNumber=_useState3[0],setPhoneNumber=_useState3[1],_useState4=(0,react.useState)({name:"United States",locations:["downtown-miami"],iso2:"us",countryCode:"1",dialCode:"1"}),selectedCountry=_useState4[0],setSelectedCountry=_useState4[1],dropdownMenuRef=(0,react.useRef)(),_useState5=(0,react.useState)({valid:!0}),validStatus=_useState5[0],setValidStatus=_useState5[1],regex={phone:/^(?!(\d{2,})\1+)(?!(\d+)\2{3,})(\+\d{1,3})?(\d{8,15})$/},getCountryPhoneMask=function getCountryPhoneMask(){if("54"===selectedCountry.dialCode)return"+".concat(selectedCountry.dialCode," (99) 9999 9999 9999");var getMask=countriesList_namespaceObject.find(function(mask){var _selectedCountry$iso;return mask.iso===(null==selectedCountry||null===(_selectedCountry$iso=selectedCountry.iso2)||void 0===_selectedCountry$iso?void 0:_selectedCountry$iso.toUpperCase())});return getMask?"+".concat(selectedCountry.dialCode," ").concat(getMask.mask):"+".concat(selectedCountry.dialCode," 9999 9999 9999")},initializedCountries=countriesList_namespaceObject.map(function(country){var _country$iso;return{name:country.name,locations:country.locations,iso2:null==country||null===(_country$iso=country.iso)||void 0===_country$iso?void 0:_country$iso.toLocaleLowerCase(),countryCode:country.code,dialCode:country.code,priority:(null==country?void 0:country.priority)||0}});react.useEffect(function(){null!==sessionContextLocation&&sessionContextLocation&&initializedCountries.find(function(country){return function getLocationCoincidence(country,sessionLocation){return(country.name===sessionLocation.country||country.name===sessionLocation.name||!!country.locations.some(function(loc){return loc===sessionLocation.active_campaign_location_slug}))&&setSelectedCountry(country)}(country,sessionContextLocation)})},[sessionContextLocation]),react.useEffect(function(){var prefixCode=prefix+selectedCountry.dialCode;setPhoneNumber(prefixCode)},[selectedCountry]),react.useEffect(function(){setShowPhoneWarning&&campusDial&&""!==campusDial&&campusDial.dialCode!==selectedCountry.dialCode?setShowPhoneWarning(!0):setShowPhoneWarning&&setShowPhoneWarning(!1)},[campusDial,selectedCountry]);react.useEffect(function(){var checkIfClickedOutside=function checkIfClickedOutside(e){showDropdown&&dropdownMenuRef.current&&!dropdownMenuRef.current.contains(e.target)&&setShowDropdown(!1)};return document.addEventListener("mousedown",checkIfClickedOutside),function(){document.removeEventListener("mousedown",checkIfClickedOutside)}},[showDropdown]);var countryDropdownList=function getSearchFilteredCountries(){var allCountries=initializedCountries,sanitizedSearchValue=searchValue.trim().toLowerCase();if(enableSearch&&sanitizedSearchValue){if(/^\d+$/.test(sanitizedSearchValue))return allCountries.filter(function(_ref2){var dialCode=_ref2.dialCode;return["".concat(dialCode)].some(function(field){return field.toLowerCase().includes(sanitizedSearchValue)})});var iso2countries=allCountries.filter(function(_ref3){var iso2=_ref3.iso2;return["".concat(iso2)].some(function(field){return field.toLowerCase().includes(sanitizedSearchValue)})}),_searchedCountries=allCountries.filter(function(_ref4){var name=_ref4.name,localName=_ref4.localName;_ref4.iso2;return["".concat(name),"".concat(localName||"")].some(function(field){return field.toLowerCase().includes(sanitizedSearchValue)})});return(0,toConsumableArray.A)(new Set([].concat(iso2countries,_searchedCountries)))}return allCountries}().map(function(country,index){var currIndex=index,highlight=0===index;return PhoneInput_jsx("li",(0,esm_extends.A)({key:"flag_no_".concat(currIndex),"data-flag-key":"flag_no_".concat(currIndex),className:"country ".concat(highlight?"highlight":""),"data-dial-code":"1",tabIndex:"-1","data-country-code":country.iso2,onClick:function onClick(e){return function handleFlagItemClick(country,e){e.preventDefault(),setSelectedCountry(country),setShowDropdown(!1)}(country,e)},role:"option"},highlight?{"aria-selected":!0}:{}),PhoneInput_jsx("div",{className:"flag ".concat(country.iso2)}),PhoneInput_jsx("span",{className:"country-name"},country.localName||country.name),PhoneInput_jsx("span",{className:"dial-code"},prefix+country.dialCode))});return PhoneInput_jsx(chunk_6CSUKJP7.az,{className:"react-tel-input",color:"black",style:style||containerStyle},PhoneInput_jsx(formik_esm.D0,{name:"phone"},function(_ref5){var field=_ref5.field,form=_ref5.form;return PhoneInput_jsx(chunk_6ZNYZUDD.MJ,{style,isInvalid:form.errors.phone&&form.touched.phone},PhoneInput_jsx(react_input_mask_default(),(0,esm_extends.A)({},field,{"data-cy":"phone",className:"form-control ".concat(validStatus.valid?"":"invalid"),style:inputStyle,placeholder,onChange:function onChange(e){var _e$target$value,cleanedPhoneInput="+".concat(null===(_e$target$value=e.target.value)||void 0===_e$target$value||null===(_e$target$value=_e$target$value.match(/\d+/g))||void 0===_e$target$value?void 0:_e$target$value.join(""));e.target.value=cleanedPhoneInput||e.target.value,function handlePhoneInput(e){var _match,isValid=!0,prefixCode=prefix+selectedCountry.dialCode,formatOfCharacters=e.target.value.match(/[^A-Za-z0-9 ]/g)||[],prefixLength=selectedCountry.isAreaCode?prefixCode.length+formatOfCharacters.length:prefixCode.length,input=e.target.value.substr(prefixLength);setPhoneNumber(prefixCode+input);var cleanedPhoneInput="+".concat((null===(_match=(prefixCode+input).match(/\d+/g))||void 0===_match?void 0:_match.join(""))||"");if("54"===selectedCountry.dialCode){var digitsOnly=cleanedPhoneInput.replace(/\D/g,"");isValid=!(!1!==required&&(digitsOnly.length<=2||digitsOnly.length>15))}else isValid=!1===required||regex.phone.test(cleanedPhoneInput);isValid!==validStatus.valid&&setValidStatus({valid:isValid,msg:isValid?"Ok":errorMsg}),setVal(_objectSpread(_objectSpread({},formData),{},{phone:cleanedPhoneInput}))}(e),field.onChange(e)},value:phoneNumber,type:"phone",id:id||"phone",mask:getCountryPhoneMask(),maskChar:""})),PhoneInput_jsx(chunk_3GP7MWMA.Wt,null,form.errors.phone))}),PhoneInput_jsx("div",{ref:dropdownMenuRef,className:"flag-dropdown ".concat(showDropdown?"open":""," ").concat(validStatus.valid?"":"invalid"),style:buttonStyle},PhoneInput_jsx("div",{onClick:function onClick(e){return function handleFlagDropdownClick(e){e.preventDefault(),setShowDropdown(!showDropdown)}(e)},className:"selected-flag ".concat(showDropdown?"open":""),title:selectedCountry?"".concat(selectedCountry.name,": + ").concat(selectedCountry.dialCode):"",role:"button","aria-haspopup":"listbox","aria-expanded":!!showDropdown||void 0},PhoneInput_jsx("div",{className:"flag ".concat(selectedCountry.iso2)},PhoneInput_jsx("div",{className:"arrow ".concat(showDropdown?"up":"")}))),showDropdown&&PhoneInput_jsx("ul",{className:"country-list ".concat(showDropdown?"hide":""),style:dropdownStyle,role:"listbox",tabIndex:"0"},enableSearch&&PhoneInput_jsx("li",{className:"search ".concat(searchClass)},!disableSearchIcon&&PhoneInput_jsx("span",{className:"search-emoji ".concat(searchClass?"".concat(searchClass,"-emoji"):""),role:"img","aria-label":"Magnifying glass"},"🔎"),PhoneInput_jsx("input",{className:"search-box ".concat(searchClass?"".concat(searchClass,"-box"):""),style:searchStyle,type:"search",placeholder:searchPlaceholder,autoFocus:!0,autoComplete:autocompleteSearch?"on":"off",value:searchValue,onChange:function onChange(e){return function handleSearchChange(e){var searchValue=e.currentTarget.value;setSearchValue(searchValue)}(e)}})),countryDropdownList.length>0?countryDropdownList:PhoneInput_jsx("li",{className:"no-entries-message"},PhoneInput_jsx("span",null,searchNotFound)))))}PhoneInput.displayName="PhoneInput",PhoneInput.propTypes={prefix:prop_types_default().string,containerStyle:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),formData:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),style:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),inputStyle:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),buttonStyle:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),dropdownStyle:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),searchStyle:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),setVal:prop_types_default().func,enableSearch:prop_types_default().bool,searchClass:prop_types_default().string,disableSearchIcon:prop_types_default().bool,id:prop_types_default().string,searchPlaceholder:prop_types_default().string,autocompleteSearch:prop_types_default().bool,searchNotFound:prop_types_default().string,sessionContextLocation:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),campusDial:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),setShowPhoneWarning:prop_types_default().func,errorMsg:prop_types_default().string,placeholder:prop_types_default().string,required:prop_types_default().bool},PhoneInput.defaultProps={prefix:"+",containerStyle:{},formData:{},style:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},setVal:function setVal(){},enableSearch:!0,searchClass:"",disableSearchIcon:!1,id:"",searchPlaceholder:"Search",autocompleteSearch:!1,searchNotFound:"No entries to show",sessionContextLocation:{},campusDial:{},setShowPhoneWarning:function setShowPhoneWarning(){},errorMsg:"Please specify a valid phone number",placeholder:"Phone",required:!0};const components_PhoneInput=PhoneInput;PhoneInput.__docgenInfo={description:"",methods:[],displayName:"PhoneInput",props:{prefix:{defaultValue:{value:"'+'",computed:!1},description:"",type:{name:"string"},required:!1},containerStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},formData:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},style:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},inputStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},buttonStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},dropdownStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},searchStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},setVal:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},enableSearch:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},searchClass:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},disableSearchIcon:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},id:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},searchPlaceholder:{defaultValue:{value:"'Search'",computed:!1},description:"",type:{name:"string"},required:!1},autocompleteSearch:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},searchNotFound:{defaultValue:{value:"'No entries to show'",computed:!1},description:"",type:{name:"string"},required:!1},sessionContextLocation:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},campusDial:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},setShowPhoneWarning:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},errorMsg:{defaultValue:{value:"'Please specify a valid phone number'",computed:!1},description:"",type:{name:"string"},required:!1},placeholder:{defaultValue:{value:"'Phone'",computed:!1},description:"",type:{name:"string"},required:!1},required:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1}}};var useSession=__webpack_require__("./src/hooks/useSession.js"),requests=__webpack_require__("./src/utils/requests.js"),ModalInfo=__webpack_require__("./src/components/ModalInfo.jsx"),useCustomToast=__webpack_require__("./src/hooks/useCustomToast.jsx"),Signup_console=__webpack_require__("./node_modules/console-browserify/index.js"),_excluded=["planSlug","courseChoosed","showVerifyEmail","subscribeValues","buttonStyles","onHandleSubmit","containerGap","extraFields","columnLayout","conversionTechnologies","showLoginLink","invertHandlerPosition","formContainerStyle","submitText","isJoiningEvent"],Signup_jsx=react.createElement;function Signup_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Signup_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Signup_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Signup_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function SignupForm(_ref){var _verifyEmailProps$dat,planSlug=_ref.planSlug,courseChoosed=_ref.courseChoosed,showVerifyEmail=_ref.showVerifyEmail,subscribeValues=_ref.subscribeValues,buttonStyles=_ref.buttonStyles,onHandleSubmit=_ref.onHandleSubmit,containerGap=_ref.containerGap,extraFields=_ref.extraFields,columnLayout=_ref.columnLayout,conversionTechnologies=_ref.conversionTechnologies,showLoginLink=_ref.showLoginLink,invertHandlerPosition=_ref.invertHandlerPosition,formContainerStyle=_ref.formContainerStyle,submitText=_ref.submitText,isJoiningEvent=_ref.isJoiningEvent,rest=(0,objectWithoutProperties.A)(_ref,_excluded),_useSession=(0,useSession.A)(),userSession=_useSession.userSession,location=_useSession.location,_useTranslation=(0,useTranslation.A)("signup"),t=_useTranslation.t,lang=_useTranslation.lang,extraFieldsNames=extraFields.reduce(function(extra,field){var name="string"==typeof field?field:field.name,newValues=Signup_objectSpread({},extra);return newValues[name]="",newValues},{}),_useEmailValidation=Forms_useEmailValidation(),emailValidation=_useEmailValidation.emailValidation,thriggerValidation=_useEmailValidation.thriggerValidation,_useStyle=(0,useStyle.A)(),hexColor=_useStyle.hexColor,featuredColor=_useStyle.featuredColor,plan=(0,utils.eA)("plan")||planSlug,planFormated=plan?encodeURIComponent(plan):variables.Y_,_useState=(0,react.useState)({}),verifyEmailProps=_useState[0],setVerifyEmailProps=_useState[1],_useState2=(0,react.useState)(Signup_objectSpread({first_name:"",last_name:"",phone:"",email:"",confirm_email:""},extraFieldsNames)),formProps=_useState2[0],setFormProps=_useState2[1],_useState3=(0,react.useState)(!1),marketingConsent=_useState3[0],setMarketingConsent=_useState3[1],_useState4=(0,react.useState)(!1),showAlreadyMember=_useState4[0],setShowAlreadyMember=_useState4[1],redirectStorage=(0,utils.$E)("redirect"),redirectStorageAlreadyExists="string"==typeof redirectStorage&&redirectStorage.length>0,createToast=(0,useCustomToast.A)({toastId:"signup-error-warning-email"}).createToast,router=(0,next_router.useRouter)(),planData=(0,signupAction.A)().state.planData,syllabus=router.query.syllabus,extraFieldsValidations=extraFields.reduce(function(extra,field){var isString="string"==typeof field,name=isString?field:field.name,validator=index_esm;(isString||"text"===field.type||"phone"===field.type)&&(validator=validator.string()),"phone"!==field&&"phone"!==field.type||(validator=validator.matches(regex.lZ,(null==field?void 0:field.error)||t("validators.invalid-phone"))),(isString||field.required)&&(validator=validator.required((null==field?void 0:field.error)||"Required"));var validations=Signup_objectSpread({},extra);return validations[name]=validator,validations},{}),signupValidation=index_esm.object().shape(Signup_objectSpread({first_name:index_esm.string().min(2,t("validators.short-input")).max(50,t("validators.long-input")).required(t("validators.first-name-required")),last_name:index_esm.string().min(2,t("validators.short-input")).max(50,t("validators.long-input")).required(t("validators.last-name-required")),email:index_esm.string().matches(regex.Rp,t("validators.invalid-email")).required(t("validators.email-required"))},extraFieldsValidations)),handleSubmit=function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(actions,allValues){var resp,data,dataOfPlan,respPlan,_dataOfPlan,_dataOfPlan2,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=1,breathecode.A.auth().subscribe(Signup_objectSpread(Signup_objectSpread(Signup_objectSpread({},allValues),subscribeValues),{},{conversion_info:userSession}));case 1:if(resp=_context.sent,(data=resp.data).silent_code===variables.y4.USER_EXISTS?setShowAlreadyMember(!0):resp.status>=400?createToast({position:"top",title:null==data?void 0:data.detail,status:"error",isClosable:!0,duration:6e3}):(0,requests.A$)({dataLayer:{event:"sign_up",method:"native",email:data.email,phone:data.phone||"",first_name:data.first_name,last_name:data.last_name,plan:planFormated,user_id:data.user,course:allValues.course,country:allValues.country,city:data.city,syllabus:allValues.syllabus,cohort:allValues.cohort,conversion_info:userSession,conversion_technologies:conversionTechnologies,agent:(0,utils.VK)()}}),(0,utils.ni)("subscriptionId",null==data?void 0:data.id),dataOfPlan=planData){_context.next=3;break}return _context.next=2,breathecode.A.payment({country_code:null==location?void 0:location.countryShort}).getPlan(planFormated);case 2:respPlan=_context.sent,dataOfPlan=null==respPlan?void 0:respPlan.data;case 3:"number"==typeof(null==data?void 0:data.id)&&((null!==(_dataOfPlan=dataOfPlan)&&void 0!==_dataOfPlan&&_dataOfPlan.has_waiting_list||"WAITING_LIST"===(null==data?void 0:data.status))&&((0,utils.ni)("subscriptionId",data.id),router.push("/thank-you")),null==data||!data.access_token||null!==(_dataOfPlan2=dataOfPlan)&&void 0!==_dataOfPlan2&&_dataOfPlan2.has_waiting_list||(setVerifyEmailProps({data:Signup_objectSpread(Signup_objectSpread({},allValues),data),state:!0}),router.push({query:Signup_objectSpread(Signup_objectSpread({},router.query),{},{token:data.access_token})}),onHandleSubmit(Signup_objectSpread(Signup_objectSpread({},allValues),data)))),resp.status>=400&&null!=data&&data.phone&&createToast({position:"top",title:null==data?void 0:data.phone[0],status:"warning",duration:6e3,isClosable:!0}),actions.setSubmitting(!1),_context.next=5;break;case 4:_context.prev=4,_t=_context.catch(0),Signup_console.log(_t),actions.setSubmitting(!1),createToast({position:"top",title:t("alert-message:error-signup"),status:"error",isClosable:!0,duration:6e3});case 5:case"end":return _context.stop()}},_callee,null,[[0,4]])}));return function handleSubmit(_x,_x2){return _ref2.apply(this,arguments)}}(),isDisabled=!marketingConsent||emailValidation.loading||!emailValidation.valid;return Signup_jsx(react.Fragment,null,Signup_jsx(formik_esm.l1,{initialValues:{first_name:"",last_name:"",phone:"",email:""},onSubmit:function onSubmit(values,actions){var allValues=Signup_objectSpread(Signup_objectSpread({},values),{},{phone:null!=values&&values.phone.includes("undefined")?"":null==values?void 0:values.phone,course:courseChoosed,country:null==location?void 0:location.country,syllabus,city:null==location?void 0:location.city,plan:planFormated,language:lang,has_marketing_consent:marketingConsent});handleSubmit(actions,allValues)},validationSchema:signupValidation},function(_ref3){var isSubmitting=_ref3.isSubmitting;return Signup_jsx(formik_esm.lV,{style:Signup_objectSpread({display:"flex",flexDirection:"column",gridGap:containerGap},formContainerStyle)},Signup_jsx(chunk_6CSUKJP7.az,(0,esm_extends.A)({display:"flex",flexDirection:"column",maxWidth:"430px",margin:"0 auto",gridGap:columnLayout?"18px":"24px"},rest),Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",gridGap:"18px",flexDirection:{base:"column",md:"row"}},Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:{base:"column",sm:columnLayout?"column":"row"},gridGap:"18px",flex:1},Signup_jsx(FieldForm.A,{type:"text",name:"first_name",label:t("common:first-name"),formProps,setFormProps}),Signup_jsx(FieldForm.A,{type:"text",name:"last_name",label:t("common:last-name"),formProps,setFormProps}))),extraFields.map(function(field){return"phone"===field||"phone"===(null==field?void 0:field.type)?Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flex:1,flexDirection:"column",fontSize:"12px",gridGap:"4px"},Signup_jsx(components_PhoneInput,(0,esm_extends.A)({inputStyle:{height:"50px"},setVal:setFormProps,placeholder:t("common:phone"),formData:formProps,required:!0},field))):Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",gridGap:"18px",flexDirection:{base:"column",md:"row"}},Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:{base:"column",sm:columnLayout?"column":"row"},gridGap:"18px",flex:1},Signup_jsx(FieldForm.A,(0,esm_extends.A)({type:"text",formProps,setFormProps},field))))}),Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:{base:"column",sm:"row"},gridGap:"18px"},Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flex:1,flexDirection:"column",fontSize:"12px",gridGap:"4px"},Signup_jsx(chunk_6XCF7NSR.M,null,Signup_jsx(FieldForm.A,{type:"email",name:"email",label:t("common:email"),formProps,setFormProps,handleOnChange:thriggerValidation}),Signup_jsx(chunk_J356FWKS.t,{top:"50%",transform:"translate(0,-50%)"},emailValidation.loading&&Signup_jsx(chunk_NO6MRLPK.y,{color:hexColor.blueDefault}))),emailValidation.loading&&Signup_jsx(chunk_6CSUKJP7.az,null,t("validating-email")),emailValidation.valid&&Signup_jsx(chunk_6CSUKJP7.az,{color:hexColor.green},t("email-validated")),emailValidation.error&&Signup_jsx(chunk_6CSUKJP7.az,{color:hexColor.danger},emailValidation.error),Signup_jsx(chunk_6CSUKJP7.az,{color:"blue.default"},t("email-info")))),Signup_jsx(chunk_VFYM6BU6.S,{size:"md",spacing:"8px",colorScheme:"green",isChecked:marketingConsent,onChange:function onChange(){return setMarketingConsent(!marketingConsent)}},Signup_jsx(Text.A,{size:"10px",textAlign:"left"},t("validators.receive-information"))),!invertHandlerPosition&&showLoginLink&&Signup_jsx(chunk_MPFPK3CX.s,{fontSize:"13px",backgroundColor:featuredColor,justifyContent:"center",alignItems:"center",borderRadius:"4px",gridGap:"6px"},t("already-have-account")," ",Signup_jsx(NextChakraLink.A,{onClick:function onClick(){return(0,utils.ni)("redirect",null==router?void 0:router.asPath)},href:"/login",redirectAfterLogin:!redirectStorageAlreadyExists,fontSize:"13px",variant:"default"},t("login-here")))),Signup_jsx(chunk_6CSUKJP7.az,null,Signup_jsx(chunk_NAA7TEES.$,(0,esm_extends.A)({width:"100%",type:"submit",variant:"default",isDisabled:isDisabled||isJoiningEvent,isLoading:isSubmitting||isJoiningEvent,alignSelf:"flex-end"},buttonStyles),submitText||t("create-account")),Signup_jsx(Text.A,{size:"10px",textAlign:"left"},t("agree-terms-and-conditions")," ",Signup_jsx(NextChakraLink.A,{variant:"default",fontSize:"10px",href:t("common:terms-and-conditions-link"),target:"_blank"},t("common:terms-and-conditions"))," ",t("common:word-connector.and")," ",Signup_jsx(NextChakraLink.A,{variant:"default",fontSize:"10px",href:t("common:privacy-policy-link"),target:"_blank"},t("common:privacy-policy")),".")),invertHandlerPosition&&showLoginLink&&Signup_jsx(chunk_MPFPK3CX.s,{fontSize:"13px",backgroundColor:featuredColor,justifyContent:"center",alignItems:"center",borderRadius:"4px",gridGap:"6px"},t("already-have-account")," ",Signup_jsx(NextChakraLink.A,{onClick:function onClick(){return(0,utils.ni)("redirect",null==router?void 0:router.asPath)},href:"/login",redirectAfterLogin:!redirectStorageAlreadyExists,fontSize:"13px",variant:"default"},t("login-here"))))}),Signup_jsx(ModalInfo.default,{isOpen:showAlreadyMember,headerStyles:{textAlign:"center"},onClose:function onClose(){return setShowAlreadyMember(!1)},title:t("signup:alert-message.title"),childrenDescription:Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column",alignItems:"center",gridGap:"17px"},Signup_jsx(chunk_WPAIWTI3.e,{src:"".concat(variables.UA,"/static/img/avatar-7.png"),border:"3px solid #0097CD",width:"91px",height:"91px",borderRadius:"50px"}),Signup_jsx(Text.A,{size:"14px",textAlign:"center",dangerouslySetInnerHTML:{__html:t("signup:alert-message.description")}})),closeButtonVariant:"outline",closeButtonStyles:{borderRadius:"3px",color:"#0097CD",borderColor:"#0097CD"},buttonHandlerStyles:{variant:"default"},actionHandler:function actionHandler(){(0,utils.ni)("redirect",null==router?void 0:router.asPath),router.push("/login"),setShowAlreadyMember(!1)},handlerText:t("common:login")}),showVerifyEmail&&Signup_jsx(ModalInfo.default,{headerStyles:{textAlign:"center"},title:t("signup:alert-message.validate-email-title"),footerStyle:{flexDirection:"row-reverse"},closeButtonVariant:"outline",closeButtonStyles:{borderRadius:"3px",color:"#0097CD",borderColor:"#0097CD"},childrenDescription:Signup_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column",alignItems:"center",gridGap:"17px"},Signup_jsx(chunk_WPAIWTI3.e,{src:"".concat(variables.UA,"/static/img/avatar-1.png"),border:"3px solid #0097CD",width:"91px",height:"91px",borderRadius:"50px"}),Signup_jsx(Text.A,{size:"14px",textAlign:"center",dangerouslySetInnerHTML:{__html:t("signup:alert-message.validate-email-description",{email:null==verifyEmailProps||null===(_verifyEmailProps$dat=verifyEmailProps.data)||void 0===_verifyEmailProps$dat?void 0:_verifyEmailProps$dat.email})}})),isOpen:verifyEmailProps.state,buttonHandlerStyles:{variant:"default"},actionHandler:function actionHandler(){var _verifyEmailProps$dat2,inviteId=null==verifyEmailProps||null===(_verifyEmailProps$dat2=verifyEmailProps.data)||void 0===_verifyEmailProps$dat2?void 0:_verifyEmailProps$dat2.id;breathecode.A.auth().resendConfirmationEmail(inviteId).then(function(resp){var data=null==resp?void 0:resp.data;createToast(void 0===data?{position:"top",status:"info",title:t("signup:alert-message.email-already-sent"),isClosable:!0,duration:6e3}:{position:"top",status:"success",title:t("signup:alert-message.email-sent-to",{email:null==data?void 0:data.email}),isClosable:!0,duration:6e3})})},handlerText:t("signup:resend"),forceHandlerAndClose:!0,onClose:function onClose(){setVerifyEmailProps(Signup_objectSpread(Signup_objectSpread({},verifyEmailProps),{},{state:!1}))}}))}SignupForm.propTypes={onHandleSubmit:prop_types_default().func,planSlug:prop_types_default().string,courseChoosed:prop_types_default().string,showVerifyEmail:prop_types_default().bool,containerGap:prop_types_default().string,extraFields:prop_types_default().arrayOf(prop_types_default().string),conversionTechnologies:prop_types_default().string,columnLayout:prop_types_default().bool,subscribeValues:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),showLoginLink:prop_types_default().bool,buttonStyles:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),invertHandlerPosition:prop_types_default().bool,formContainerStyle:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),submitText:prop_types_default().string,isJoiningEvent:prop_types_default().bool},SignupForm.defaultProps={onHandleSubmit:function onHandleSubmit(){},planSlug:null,courseChoosed:"",showVerifyEmail:!0,containerGap:"24px",extraFields:[],columnLayout:!1,subscribeValues:{},conversionTechnologies:null,showLoginLink:!1,buttonStyles:{},invertHandlerPosition:!1,formContainerStyle:{},submitText:void 0,isJoiningEvent:!1};const Signup=SignupForm;SignupForm.__docgenInfo={description:"",methods:[],displayName:"SignupForm",props:{onHandleSubmit:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},planSlug:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},courseChoosed:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},showVerifyEmail:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},containerGap:{defaultValue:{value:"'24px'",computed:!1},description:"",type:{name:"string"},required:!1},extraFields:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},columnLayout:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},subscribeValues:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},conversionTechnologies:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},showLoginLink:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},buttonStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},invertHandlerPosition:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},formContainerStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},submitText:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},isJoiningEvent:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1}}};var chunk_O5CRURSQ=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-O5CRURSQ.mjs"),chunk_RN6VKE3K=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-RN6VKE3K.mjs"),chunk_6FWJQRCB=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6FWJQRCB.mjs"),chunk_YTV6DHKL=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-YTV6DHKL.mjs"),validationSchemas=__webpack_require__("./src/components/Forms/validationSchemas.js"),useAuth=__webpack_require__("./src/hooks/useAuth.js"),LogIn_console=__webpack_require__("./node_modules/console-browserify/index.js"),LogIn_jsx=react.createElement;function LogIn(_ref){var hideLabel=_ref.hideLabel,actionfontSize=_ref.actionfontSize,callBack=_ref.callBack,disableRedirect=_ref.disableRedirect,_useTranslation=(0,useTranslation.A)("login"),t=_useTranslation.t,lang=_useTranslation.lang,router=(0,next_router.useRouter)(),query=router.query,pathname=router.pathname,_useState=(0,react.useState)({valid:!1,loading:!1,error:null,status:null}),emailValidation=_useState[0],setEmailValidation=_useState[1],_useState2=(0,react.useState)(!1),showPSW=_useState2[0],setShowPSW=_useState2[1],_useState3=(0,react.useState)(!1),googleError=_useState3[0],setGoogleError=_useState3[1],_useState4=(0,react.useState)(1),step=_useState4[0],setStep=_useState4[1],passwordInputRef=(0,react.useRef)(null),login=(0,useAuth.A)().login,createToast=(0,useCustomToast.A)({toastId:"invitation-toast-send"}).createToast,_useState5=(0,react.useState)(!1),invitationSent=_useState5[0],setInvitationSent=_useState5[1],_useStyle=(0,useStyle.A)(),hexColor=_useStyle.hexColor,borderColor=_useStyle.borderColor;(0,react.useEffect)(function(){if("google-user-not-found"===query.error){setGoogleError(!0);var params=new URLSearchParams(query);params.delete("error"),router.replace({pathname,query:params.toString()},void 0,{shallow:!0})}},[query]),(0,react.useEffect)(function(){2===step&&passwordInputRef.current&&passwordInputRef.current.focus()},[step]);var validateEmail=function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(email){var response,result,_t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,setEmailValidation({valid:!1,loading:!0,error:null,status:null}),_context.next=1,breathecode.A.auth().verifyEmail(email,lang);case 1:(response=_context.sent).status&&response.status>=400?(result=response.data,setEmailValidation({valid:!1,loading:!1,error:result.detail,status:response.status})):(setEmailValidation({valid:!0,loading:!1,error:null,status:response.status}),setStep(2)),_context.next=3;break;case 2:_context.prev=2,_t=_context.catch(0),LogIn_console.log(_t),setEmailValidation({valid:!1,loading:!1,error:"string"==typeof _t?_t:_t.message,status:null});case 3:case"end":return _context.stop()}},_callee,null,[[0,2]])}));return function validateEmail(_x){return _ref2.apply(this,arguments)}}(),sendConfirmationLink=function(){var _ref3=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee2(email){var resp,data,_t2;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=1,breathecode.A.auth().resendConfirmationEmail(email);case 1:200===(null==(resp=_context2.sent)?void 0:resp.status)?(setInvitationSent(!0),createToast({position:"top",title:t("invitation-sended"),status:"success",duration:9e3,isClosable:!0})):(data=resp.data,createToast({position:"top",title:data.detail,status:"error",duration:9e3,isClosable:!0})),_context2.next=3;break;case 2:_context2.prev=2,_t2=_context2.catch(0),LogIn_console.log(_t2),createToast({position:"top",title:t("invitation-error"),status:"error",duration:9e3,isClosable:!0});case 3:case"end":return _context2.stop()}},_callee2,null,[[0,2]])}));return function sendConfirmationLink(_x2){return _ref3.apply(this,arguments)}}();return LogIn_jsx(react.Fragment,null,LogIn_jsx(formik_esm.l1,{initialValues:{email:"",password:""},onSubmit:function onSubmit(values,actions){login(values,disableRedirect).then(function(data){actions.setSubmitting(!1),callBack(),200===data.status&&createToast({position:"top",title:t("alert-message:welcome"),status:"success",duration:9e3,isClosable:!0})}).catch(function(){actions.setSubmitting(!1),createToast({position:"top",title:t("alert-message:account-not-found"),status:"error",duration:9e3,isClosable:!0})})},validationSchema:validationSchemas.A.login},function(_ref4){var isSubmitting=_ref4.isSubmitting,values=_ref4.values,setFieldTouched=_ref4.setFieldTouched;return LogIn_jsx(formik_esm.lV,null,LogIn_jsx(chunk_O5CRURSQ.B,{display:1!==step&&"none",spacing:4,justifyContent:"space-between"},LogIn_jsx(chunk_NAA7TEES.$,{as:"a",href:utils.l6?"".concat(variables.UA,"/v1/auth/google?url=").concat(window.location.href):"#",cursor:"pointer",variant:"outline",weight:"700",width:"100%",onClick:function onClick(){(0,requests.A$)({dataLayer:{event:"login",path:"/login",method:"google",agent:(0,utils.VK)()}})}},LogIn_jsx(Icon.A,{icon:"google",width:"18px",height:"18px"}),LogIn_jsx(Text.A,{as:"span",size:"md",marginLeft:"10px",textTransform:"uppercase"},t("login-with-google"))),LogIn_jsx(chunk_NAA7TEES.$,{as:"a",href:utils.l6?"".concat(variables.UA,"/v1/auth/github?url=").concat(window.location.href):"#",cursor:"pointer",variant:"outline",weight:"700",width:"100%",onClick:function onClick(){(0,requests.A$)({dataLayer:{event:"login",path:"/login",method:"github",agent:(0,utils.VK)()}})}},LogIn_jsx(Icon.A,{icon:"github",width:"18px",height:"18px"}),LogIn_jsx(Text.A,{as:"span",size:"md",marginLeft:"10px",textTransform:"uppercase"},t("login-with-github"))),LogIn_jsx(chunk_6CSUKJP7.az,{display:"flex",justifyContent:"center",width:"100%"},LogIn_jsx(chunk_6CSUKJP7.az,{borderBottom:"solid 1px",borderColor,width:"100%",marginRight:"13px",marginBottom:"9px"}),LogIn_jsx(chunk_6CSUKJP7.az,{color:"gray.default"},t("common:word-connector.or")),LogIn_jsx(chunk_6CSUKJP7.az,{borderBottom:"solid 1px",borderColor,width:"100%",marginLeft:"14px",marginBottom:"9px"})),LogIn_jsx(formik_esm.D0,{name:"email",autoComplete:"email"},function(_ref5){var field=_ref5.field,form=_ref5.form;return LogIn_jsx(chunk_6ZNYZUDD.MJ,{isInvalid:form.errors.email&&form.touched.email,onChange:function onChange(){setEmailValidation({valid:!1,loading:!1,error:null,status:null})}},!hideLabel&&LogIn_jsx(chunk_RN6VKE3K.l,{margin:"0px",color:"gray.default",fontSize:"sm",float:"left",htmlFor:"email"},t("common:email")),LogIn_jsx(chunk_GYFRIY2Z.p,(0,esm_extends.A)({},field,{type:"email",id:"email",autoComplete:"email",placeholder:hideLabel?t("common:email"):"email@example.co",height:"50px",borderColor:"gray.default",borderRadius:"3px"})),LogIn_jsx(chunk_3GP7MWMA.Wt,null,form.errors.email))}),emailValidation.error&&!invitationSent&&LogIn_jsx(Text.A,{marginTop:"5px !important",color:hexColor.danger},emailValidation.error,403===emailValidation.status&&LogIn_jsx(react.Fragment,null,",","  ",LogIn_jsx(chunk_NAA7TEES.$,{textDecoration:"underline",padding:"0",color:hexColor.danger,variant:"link",onClick:function onClick(){return sendConfirmationLink(values.email)}},t("validation-link")))),invitationSent?LogIn_jsx(chunk_6CSUKJP7.az,{padding:"5px",borderRadius:"5px",background:hexColor.featuredColor},LogIn_jsx(Text.A,{size:"md",marginLeft:"10px"},t("invitation-message"))):LogIn_jsx(chunk_NAA7TEES.$,{width:"100%",isLoading:emailValidation.loading,isDisabled:!(0,utils.B9)(values.email),variant:"default",fontSize:actionfontSize||"l",type:"submit",onClick:function onClick(){1===step&&((0,utils.B9)(values.email)?validateEmail(values.email):setFieldTouched("email",!0,!0))}},t("next"))),LogIn_jsx(chunk_O5CRURSQ.B,{display:2!==step&&"none",spacing:4,justifyContent:"space-between"},LogIn_jsx(Text.A,{textAlign:"left"},LogIn_jsx(chunk_NAA7TEES.$,{size:"xs",onClick:function onClick(){return setStep(1)},variant:"link"},"←","  ",t("common:go-back"))),LogIn_jsx(Text.A,{size:"md",textAlign:"center"},t("welcome",{email:values.email})),LogIn_jsx(formik_esm.D0,{name:"password"},function(_ref6){var field=_ref6.field,form=_ref6.form;return LogIn_jsx(chunk_6ZNYZUDD.MJ,{marginTop:"4px !important",isInvalid:form.errors.password&&form.touched.password},!hideLabel&&LogIn_jsx(chunk_RN6VKE3K.l,{margin:"0px",color:"gray.default",fontSize:"sm",float:"left",htmlFor:"password"},t("common:password")),LogIn_jsx(chunk_6XCF7NSR.M,null,LogIn_jsx(chunk_GYFRIY2Z.p,(0,esm_extends.A)({},field,{id:"current-password",autoComplete:"current-password",type:showPSW?"text":"password",placeholder:hideLabel?t("common:password"):"***********",height:"50px",borderColor:"gray.default",borderRadius:"3px",ref:passwordInputRef})),LogIn_jsx(chunk_J356FWKS.t,{width:"2.5rem",top:"5px",right:"10px"},LogIn_jsx(chunk_NAA7TEES.$,{background:"transparent",width:"100%",height:"100%",padding:"0",onClick:function onClick(){return setShowPSW(!showPSW)},_hover:{background:"transparent"},_active:{background:"transparent"}},LogIn_jsx(Icon.A,showPSW?{icon:"eyeOpen",color:"#A4A4A4",width:"24px",height:"24px"}:{icon:"eyeClosed",color:"#A4A4A4",width:"24px",height:"24px"})))),LogIn_jsx(chunk_3GP7MWMA.Wt,null,form.errors.password))}),LogIn_jsx(chunk_MPFPK3CX.s,{marginTop:"1.5rem"},LogIn_jsx(chunk_6FWJQRCB.h,null),LogIn_jsx(chunk_YTV6DHKL.N,{margin:"0",color:"blue.default",fontWeight:"700",align:"right",fontSize:actionfontSize,target:"_blank",rel:"noopener noreferrer",href:utils.l6?"".concat(variables.UA,"/v1/auth/password/reset?url=").concat(window.location.href):""},t("login:forgot-password"))),LogIn_jsx(chunk_NAA7TEES.$,{width:"100%",variant:"default",fontSize:actionfontSize||"l",isLoading:isSubmitting,type:"submit"},t("login:login"))))}),LogIn_jsx(ModalInfo.default,{isOpen:googleError,headerStyles:{textAlign:"center"},onClose:function onClose(){return setGoogleError(!1)},title:t("google-error.title"),childrenDescription:LogIn_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column",alignItems:"center",gridGap:"17px"},LogIn_jsx(chunk_WPAIWTI3.e,{src:"".concat(variables.UA,"/static/img/avatar-1.png"),border:"3px solid #0097CD",width:"91px",height:"91px",borderRadius:"50px"}),LogIn_jsx(Text.A,{size:"14px",textAlign:"center",dangerouslySetInnerHTML:{__html:t("google-error.description")}})),closeButtonVariant:"outline",closeButtonStyles:{borderRadius:"3px",color:"#0097CD",borderColor:"#0097CD"},buttonHandlerStyles:{variant:"default"},actionHandler:function actionHandler(){router.push("/checkout"),setGoogleError(!1)},handlerText:t("register")}))}LogIn.propTypes={hideLabel:prop_types_default().bool,actionfontSize:prop_types_default().string,disableRedirect:prop_types_default().bool,callBack:prop_types_default().func},LogIn.defaultProps={hideLabel:!1,actionfontSize:"",disableRedirect:!1,callBack:function callBack(){}};const Forms_LogIn=LogIn;LogIn.__docgenInfo={description:"",methods:[],displayName:"LogIn",props:{hideLabel:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},actionfontSize:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},disableRedirect:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},callBack:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1}}};var UpgradeForConsumableView_jsx=react.createElement;function UpgradeForConsumableView(_ref){var _consumablesDictionar,externalData=_ref.externalData,t=(0,useTranslation.A)("signup").t,_useState=(0,react.useState)(null),selectedIndex=_useState[0],setSelectedIndex=_useState[1],_useState2=(0,react.useState)(!1),isValidating=_useState2[0],setIsValidating=_useState2[1],_useStyle=(0,useStyle.A)(),fontColor=_useStyle.fontColor,featuredColor=_useStyle.featuredColor,hexColor=_useStyle.hexColor,router=(0,next_router.useRouter)(),hasASuggestedPlan=null==externalData?void 0:externalData.hasASuggestedPlan,suggestedPlan=null==externalData?void 0:externalData.suggestedPlan,hasBasePlan=null==externalData?void 0:externalData.hasBasePlan,basePlan=null==externalData?void 0:externalData.basePlan,allSubscriptions=(null==externalData?void 0:externalData.allSubscriptions)||[],event=(null==externalData?void 0:externalData.event)||{},academyService=(null==externalData?void 0:externalData.academyService)||{},type=null==externalData?void 0:externalData.consumableType,consumablesDictionary={event:{title:t("consumables.ran-out-of-events"),description:t("consumables.ran-out-of-events-text"),access:t("consumables.and-get-event-access"),notAvailable:t("consumables.consumable-event-not-available"),purchase:t("consumables.purchase-one-or-more-events"),subscriptionMatch:allSubscriptions.filter(function(s){var _s$selected_event_typ;return null===(_s$selected_event_typ=s.selected_event_type_set)||void 0===_s$selected_event_typ?void 0:_s$selected_event_typ.event_types.some(function(ev){var _event$event_type;return(null==ev?void 0:ev.slug)===(null==event||null===(_event$event_type=event.event_type)||void 0===_event$event_type?void 0:_event$event_type.slug)})}),getPath:function getPath(suscriptions){return"/checkout/event/".concat(suscriptions.map(function(subscription){return null==subscription?void 0:subscription.selected_event_type_set.slug}).join(","))}},mentorship:{title:t("consumables.ran-out-of-mentorships"),description:t("consumables.ran-out-of-mentorships-text"),access:t("consumables.and-get-mentorship-access"),notAvailable:t("consumables.consumable-mentorship-not-available"),purchase:t("consumables.purchase-one-or-more-sessions"),subscriptionMatch:null==allSubscriptions?void 0:allSubscriptions.filter(function(s){var _s$selected_mentorshi;return null==s||null===(_s$selected_mentorshi=s.selected_mentorship_service_set)||void 0===_s$selected_mentorshi?void 0:_s$selected_mentorshi.mentorship_services.some(function(service){return service.slug===(null==academyService?void 0:academyService.slug)})}),getPath:function getPath(suscriptions){return"/checkout/mentorship/".concat(suscriptions.map(function(subscription){return null==subscription?void 0:subscription.selected_mentorship_service_set.slug}).join(","))}},aiCompilation:{title:t("consumables.ran-out-of-compilations"),description:t("consumables.ran-out-of-compilations-text"),access:t("consumables.and-get-compilations-access"),notAvailable:t("consumables.consumable-compilations-not-available"),purchase:t("consumables.purchase-one-or-more-compilations"),subscriptionMatch:allSubscriptions,getPath:function getPath(){return"/checkout/compilation/ai-compilation"}}},alreadySubscribedToAll=hasBasePlan&&hasASuggestedPlan,noExistsConsumablesForUserSubscriptions=0===(null===(_consumablesDictionar=consumablesDictionary[type])||void 0===_consumablesDictionar||null===(_consumablesDictionar=_consumablesDictionar.subscriptionMatch)||void 0===_consumablesDictionar?void 0:_consumablesDictionar.length);return UpgradeForConsumableView_jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"16px",padding:"15px"},UpgradeForConsumableView_jsx(Heading.A,{size:"21px"},consumablesDictionary[type].title),UpgradeForConsumableView_jsx(Text.A,{size:"14px",fontWeight:700},consumablesDictionary[type].description),UpgradeForConsumableView_jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"16px"},!alreadySubscribedToAll&&(basePlan||suggestedPlan)&&UpgradeForConsumableView_jsx(chunk_NAA7TEES.$,{variant:"unstyled",isDisabled:alreadySubscribedToAll,_hover:{background:"yellow.light"},display:"flex",cursor:"pointer",background:"yellow.light",onClick:function onClick(){return setSelectedIndex(0)},border:"2px solid",borderColor:0===selectedIndex?hexColor.yellowDefault:"transparent",alignItems:"start",width:"100%",height:"auto",flexDirection:"column",gridGap:"6px",varian:"default",padding:"8px 14px",borderRadius:"13px"},UpgradeForConsumableView_jsx(chunk_MPFPK3CX.s,{gridGap:"10px",alignItems:"center"},UpgradeForConsumableView_jsx(Text.A,{size:"12px",fontWeight:700,padding:"4px 10px",background:"yellow.default",color:"white",borderRadius:"18px"},hasBasePlan?(null==suggestedPlan?void 0:suggestedPlan.title)||(0,utils.rS)(null==suggestedPlan?void 0:suggestedPlan.slug):(null==basePlan?void 0:basePlan.title)||(0,utils.rS)(null==basePlan?void 0:basePlan.slug)),alreadySubscribedToAll&&UpgradeForConsumableView_jsx(Text.A,{size:"11px"},"(".concat(t("consumables.already-have-it"),")"))),UpgradeForConsumableView_jsx(Text.A,{size:"12px",fontWeight:700,textTransform:"uppercase",color:"black"},t("upgrade-a-plan")),UpgradeForConsumableView_jsx(Text.A,{size:"12px",fontWeight:400,color:"black"},consumablesDictionary[type].access)),UpgradeForConsumableView_jsx(chunk_NAA7TEES.$,{variant:"unstyled",isDisabled:noExistsConsumablesForUserSubscriptions,_hover:{background:featuredColor},display:"flex",cursor:"pointer",background:featuredColor,onClick:function onClick(){return setSelectedIndex(1)},border:"2px solid",borderColor:1===selectedIndex?hexColor.blueDefault:"transparent",alignItems:"start",width:"100%",height:"auto",flexDirection:"column",gridGap:"6px",varian:"default",padding:"8px 14px",borderRadius:"13px"},UpgradeForConsumableView_jsx(chunk_MPFPK3CX.s,{gridGap:"10px",alignItems:"center"},UpgradeForConsumableView_jsx(Text.A,{size:"12px",fontWeight:700,padding:"4px 10px",background:"blue.default",color:"white",borderRadius:"18px"},"Bundle"),noExistsConsumablesForUserSubscriptions&&UpgradeForConsumableView_jsx(Text.A,{size:"11px"},"(".concat(consumablesDictionary[type].notAvailable,")"))),UpgradeForConsumableView_jsx(Text.A,{size:"12px",fontWeight:700,textTransform:"uppercase",color:fontColor},consumablesDictionary[type].purchase),UpgradeForConsumableView_jsx(Text.A,{size:"12px",fontWeight:400,color:fontColor},t("consumables.avoid-monthly-commitment")))),UpgradeForConsumableView_jsx(chunk_NAA7TEES.$,{variant:"default",isDisabled:null===selectedIndex,mt:"2rem",padding:"0 51px",isLoading:isValidating,onClick:function handleGetConsumables(){if(setIsValidating(!0),0!==selectedIndex||alreadySubscribedToAll||router.push({pathname:"/checkout",query:{plan:null==suggestedPlan?void 0:suggestedPlan.slug}}),1===selectedIndex){(0,utils.ni)("redirected-from",null==router?void 0:router.asPath);var subscriptions=consumablesDictionary[type].subscriptionMatch,pathname=consumablesDictionary[type].getPath(subscriptions);router.push({pathname})}}},t("take-me-there")))}UpgradeForConsumableView.displayName="UpgradeForConsumableView",UpgradeForConsumableView.propTypes={externalData:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().string,prop_types_default().object]))},UpgradeForConsumableView.defaultProps={externalData:{}};const components_UpgradeForConsumableView=UpgradeForConsumableView;UpgradeForConsumableView.__docgenInfo={description:"",methods:[],displayName:"UpgradeForConsumableView",props:{externalData:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"string"},{name:"object"}]}},required:!1}}};var PurchasePlanView_jsx=react.createElement;function PurchassePlanView(_ref){var _planData$featured_in,planData=_ref.planData,handleOnClose=_ref.handleOnClose,_useStyle=(0,useStyle.A)(),hexColor=_useStyle.hexColor,featuredColor=_useStyle.featuredColor,t=(0,useTranslation.A)("signup").t;return PurchasePlanView_jsx(chunk_MPFPK3CX.s,{flexDirection:"column",height:"100%",background:featuredColor,gridGap:"16px",padding:"16px",borderRadius:"11px",borderBottom:"16px",justifyContent:"center"},PurchasePlanView_jsx(Heading.A,{as:"h1",size:"xsm",display:"flex",flexDirection:"column"},PurchasePlanView_jsx("span",null,t("welcome-to")),(null==planData?void 0:planData.title)&&PurchasePlanView_jsx("span",null,planData.title," ","plan")),PurchasePlanView_jsx(Heading.A,{size:"14px",color:"blue.default"},t("info.this-plan-includes")),PurchasePlanView_jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"16px"},(null==planData||null===(_planData$featured_in=planData.featured_info)||void 0===_planData$featured_in?void 0:_planData$featured_in.length)>0&&(null==planData?void 0:planData.featured_info.map(function(info){var _info$service,_info$service2,_info$service3,_info$service4,_info$features$;return(null==info||null===(_info$service=info.service)||void 0===_info$service?void 0:_info$service.slug)&&PurchasePlanView_jsx(chunk_MPFPK3CX.s,{gridGap:"8px"},null!=info&&null!==(_info$service2=info.service)&&void 0!==_info$service2&&_info$service2.icon_url?PurchasePlanView_jsx(chunk_SMHKDLMK._,{src:info.service.icon_url,width:16,height:16,style:{objectFit:"cover"},alt:"Icon for service item",margin:"5px 0 0 0"}):PurchasePlanView_jsx(Icon.A,{icon:"checked2",color:hexColor.blueDefault,width:"16px",height:"16px",margin:"5px 0 0 0"}),PurchasePlanView_jsx(chunk_6CSUKJP7.az,null,PurchasePlanView_jsx(Text.A,{size:"16px",fontWeight:700,textAlign:"left"},(null==info||null===(_info$service3=info.service)||void 0===_info$service3?void 0:_info$service3.title)||(0,utils.rS)(null==info||null===(_info$service4=info.service)||void 0===_info$service4?void 0:_info$service4.slug)),info.features.length>0&&PurchasePlanView_jsx(Text.A,{size:"14px",textAlign:"left"},null===(_info$features$=info.features[0])||void 0===_info$features$?void 0:_info$features$.description)))}))),PurchasePlanView_jsx(chunk_NAA7TEES.$,{display:"flex",gridGap:"10px",width:"fit-content",margin:"0 auto",onClick:handleOnClose,variant:"Link",fontSize:"17px",borderColor:"blue.default",color:"blue.default",_hover:{textDecoration:"underline"}},t("continue-learning"),PurchasePlanView_jsx(Icon.A,{icon:"longArrowRight",color:"currentColor",width:"24px",height:"10px"})))}PurchassePlanView.displayName="PurchassePlanView",PurchassePlanView.propTypes={planData:prop_types_default().shape({featured_info:prop_types_default().arrayOf(prop_types_default().shape({service:prop_types_default().shape({slug:prop_types_default().string,title:prop_types_default().string,icon_url:prop_types_default().string}),features:prop_types_default().arrayOf(prop_types_default().shape({description:prop_types_default().string}))})),title:prop_types_default().string}).isRequired,handleOnClose:prop_types_default().func},PurchassePlanView.defaultProps={handleOnClose:function handleOnClose(){}};const PurchasePlanView=PurchassePlanView;PurchassePlanView.__docgenInfo={description:"",methods:[],displayName:"PurchassePlanView",props:{handleOnClose:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},planData:{description:"",type:{name:"shape",value:{featured_info:{name:"arrayOf",value:{name:"shape",value:{service:{name:"shape",value:{slug:{name:"string",required:!1},title:{name:"string",required:!1},icon_url:{name:"string",required:!1}},required:!1},features:{name:"arrayOf",value:{name:"shape",value:{description:{name:"string",required:!1}}},required:!1}}},required:!1},title:{name:"string",required:!1}}},required:!0}}};var WaitingListView_jsx=react.createElement;function WaitingListView(_ref){var _planData$featured_in,planData=_ref.planData,handleOnClose=_ref.handleOnClose,t=(0,useTranslation.A)("signup").t,hexColor=(0,useStyle.A)().hexColor;return WaitingListView_jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"16px"},WaitingListView_jsx(Heading.A,{size:"21px"},t("in-waiting-list-title")),WaitingListView_jsx(Text.A,{size:"14px",fontWeight:700},t("signup-thanks-text")),WaitingListView_jsx(chunk_MPFPK3CX.s,{flexDirection:"column",gridGap:"16px"},(null==planData||null===(_planData$featured_in=planData.featured_info)||void 0===_planData$featured_in?void 0:_planData$featured_in.length)>0&&(null==planData?void 0:planData.featured_info.map(function(info){var _info$service,_info$service2,_info$service3,_info$service4,_info$features$;return(null==info||null===(_info$service=info.service)||void 0===_info$service?void 0:_info$service.slug)&&WaitingListView_jsx(chunk_MPFPK3CX.s,{gridGap:"8px"},null!=info&&null!==(_info$service2=info.service)&&void 0!==_info$service2&&_info$service2.icon_url?WaitingListView_jsx(chunk_SMHKDLMK._,{src:info.service.icon_url,width:16,height:16,style:{objectFit:"cover"},alt:"Icon for service item",margin:"5px 0 0 0"}):WaitingListView_jsx(Icon.A,{icon:"checked2",color:hexColor.blueDefault,width:"16px",height:"16px",margin:"5px 0 0 0"}),WaitingListView_jsx(chunk_6CSUKJP7.az,null,WaitingListView_jsx(Text.A,{size:"16px",fontWeight:700,textAlign:"left"},(null==info||null===(_info$service3=info.service)||void 0===_info$service3?void 0:_info$service3.title)||(0,utils.rS)(null==info||null===(_info$service4=info.service)||void 0===_info$service4?void 0:_info$service4.slug)),info.features.length>0&&WaitingListView_jsx(Text.A,{size:"14px",textAlign:"left"},null===(_info$features$=info.features[0])||void 0===_info$features$?void 0:_info$features$.description)))}))),WaitingListView_jsx(chunk_NAA7TEES.$,{display:"flex",gridGap:"10px",width:"fit-content",margin:"0 auto",onClick:handleOnClose,variant:"Link",fontSize:"17px",borderColor:"blue.default",color:"blue.default",_hover:{textDecoration:"underline"}},t("continue-learning"),WaitingListView_jsx(Icon.A,{icon:"longArrowRight",color:"currentColor",width:"24px",height:"10px"})))}WaitingListView.displayName="WaitingListView",WaitingListView.propTypes={planData:prop_types_default().shape({featured_info:prop_types_default().arrayOf(prop_types_default().shape({service:prop_types_default().shape({slug:prop_types_default().string,title:prop_types_default().string,icon_url:prop_types_default().string}),features:prop_types_default().arrayOf(prop_types_default().shape({description:prop_types_default().string}))}))}).isRequired,handleOnClose:prop_types_default().func},WaitingListView.defaultProps={handleOnClose:function handleOnClose(){}};const ModalToGetAccess_WaitingListView=WaitingListView;WaitingListView.__docgenInfo={description:"",methods:[],displayName:"WaitingListView",props:{handleOnClose:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},planData:{description:"",type:{name:"shape",value:{featured_info:{name:"arrayOf",value:{name:"shape",value:{service:{name:"shape",value:{slug:{name:"string",required:!1},title:{name:"string",required:!1},icon_url:{name:"string",required:!1}},required:!1},features:{name:"arrayOf",value:{name:"shape",value:{description:{name:"string",required:!1}}},required:!1}}},required:!1}}},required:!0}}};var ModalToGetAccess_excluded=["stage","message","planSlug","externalData","currentItem","isOpen","onClose","customFunction"],ModalToGetAccess_jsx=react.createElement,stageType_login="login",stageType_signup="signup",stageType_waitingList="waiting-list",stageType_purchasedPlan="purchased-plan",stageType_outOfConsumables="out-of-consumables",stageType_isWaitingForCohort="is-waiting-for-cohort";function ModalToGetAccess(_ref){var stage=_ref.stage,message=_ref.message,planSlug=_ref.planSlug,externalData=_ref.externalData,currentItem=_ref.currentItem,isOpen=_ref.isOpen,onClose=_ref.onClose,customFunction=_ref.customFunction,rest=(0,objectWithoutProperties.A)(_ref,ModalToGetAccess_excluded),t=(0,useTranslation.A)("signup").t,_useStyle=(0,useStyle.A)(),featuredColor=_useStyle.featuredColor,hexColor=_useStyle.hexColor,_useState=(0,react.useState)(""),stageView=_useState[0],setStageView=_useState[1],_useState2=(0,react.useState)({}),planData=_useState2[0],setPlanData=_useState2[1],view=stageView||stage,isWaitingCohort=stageType_isWaitingForCohort===view,createToast=(0,useCustomToast.A)({toastId:"message-toast"}).createToast,image=function getImage(){return view===stageType_waitingList?"/static/images/happy-meeting-2.webp":view===stageType_outOfConsumables?"/static/images/frustrated-person.webp":view===stageType_isWaitingForCohort?"/static/images/person-pointing-right.webp":"/static/images/happy-meeting.webp"}(),handleOnClose=function handleOnClose(){onClose(),setStageView("")},joinCohortCta=t("join-cohort.cta",{},{returnObjects:!0});return(0,react.useEffect)(function(){message&&message.length>0&&createToast({position:"top",title:message,status:"info",duration:5e3})},[message]),ModalToGetAccess_jsx(SimpleModal.A,(0,esm_extends.A)({isOpen,onClose:handleOnClose,closeOnOverlayClick:!1,padding:"2.5rem 0px 0px 0px",maxWidth:"52rem",bodyStyles:{display:"flex",gridGap:"20px",padding:{base:"16px",md:"0.5rem 16px 0 0"}}},rest),ModalToGetAccess_jsx(chunk_6CSUKJP7.az,{display:{base:"none",md:"flex"},flex:.5,alignItems:!1,maxWidth:"392px"},ModalToGetAccess_jsx(chunk_SMHKDLMK._,{src:image,alt:"Get Access",style:{objectFit:"cover"},margin:!isWaitingCohort&&"2rem 0 0 0",borderBottomLeftRadius:"6px"})),ModalToGetAccess_jsx(chunk_MPFPK3CX.s,{background:hexColor.lightColor,borderRadius:"11px",flexDirection:"column",marginTop:!message&&"2rem",flex:{base:1,md:.5},paddingBottom:"1rem",width:{base:"auto",md:"394px"}},view===stageType_login&&ModalToGetAccess_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column"},ModalToGetAccess_jsx(chunk_MPFPK3CX.s,{flexDirection:{base:"column",md:"row"},gridGap:"10px",alignItems:{base:"start",md:"center"},mt:"0",mb:"24px",justifyContent:"space-between"},ModalToGetAccess_jsx(Heading.A,{size:"21px"},t("about-you")),ModalToGetAccess_jsx(chunk_MPFPK3CX.s,{fontSize:"13px",width:"fit-content",p:"2px 8px",backgroundColor:featuredColor,alignItems:"center",borderRadius:"4px",gridGap:"6px"},t("no-have-account")," ",ModalToGetAccess_jsx(chunk_NAA7TEES.$,{variant:"link",onClick:function onClick(){return setStageView(stageType_signup)},height:"auto",fontSize:"13px"},t("register-here")))),ModalToGetAccess_jsx(Forms_LogIn,{hideLabel:!0,disableRedirect:!0,callBack:handleOnClose,actionfontSize:"14px"})),view===stageType_signup&&ModalToGetAccess_jsx(Signup,{planSlug,onClose:handleOnClose,onSubscribed:function onSubscribed(data){setStageView(stageType_purchasedPlan),setPlanData(data)},onWaitingList:function onWaitingList(data){setStageView(stageType_waitingList),setPlanData(data)},externalLoginLink:ModalToGetAccess_jsx(chunk_NAA7TEES.$,{variant:"link",onClick:function onClick(){return setStageView(stageType_login)},height:"auto",fontSize:"13px"},t("login-here"))}),view===stageType_waitingList&&ModalToGetAccess_jsx(ModalToGetAccess_WaitingListView,{planData,handleOnClose}),view===stageType_purchasedPlan&&ModalToGetAccess_jsx(PurchasePlanView,{planData,handleOnClose}),view===stageType_outOfConsumables&&ModalToGetAccess_jsx(components_UpgradeForConsumableView,{externalData}),view===stageType_isWaitingForCohort&&ModalToGetAccess_jsx(chunk_MPFPK3CX.s,{height:"100%",justifyContent:"center",flexDirection:"column",gridGap:"3rem",padding:"16px",borderRadius:"11px",borderBottom:"16px"},ModalToGetAccess_jsx(chunk_6CSUKJP7.az,null,ModalToGetAccess_jsx(chunk_6CSUKJP7.az,{gap:"5px",display:"flex",alignItems:"center",marginBottom:"10px"},ModalToGetAccess_jsx(chunk_6CSUKJP7.az,{width:"44px",height:"44px",borderRadius:"4px",background:hexColor.blueDefault,padding:"6px"},ModalToGetAccess_jsx(Icon.A,{icon:null==currentItem?void 0:currentItem.icon,color:"white",width:"32px",height:"32px"})),ModalToGetAccess_jsx(Text.A,{fontSize:"18px",color:hexColor.blueDefault},joinCohortCta[null==currentItem?void 0:currentItem.task_type.toLocaleLowerCase()]||t("join-cohort.cta.generic",{type:null==currentItem?void 0:currentItem.task_type.toLocaleLowerCase()}))),ModalToGetAccess_jsx(Heading.A,{as:"h2",size:"sm",display:"flex",flexDirection:"column"},null==currentItem?void 0:currentItem.title)),ModalToGetAccess_jsx(chunk_NAA7TEES.$,{variant:"default",width:!(null!=externalData&&externalData.existsRelatedSubscription)&&"fit-content",onClick:customFunction},null!=externalData&&externalData.existsRelatedSubscription?t("join-cohort.button"):t("common:close")))))}ModalToGetAccess.displayName="ModalToGetAccess",ModalToGetAccess.propTypes={stage:prop_types_default().string,isOpen:prop_types_default().bool,onClose:prop_types_default().func,planSlug:prop_types_default().string,message:prop_types_default().string,externalData:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().string,prop_types_default().object])),customFunction:prop_types_default().func,currentItem:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().object]))},ModalToGetAccess.defaultProps={stage:stageType_login,isOpen:!1,onClose:function onClose(){},planSlug:"",message:"",externalData:{},customFunction:function customFunction(){},currentItem:null};const components_ModalToGetAccess=ModalToGetAccess;ModalToGetAccess.__docgenInfo={description:"",methods:[],displayName:"ModalToGetAccess",props:{stage:{defaultValue:{value:"'login'",computed:!1},description:"",type:{name:"string"},required:!1},isOpen:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onClose:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},planSlug:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},message:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},externalData:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"string"},{name:"object"}]}},required:!1},customFunction:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},currentItem:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"object"}]}},required:!1}}};var AvatarUser=__webpack_require__("./src/components/AvatarUser.jsx"),chunk_3V5HNFOM=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-3V5HNFOM.mjs"),chunk_HEDGDMHJ=__webpack_require__("./node_modules/@chakra-ui/tooltip/dist/chunk-HEDGDMHJ.mjs");const hooks_useCanAccess=function useCanAccess(){var blockedServices=(0,useAuth.A)().blockedServices;return function checkAccess(_ref){var fromAcademy=_ref.fromAcademy,fromCohort=_ref.fromCohort,fromMentorshipService=_ref.fromMentorshipService;if(!blockedServices||!blockedServices["mentorship-service"])return{hasAccess:!0};var mentorshipService=blockedServices["mentorship-service"],isBlockedEverywhere=mentorshipService.from_everywhere,isBlockedByAcademy=fromAcademy&&Array.isArray(mentorshipService.from_academy)&&mentorshipService.from_academy.includes(fromAcademy),isBlockedByCohort=fromCohort&&Array.isArray(mentorshipService.from_cohort)&&mentorshipService.from_cohort.includes(fromCohort),isBlockedByMentorshipService=fromMentorshipService&&Array.isArray(mentorshipService.from_mentorship_service)&&mentorshipService.from_mentorship_service.includes(fromMentorshipService);return{hasAccess:!(isBlockedEverywhere||isBlockedByAcademy||isBlockedByCohort||isBlockedByMentorshipService),isBlockedEverywhere,isBlockedByAcademy,isBlockedByCohort,isBlockedByMentorshipService}}};var CanAccess_jsx=react.createElement;function CanAccess(_ref){var fromAcademy=_ref.fromAcademy,fromCohort=_ref.fromCohort,fromMentorshipService=_ref.fromMentorshipService,children=_ref.children,t=(0,useTranslation.A)("common").t,overlayBg=(0,chunk_7NLW6UB6.dU)("rgba(218, 216, 216, 0.8)","rgba(50, 50, 50, 0.8)");return hooks_useCanAccess()({fromAcademy,fromCohort,fromMentorshipService}).hasAccess?children:CanAccess_jsx(chunk_6CSUKJP7.az,{position:"relative"},children,CanAccess_jsx(chunk_6CSUKJP7.az,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",bg:overlayBg,zIndex:"10",borderRadius:"md"},CanAccess_jsx(chunk_3V5HNFOM.o,{height:"100%",flexDirection:"column",p:4},CanAccess_jsx(chunk_P74GIWPW.E,{cursor:"pointer",fontSize:"xl",fontWeight:"bold",textAlign:"center"},CanAccess_jsx(chunk_HEDGDMHJ.m,{label:t("service-blocked")},"🔒")))))}CanAccess.displayName="CanAccess",CanAccess.propTypes={fromAcademy:prop_types_default().string,fromCohort:prop_types_default().string,fromMentorshipService:prop_types_default().string,children:prop_types_default().node.isRequired},CanAccess.defaultProps={fromAcademy:null,fromCohort:null,fromMentorshipService:null};const components_CanAccess=CanAccess;CanAccess.__docgenInfo={description:"CanAccess component that checks if a user has access to a specific service\n@param {string} fromAcademy - The academy slug to check access for\n@param {string} fromCohort - The cohort slug to check access for\n@param {string} fromMentorshipService - The mentorship service slug to check access for\n@param {React.ReactNode} children - The content to render if the user has access",methods:[],displayName:"CanAccess",props:{fromAcademy:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},fromCohort:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},fromMentorshipService:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"string"},required:!1},children:{description:"",type:{name:"node"},required:!0}}};var useSignup=__webpack_require__("./src/hooks/useSignup.js"),MentoringConsumables_excluded=["t","setMentoryProps","handleGetMoreMentorships","mentoryProps","disableBackButton"],_excluded2=["profiles","size"],MentoringConsumables_jsx=react.createElement;function MentoringConsumables_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function MentoringConsumables_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?MentoringConsumables_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):MentoringConsumables_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function NoConsumablesCard(_ref){var t=_ref.t,setMentoryProps=_ref.setMentoryProps,handleGetMoreMentorships=_ref.handleGetMoreMentorships,_ref$disableBackButto=(_ref.mentoryProps,_ref.disableBackButton),disableBackButton=void 0!==_ref$disableBackButto&&_ref$disableBackButto,rest=(0,objectWithoutProperties.A)(_ref,MentoringConsumables_excluded);return MentoringConsumables_jsx(chunk_6CSUKJP7.az,(0,esm_extends.A)({display:"flex",flexDirection:"column",alignItems:"center"},rest),MentoringConsumables_jsx(Heading.A,{size:"14px",textAlign:"center",lineHeight:"16.8px",justify:"center",mt:"0px",mb:"0px"},t("mentorship.no-mentorship"),MentoringConsumables_jsx("br",null),MentoringConsumables_jsx(NextChakraLink.A,{size:"14px",variant:"default",className:"link",href:t("supportSideBar.learn-more-link"),target:"_blank",rel:"noopener noreferrer"},t("supportSideBar.learn-more"))),MentoringConsumables_jsx(chunk_WPAIWTI3.e,{width:"55px",height:"55px",margin:"16px 0",style:{userSelect:"none"},src:"/static/images/angry-avatar.png"}),MentoringConsumables_jsx(chunk_NAA7TEES.$,{display:"flex",variant:"default",fontSize:"14px",isLoading:rest.isLoading,fontWeight:700,onClick:function onClick(){return handleGetMoreMentorships()},alignItems:"center",gridGap:"10px"},t("supportSideBar.get-more-mentorships"),MentoringConsumables_jsx(Icon.A,{icon:"longArrowRight",width:"24px",height:"10px",color:"currentColor"})),!disableBackButton&&MentoringConsumables_jsx(chunk_NAA7TEES.$,{variant:"link",fontSize:"14px",onClick:function onClick(){return setMentoryProps({})},letterSpacing:"0.05em"},t("common:go-back")))}function ProfilesSection(_ref2){var _displayProfiles,profiles=_ref2.profiles,size=_ref2.size,rest=(0,objectWithoutProperties.A)(_ref2,_excluded2),displayProfiles=profiles||[];return 1===(null==profiles?void 0:profiles.length)&&(displayProfiles=[profiles[0],variables.ym[0],variables.ym[1]]),MentoringConsumables_jsx(chunk_ZYO64PFG.Z,(0,esm_extends.A)({max:4,justifyContent:"center"},rest),null===(_displayProfiles=displayProfiles)||void 0===_displayProfiles?void 0:_displayProfiles.map(function(c,i){var _c$user$profile;if(!c||!c.user)return null;var fullName=c.user.first_name&&c.user.last_name?"".concat(c.user.first_name," ").concat(c.user.last_name):"",avatarUrl=null===(_c$user$profile=c.user.profile)||void 0===_c$user$profile?void 0:_c$user$profile.avatar_url;return MentoringConsumables_jsx(AvatarUser.A,{width:size||"48px",height:size||"48px",index:i,key:c.id||"profile-".concat(i),isWrapped:!0,fullName,avatarUrl,data:c,badge:!0})}))}function MentoringConsumables(_ref3){var _consumableOfService$,_consumables$mentorsh2,_mentoryProps$service4,_mentoryProps$service5,mentoryProps=_ref3.mentoryProps,width=_ref3.width,consumables=_ref3.consumables,cohortSessionIsSaaS=_ref3.cohortSessionIsSaaS,setMentoryProps=_ref3.setMentoryProps,programServices=_ref3.programServices,servicesFiltered=_ref3.servicesFiltered,searchProps=_ref3.searchProps,setSearchProps=_ref3.setSearchProps,setProgramMentors=_ref3.setProgramMentors,mentorsFiltered=_ref3.mentorsFiltered,allMentorsAvailable=_ref3.allMentorsAvailable,subscriptionData=_ref3.subscriptionData,allSubscriptions=_ref3.allSubscriptions,queryService=_ref3.queryService,queryMentor=_ref3.queryMentor,titleSize=_ref3.titleSize,withDescription=_ref3.withDescription,t=(0,useTranslation.A)("dashboard").t,user=(0,useAuth.A)().user,validatePlanExistence=(0,useSignup.A)().validatePlanExistence,_useState=(0,react.useState)(!1),open=_useState[0],setOpen=_useState[1],accessToken=(0,utils.$E)("accessToken"),_useState2=(0,react.useState)(!0),existsMentors=_useState2[0],setExistsMentors=_useState2[1],_useStyle=(0,useStyle.A)(),borderColor=_useStyle.borderColor,lightColor=_useStyle.lightColor,hexColor=_useStyle.hexColor,backgroundColor2=_useStyle.backgroundColor2,_useState3=(0,react.useState)(!1),isModalToGetAccessOpen=_useState3[0],setIsModalToGetAccessOpen=_useState3[1],_useState4=(0,react.useState)(!1),isFetchingDataForModal=_useState4[0],setIsFetchingDataForModal=_useState4[1],_useState5=(0,react.useState)({}),dataToGetAccessModal=_useState5[0],setDataToGetAccessModal=_useState5[1],_useState6=(0,react.useState)({}),consumableOfService=_useState6[0],setConsumableOfService=_useState6[1],_useState7=(0,react.useState)([]),servicesWithMentorsAvailable=_useState7[0],setServicesWithMentorsAvailable=_useState7[1],_useState8=(0,react.useState)(!0),loadingServices=_useState8[0],setLoadingServices=_useState8[1],_useState9=(0,react.useState)(!1),hasReset=_useState9[0],setHasReset=_useState9[1],_useState0=(0,react.useState)(!0),notifyError=_useState0[0],setNotifyError=_useState0[1],_useState1=(0,react.useState)(!0),shouldHandleService=_useState1[0],setShouldHandleService=_useState1[1],router=(0,next_router.useRouter)(),slug=router.query.slug,createToast=(0,useCustomToast.A)({toastId:"finding-mentor-error-service"}).createToast,mentorshipBalance=null==consumableOfService||null===(_consumableOfService$=consumableOfService.balance)||void 0===_consumableOfService$?void 0:_consumableOfService$.unit,currentBalance=Number(mentorshipBalance&&mentorshipBalance),checkAccess=hooks_useCanAccess(),existConsumablesOnCurrentService=function calculateExistenceOfConsumable(){var _consumableOfService$2,_consumableOfService$3,_consumables$mentorsh;return!1===consumableOfService.available_as_saas||(null!=consumableOfService&&consumableOfService.balance?(null==consumableOfService||null===(_consumableOfService$2=consumableOfService.balance)||void 0===_consumableOfService$2?void 0:_consumableOfService$2.unit)>0||-1===(null==consumableOfService||null===(_consumableOfService$3=consumableOfService.balance)||void 0===_consumableOfService$3?void 0:_consumableOfService$3.unit):(null==consumables||null===(_consumables$mentorsh=consumables.mentorship_service_sets)||void 0===_consumables$mentorsh?void 0:_consumables$mentorsh.length)>0&&(currentBalance>0||-1===currentBalance))}(),getMostRecentPaidAt=function getMostRecentPaidAt(invoices){return invoices.reduce(function(latest,invoice){var paidAtDate=new Date(invoice.paid_at);return paidAtDate>latest?paidAtDate:latest},new Date(0))},currentSubscription=Array.isArray(allSubscriptions)&&allSubscriptions.sort(function sortByMostRecentInvoice(a,b){var latestA=getMostRecentPaidAt(a.invoices);return getMostRecentPaidAt(b.invoices)-latestA}).find(function(subscription){var _subscription$selecte;return null===(_subscription$selecte=subscription.selected_mentorship_service_set)||void 0===_subscription$selecte||null===(_subscription$selecte=_subscription$selecte.mentorship_services)||void 0===_subscription$selecte?void 0:_subscription$selecte.some(function(service){var _mentoryProps$service;return service.slug===(null==mentoryProps||null===(_mentoryProps$service=mentoryProps.service)||void 0===_mentoryProps$service?void 0:_mentoryProps$service.slug)})})||(null==allSubscriptions?void 0:allSubscriptions[0]);(0,react.useEffect)(function(){0===(null==allMentorsAvailable?void 0:allMentorsAvailable.length)&&setTimeout(function(){setExistsMentors(!1)},1500)},[allMentorsAvailable]);var manageMentorsData=function manageMentorsData(service,mentors){var _service$academy,_relatedConsumable$ba,_service$academy2;(0,requests.A$)({dataLayer:{event:"select_mentorship_service",path:router.pathname,consumables_amount:currentBalance,mentorship_service:null==service?void 0:service.slug,agent:(0,utils.VK)()}});var relatedConsumable=consumables.find(function(consumable){var _consumable$mentorshi;return null==consumable||null===(_consumable$mentorshi=consumable.mentorship_services)||void 0===_consumable$mentorshi?void 0:_consumable$mentorshi.some(function(c){return(null==c?void 0:c.slug)===(null==service?void 0:service.slug)})});setProgramMentors(mentors),setConsumableOfService(MentoringConsumables_objectSpread(MentoringConsumables_objectSpread({},relatedConsumable),{},{balance:{unit:!1===(null==service||null===(_service$academy=service.academy)||void 0===_service$academy?void 0:_service$academy.available_as_saas)||!1===cohortSessionIsSaaS?-1:null==relatedConsumable||null===(_relatedConsumable$ba=relatedConsumable.balance)||void 0===_relatedConsumable$ba?void 0:_relatedConsumable$ba.unit},available_as_saas:null==service||null===(_service$academy2=service.academy)||void 0===_service$academy2?void 0:_service$academy2.available_as_saas})),setTimeout(function(){setMentoryProps(MentoringConsumables_objectSpread(MentoringConsumables_objectSpread({},mentoryProps),{},{service}))},50)},handleService=function(){var _ref4=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(service){var _service$academy3,mentorsByService,_service$academy4,res;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(checkAccess({fromMentorshipService:service.slug,fromAcademy:null==service||null===(_service$academy3=service.academy)||void 0===_service$academy3?void 0:_service$academy3.slug}).hasAccess){_context.next=1;break}return createToast({position:"top",title:t("common:service-blocked"),status:"error",duration:5e3,isClosable:!0}),_context.abrupt("return");case 1:if(_context.prev=1,!(allMentorsAvailable.length>0)){_context.next=2;break}mentorsByService=allMentorsAvailable.filter(function(mentor){return mentor.services.some(function(s){return s.slug===service.slug})}),manageMentorsData(service,mentorsByService),_context.next=4;break;case 2:return _context.next=3,breathecode.A.mentorship({services:service.slug,status:"ACTIVE",syllabus:slug,academy:null==service||null===(_service$academy4=service.academy)||void 0===_service$academy4?void 0:_service$academy4.id}).getMentor();case 3:res=_context.sent,manageMentorsData(service,res.data);case 4:_context.next=6;break;case 5:_context.prev=5,_context.catch(1),createToast({position:"top",title:"Error",description:t("alert-message:error-finding-mentors"),status:"error",duration:7e3,isClosable:!0});case 6:case"end":return _context.stop()}},_callee,null,[[1,5]])}));return function handleService(_x){return _ref4.apply(this,arguments)}}();(0,react.useEffect)(function(){var servWithMentorsAvailable=function getAllServicesWithMentors(){return servicesFiltered.filter(function(service){return allMentorsAvailable.some(function(ment){return ment.services.some(function(mentServ){return mentServ.slug===service.slug})})})}();if(queryMentor&&allMentorsAvailable.length>0&&!hasReset){var mentorFound=allMentorsAvailable.find(function(ment){return ment.slug===queryMentor});!mentorFound&&notifyError&&(!function showErrorToast(){createToast({position:"top",title:"Error",description:"".concat(t("supportSideBar.mentor-not-found"),' "').concat(queryMentor,'"'),status:"error",duration:7e3,isClosable:!0})}(),setNotifyError(!1)),mentorFound&&(servWithMentorsAvailable=function getServicesWithMentor(mentor){return servicesFiltered.filter(function(service){return mentor.services.some(function(mentServ){return mentServ.slug===service.slug})})}(mentorFound),setProgramMentors([mentorFound]))}setServicesWithMentorsAvailable(servWithMentorsAvailable),setTimeout(function(){setLoadingServices(!1)},2e3),!hasReset&&queryMentor&&setOpen(!0)},[servicesFiltered,queryMentor,hasReset]),(0,react.useEffect)(function(){if(queryService&&(null==servicesWithMentorsAvailable?void 0:servicesWithMentorsAvailable.length)>0&&shouldHandleService&&!hasReset){var serviceFound=servicesWithMentorsAvailable.find(function(service){return service.slug===queryService});if(!serviceFound&&notifyError)return createToast({position:"top",title:"Error",description:"".concat(t("supportSideBar.service-not-found"),' "').concat(queryService,'" ').concat(queryMentor?"".concat(t("common:word-connector.for"),' "').concat(queryMentor,'"'):""),status:"error",duration:7e3,isClosable:!0}),void setNotifyError(!1);handleService(serviceFound),setOpen(!0),setShouldHandleService(!1)}},[hasReset,servicesWithMentorsAvailable]);return MentoringConsumables_jsx(chunk_6CSUKJP7.az,{position:"relative",width,height:"auto",borderWidth:"0px",borderRadius:"lg"},open&&MentoringConsumables_jsx(chunk_6CSUKJP7.az,{position:"absolute",top:"16px",left:"18px",onClick:function reset(){null!=mentoryProps&&mentoryProps.service?setMentoryProps({}):setOpen(!1),setHasReset(!0)},cursor:"pointer"},MentoringConsumables_jsx(Icon.A,{icon:"arrowLeft",width:"25px",height:"25px",color:"#606060"})),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column",p:"4",pt:"20px",alignItems:"center"},!(null!=mentoryProps&&mentoryProps.service)&&(0!==(null==consumables||null===(_consumables$mentorsh2=consumables.mentorship_service_sets)||void 0===_consumables$mentorsh2?void 0:_consumables$mentorsh2.length)||0!==currentBalance)&&MentoringConsumables_jsx(chunk_6CSUKJP7.az,{d:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},MentoringConsumables_jsx(Heading.A,{size:titleSize||"14px",textAlign:"center",lineHeight:"16.8px",justify:"center",mt:"0px",mb:"0px"},t("supportSideBar.mentoring")),withDescription&&MentoringConsumables_jsx(Text.A,{size:"l",mt:"5px",textAlign:"center"},t("supportSideBar.description")),MentoringConsumables_jsx(Text.A,{textAlign:"center"},MentoringConsumables_jsx(NextChakraLink.A,{size:"14px",variant:"default",className:"link",href:t("supportSideBar.learn-more-link"),target:"_blank",rel:"noopener noreferrer"},t("supportSideBar.learn-more"))),programServices.length<=0&&MentoringConsumables_jsx(Heading.A,{size:"16px",textAlign:"center",justify:"center",mt:"10px",mb:"0px"},programServices.length>0?"".concat(programServices.length," ").concat(t("supportSideBar.mentoring-available")):t("supportSideBar.no-mentoring-available"))),!open&&MentoringConsumables_jsx(react.Fragment,null,MentoringConsumables_jsx(chunk_6CSUKJP7.az,{margin:"15px 0",display:"flex",flexDirection:"column"},allMentorsAvailable.length>0?MentoringConsumables_jsx(ProfilesSection,{profiles:allMentorsAvailable}):MentoringConsumables_jsx(react.Fragment,null,existsMentors&&MentoringConsumables_jsx(Skeleton.ms,{quantity:4}),!existsMentors&&0===allMentorsAvailable.length&&MentoringConsumables_jsx(chunk_WPAIWTI3.e,{width:"48px",height:"48px",margin:"0 auto",style:{userSelect:"none"},src:"/static/images/angry-avatar.png"})),MentoringConsumables_jsx(Text.A,{color:lightColor,size:"12px",margin:"8px 0 0 0",textAlign:"center"},t("supportSideBar.mentors-available",{count:allMentorsAvailable.length}))),MentoringConsumables_jsx(chunk_NAA7TEES.$,{variant:"link",fontSize:"14px",onClick:function onClick(){setOpen(!0),(0,requests.A$)({dataLayer:{event:"begin_mentorship_session_schedule",path:router.pathname,agent:(0,utils.VK)()}})}},t("supportSideBar.schedule-button"),MentoringConsumables_jsx(Icon.A,{icon:"longArrowRight",width:"24px",height:"10px",color:"currentColor"}))),open&&(null==mentoryProps?void 0:mentoryProps.service)&&!(null!=mentoryProps&&mentoryProps.mentor)&&existConsumablesOnCurrentService&&MentoringConsumables_jsx(chunk_6CSUKJP7.az,{display:"flex",alignItems:"center",fontSize:titleSize||"18px",fontWeight:700,gridGap:"10px",padding:"0 10px",margin:"10px 0 0px 0",style:{textWrap:"nowrap"}},MentoringConsumables_jsx(chunk_6CSUKJP7.az,null,t("mentorship.you-have")),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{display:"flex",color:"white",justifyContent:"center",alignItems:"center",background:"green.400",width:"30px",height:"30px",borderRadius:"50%"},currentBalance>0?currentBalance:"",-1===currentBalance?MentoringConsumables_jsx(Icon.A,{icon:"infinite",width:"20px",height:"20px"}):""),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{textAlign:"center"},t("mentorship.available-sessions"))),null==mentoryProps||!mentoryProps.service||!open||null!=mentoryProps&&mentoryProps.mentor||existConsumablesOnCurrentService?open&&MentoringConsumables_jsx(react.Fragment,null,(null==mentoryProps?void 0:mentoryProps.service)&&MentoringConsumables_jsx(chunk_6CSUKJP7.az,{display:"flex",alignItems:"center",justifyContent:"flex-start",gridGap:"10px",background:backgroundColor2,px:"20px",pt:"15px",textAlign:"center",w:"100%",borderTopRadius:"0.375rem"},MentoringConsumables_jsx(chunk_6CSUKJP7.az,null,MentoringConsumables_jsx(Icon.A,{icon:"checked2",width:"15px",height:"15px",color:hexColor.greenLight})),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{width:"auto"},mentoryProps.service.name)),!(null!=mentoryProps&&mentoryProps.service)&&programServices.length>0&&MentoringConsumables_jsx(react.Fragment,null,MentoringConsumables_jsx(chunk_6XCF7NSR.M,{mt:"15px"},MentoringConsumables_jsx(chunk_GYFRIY2Z.p,{onChange:function onChange(e){var _e$target$value;return setSearchProps(MentoringConsumables_objectSpread(MentoringConsumables_objectSpread({},searchProps),{},{serviceSearch:null===(_e$target$value=e.target.value)||void 0===_e$target$value?void 0:_e$target$value.toLocaleLowerCase()}))},background:backgroundColor2,borderBottomRadius:"0",border:"0",placeholder:t("supportSideBar.select-type")}),MentoringConsumables_jsx(chunk_J356FWKS.t,null,MentoringConsumables_jsx(Icon.A,{icon:"arrowDown",color:"#606060",width:"35px",height:"30px",ml:"10px"}))),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{maxHeight:"10rem",width:"100%",overflow:"auto",borderBottomRadius:"0.375rem"},loadingServices?MentoringConsumables_jsx(Skeleton.Qv,{withoutContainer:!0,quantity:2,height:"40px",gridGap:"20px",marginTop:"10px"}):MentoringConsumables_jsx(react.Fragment,null,servicesWithMentorsAvailable.length>0&&servicesWithMentorsAvailable.map(function(service){var _service$academy5;return MentoringConsumables_jsx(components_CanAccess,{key:service.slug,fromMentorshipService:service.slug,fromAcademy:null==service||null===(_service$academy5=service.academy)||void 0===_service$academy5?void 0:_service$academy5.slug},MentoringConsumables_jsx(chunk_6CSUKJP7.az,{borderTop:"1px solid",cursor:"pointer",onClick:function onClick(){return handleService(service)},borderColor,py:"14px",background:backgroundColor2,width:"100%",px:"22px",_hover:{background:(0,chunk_7NLW6UB6.dU)("featuredLight","gray.700")}},service.name))}),0===servicesWithMentorsAvailable.length&&MentoringConsumables_jsx(chunk_6CSUKJP7.az,{borderTop:"1px solid",borderColor,py:"14px",background:backgroundColor2,width:"100%",px:"22px"},t("common:search-not-found"))))),(null==mentoryProps?void 0:mentoryProps.service)&&!(null!=mentoryProps&&mentoryProps.mentor)&&MentoringConsumables_jsx(components_CanAccess,{fromMentorshipService:null==mentoryProps||null===(_mentoryProps$service4=mentoryProps.service)||void 0===_mentoryProps$service4?void 0:_mentoryProps$service4.slug,fromAcademy:null==mentoryProps||null===(_mentoryProps$service5=mentoryProps.service)||void 0===_mentoryProps$service5||null===(_mentoryProps$service5=_mentoryProps$service5.academy)||void 0===_mentoryProps$service5?void 0:_mentoryProps$service5.slug},MentoringConsumables_jsx(react.Fragment,null,MentoringConsumables_jsx(chunk_6XCF7NSR.M,{mt:"15px",borderBottom:"1px solid",borderColor},MentoringConsumables_jsx(chunk_GYFRIY2Z.p,{onChange:function onChange(e){var _e$target$value2;return setSearchProps(MentoringConsumables_objectSpread(MentoringConsumables_objectSpread({},searchProps),{},{mentorSearch:null===(_e$target$value2=e.target.value)||void 0===_e$target$value2?void 0:_e$target$value2.toLowerCase()}))},background:backgroundColor2,borderBottomRadius:"0",border:"0",placeholder:t("supportSideBar.search-mentor")}),MentoringConsumables_jsx(chunk_J356FWKS.t,null,MentoringConsumables_jsx(Icon.A,{icon:"arrowDown",color:"#606060",width:"35px",height:"30px",ml:"10px"}))),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{maxHeight:"18rem",width:"100%",background:backgroundColor2,overflow:"auto",borderBottomRadius:"0.375rem"},mentorsFiltered.length>0?mentorsFiltered.map(function(mentor,i){var _mentor$user,_mentor$user$profile,_mentor$user2,_mentor$user3,_mentoryProps$service6;return MentoringConsumables_jsx(react.Fragment,{key:null==mentor||null===(_mentor$user=mentor.user)||void 0===_mentor$user?void 0:_mentor$user.id},0!==i&&MentoringConsumables_jsx(chunk_6CSUKJP7.az,{as:"hr",borderColor:"gray.300",margin:"0 18px"}),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{display:"flex",gridGap:"18px",flexDirection:"row",py:"14px",width:"100%",px:"18px",_hover:{background:(0,chunk_7NLW6UB6.dU)("featuredLight","gray.700")}},MentoringConsumables_jsx(Image.A,{src:null==mentor||null===(_mentor$user$profile=mentor.user.profile)||void 0===_mentor$user$profile?void 0:_mentor$user$profile.avatar_url,alt:"".concat(null==mentor||null===(_mentor$user2=mentor.user)||void 0===_mentor$user2?void 0:_mentor$user2.first_name," ").concat(null==mentor||null===(_mentor$user3=mentor.user)||void 0===_mentor$user3?void 0:_mentor$user3.last_name),width:78,height:78,objectFit:"cover",style:{minWidth:"78px",width:"78px !important",height:"78px !important"},styleImg:{borderRadius:"50px"}}),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column",width:"100%"},MentoringConsumables_jsx(chunk_6CSUKJP7.az,{fontSize:"15px",fontWeight:"600"},"".concat(mentor.user.first_name," ").concat(mentor.user.last_name)),MentoringConsumables_jsx(chunk_6CSUKJP7.az,{as:"hr",borderColor,my:"5px"}),MentoringConsumables_jsx(chunk_6CSUKJP7.az,null,mentor.one_line_bio&&""!==mentor.one_line_bio?"".concat(mentor.one_line_bio," "):"",null!=mentor&&mentor.booking_url?MentoringConsumables_jsx(NextChakraLink.A,{variant:"default",onClick:function onClick(){return function reportBookMentor(mentorSelected){var _mentoryProps$service3;(0,requests.A$)({dataLayer:{event:"book_mentorship_session",path:router.pathname,consumables_amount:currentBalance,mentorship_service:null==mentoryProps||null===(_mentoryProps$service3=mentoryProps.service)||void 0===_mentoryProps$service3?void 0:_mentoryProps$service3.slug,mentor_name:"".concat(mentorSelected.user.first_name," ").concat(mentorSelected.user.last_name),mentor_id:mentorSelected.slug,mentor_booking_url:mentorSelected.booking_url,agent:(0,utils.VK)()}})}(mentor)},href:"".concat(variables.UA,"/mentor/").concat(null==mentor?void 0:mentor.slug,"?utm_campaign=").concat(null==mentoryProps||null===(_mentoryProps$service6=mentoryProps.service)||void 0===_mentoryProps$service6?void 0:_mentoryProps$service6.slug,"&utm_source=4geeks&salesforce_uuid=").concat(null==user?void 0:user.id,"&token=").concat(accessToken),target:"_blank",rel:"noopener noreferrer"},t("supportSideBar.create-session-text")):MentoringConsumables_jsx(chunk_6CSUKJP7.az,{fontSize:"15px"},t("supportSideBar.no-mentor-link"))))))}):MentoringConsumables_jsx(chunk_6CSUKJP7.az,{borderTop:"1px solid",borderColor,py:"14px",background:backgroundColor2,width:"100%",px:"22px"},t("supportSideBar.no-mentors")))))):MentoringConsumables_jsx(NoConsumablesCard,{t,isLoading:isFetchingDataForModal,mentoryProps,handleGetMoreMentorships:function handleGetMoreMentorships(){var _mentoryProps$service2,_subscriptionData$sel,_currentSubscription$;setIsFetchingDataForModal(!0);var academyService=null!=mentoryProps&&null!==(_mentoryProps$service2=mentoryProps.service)&&void 0!==_mentoryProps$service2&&_mentoryProps$service2.slug?null==mentoryProps?void 0:mentoryProps.service:null==subscriptionData||null===(_subscriptionData$sel=subscriptionData.selected_mentorship_service_set)||void 0===_subscriptionData$sel||null===(_subscriptionData$sel=_subscriptionData$sel.mentorship_services)||void 0===_subscriptionData$sel?void 0:_subscriptionData$sel[0];validatePlanExistence(allSubscriptions,null==currentSubscription||null===(_currentSubscription$=currentSubscription.plans)||void 0===_currentSubscription$||null===(_currentSubscription$=_currentSubscription$[0])||void 0===_currentSubscription$?void 0:_currentSubscription$.slug).then(function(data){setDataToGetAccessModal(MentoringConsumables_objectSpread(MentoringConsumables_objectSpread({},data),{},{event:"",consumableType:"mentorship",academyService})),setIsModalToGetAccessOpen(!0)}).finally(function(){return setIsFetchingDataForModal(!1)})},setMentoryProps,mt:"30px"})),MentoringConsumables_jsx(components_ModalToGetAccess,{isOpen:isModalToGetAccessOpen,stage:stageType_outOfConsumables,externalData:dataToGetAccessModal,onClose:function onClose(){setIsModalToGetAccessOpen(!1)}}))}NoConsumablesCard.displayName="NoConsumablesCard",ProfilesSection.displayName="ProfilesSection",MentoringConsumables.displayName="MentoringConsumables",MentoringConsumables.propTypes={mentoryProps:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any,prop_types_default().string])),width:prop_types_default().string,titleSize:prop_types_default().string,queryService:prop_types_default().string,queryMentor:prop_types_default().string,consumables:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),setMentoryProps:prop_types_default().func.isRequired,programServices:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().any,prop_types_default().string])),servicesFiltered:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().any,prop_types_default().string])).isRequired,searchProps:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any,prop_types_default().string])).isRequired,setSearchProps:prop_types_default().func.isRequired,setProgramMentors:prop_types_default().func,mentorsFiltered:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().any])).isRequired,subscriptionData:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any])),allSubscriptions:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().any])),withDescription:prop_types_default().bool},MentoringConsumables.defaultProps={queryService:void 0,queryMentor:void 0,titleSize:void 0,mentoryProps:[],width:"100%",consumables:{},programServices:[],setProgramMentors:function setProgramMentors(){},subscriptionData:{},allSubscriptions:[],withDescription:!1};MentoringConsumables.__docgenInfo={description:"",methods:[],displayName:"MentoringConsumables",props:{queryService:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},queryMentor:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},titleSize:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},mentoryProps:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"},{name:"string"}]}},required:!1},width:{defaultValue:{value:"'100%'",computed:!1},description:"",type:{name:"string"},required:!1},consumables:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},programServices:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"},{name:"string"}]}},required:!1},setProgramMentors:{defaultValue:{value:"() => { }",computed:!1},description:"",type:{name:"func"},required:!1},subscriptionData:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},allSubscriptions:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"}]}},required:!1},withDescription:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},setMentoryProps:{description:"",type:{name:"func"},required:!0},servicesFiltered:{description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"},{name:"string"}]}},required:!0},searchProps:{description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"},{name:"string"}]}},required:!0},setSearchProps:{description:"",type:{name:"func"},required:!0},mentorsFiltered:{description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"}]}},required:!0}}},ProfilesSection.__docgenInfo={description:"",methods:[],displayName:"ProfilesSection"};var ConsumableMoreInfoModal_jsx=react.createElement;function UnitsDisplay(_ref){var _item$unit,item=_ref.item,hexColor=_ref.hexColor,value=null!==(_item$unit=null==item?void 0:item.unit)&&void 0!==_item$unit?_item$unit:null==item?void 0:item.how_many;return-1===value||null!=item&&item.nonSaasAcademy?ConsumableMoreInfoModal_jsx(Icon.A,{icon:"infinite",color:hexColor.fontColor3,width:"20px",height:"20px"}):"number"==typeof value&&value>=0?value:null}function ConsumableMoreInfoModal(_ref2){var _detailsConsumableDat,_detailsConsumableDat2,_services$serviceModa,_services$serviceModa2,serviceModal=_ref2.serviceModal,services=_ref2.services,closeMentorshipsModal=_ref2.closeMentorshipsModal,existsNoAvailableAsSaas=_ref2.existsNoAvailableAsSaas,t=_ref2.t,hexColor=(0,useStyle.A)().hexColor,detailsConsumableData={mentorships:{icon:ConsumableMoreInfoModal_jsx(ProfilesSection,{profiles:variables.ym,size:"29px",ms:"12px"}),title:t("subscription.your-mentoring-available")},workshops:{icon:ConsumableMoreInfoModal_jsx(Icon.A,{icon:"live-event-opaque",width:"40px",height:"40px"}),title:t("subscription.your-workshop-available")},voids:{icon:ConsumableMoreInfoModal_jsx(Icon.A,{icon:"rigobot-avatar-tiny",width:"32px",height:"32px"}),title:t("subscription.rigo-available")}};return ConsumableMoreInfoModal_jsx(chunk_UUGUEMMH.aF,{isOpen:null!==serviceModal,onClose:closeMentorshipsModal,isCentered:!0},ConsumableMoreInfoModal_jsx(chunk_OWW5MU75.m,null),ConsumableMoreInfoModal_jsx(chunk_66WFFNY3.$,{borderRadius:"11px",overflow:"hidden",height:"264px"},ConsumableMoreInfoModal_jsx(chunk_YLPWWAYV.s,{size:"14px",_hover:"none",_active:"none"}),serviceModal&&ConsumableMoreInfoModal_jsx(react.Fragment,null,ConsumableMoreInfoModal_jsx(chunk_YBA5A33G.r,{fontWeight:"400",fontSize:"18px",display:"flex",alignItems:"center",gap:"8px",px:"8px"},null===(_detailsConsumableDat=detailsConsumableData[serviceModal])||void 0===_detailsConsumableDat?void 0:_detailsConsumableDat.icon,null===(_detailsConsumableDat2=detailsConsumableData[serviceModal])||void 0===_detailsConsumableDat2?void 0:_detailsConsumableDat2.title),ConsumableMoreInfoModal_jsx(chunk_PVJ72NKC.c,{p:"8px",style:{maxHeight:"350px",overflowY:"auto",background:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:0===(null===(_services$serviceModa=services[serviceModal])||void 0===_services$serviceModa?void 0:_services$serviceModa.length)?"center":"flex-start"}},0===(null===(_services$serviceModa2=services[serviceModal])||void 0===_services$serviceModa2?void 0:_services$serviceModa2.length)?ConsumableMoreInfoModal_jsx(chunk_6CSUKJP7.az,{w:"100%",h:"206px",borderRadius:"4px",display:"flex",backgroundColor:"#F9F9F9",flexDirection:"column",alignItems:"center",justifyContent:"center"},ConsumableMoreInfoModal_jsx(chunk_P74GIWPW.E,{color:hexColor.fontColor2,fontSize:"16px",mb:"16px",textAlign:"center"},t("subscription.no-consumables-available",{service:t("consumable-services.".concat(serviceModal)).toLowerCase()}))):ConsumableMoreInfoModal_jsx(chunk_6CSUKJP7.az,{w:"100%",px:"8px"},services[serviceModal].map(function(item){return ConsumableMoreInfoModal_jsx(chunk_6CSUKJP7.az,{key:item.slug,display:"flex",alignItems:"center",boxShadow:"3px 3px 7px rgba(0,0,0,0.04)",borderRadius:"8px",p:"8px",mb:"12px",bg:"white"},item.logo_url&&ConsumableMoreInfoModal_jsx(chunk_SMHKDLMK._,{src:item.logo_url,width:"32px",height:"32px",alt:"icon",style:{marginRight:"16px"}}),ConsumableMoreInfoModal_jsx(chunk_6CSUKJP7.az,null,ConsumableMoreInfoModal_jsx(chunk_P74GIWPW.E,{display:"flex",alignItems:"center",fontWeight:"400",fontSize:"16px",mb:"8px"},ConsumableMoreInfoModal_jsx(chunk_P74GIWPW.E,{as:"span",style:{marginRight:"8px"}},ConsumableMoreInfoModal_jsx(UnitsDisplay,{item,hexColor})),(null==item?void 0:item.name)||(0,utils.Pf)(null==item?void 0:item.slug)),ConsumableMoreInfoModal_jsx(chunk_P74GIWPW.E,{color:hexColor.fontColor3,fontSize:"14px"},null==item?void 0:item.description)))}),existsNoAvailableAsSaas&&"mentorships"===serviceModal&&ConsumableMoreInfoModal_jsx(chunk_P74GIWPW.E,{color:hexColor.fontColor2,fontSize:"12px",mb:"16px",textAlign:"center"},t("subscription.bootcamp-mentorships")))))))}UnitsDisplay.propTypes={item:prop_types_default().shape({unit:prop_types_default().number,how_many:prop_types_default().number,nonSaasAcademy:prop_types_default().bool}).isRequired,hexColor:prop_types_default().shape({fontColor3:prop_types_default().string.isRequired}).isRequired},ConsumableMoreInfoModal.displayName="ConsumableMoreInfoModal",ConsumableMoreInfoModal.propTypes={serviceModal:prop_types_default().string.isRequired,closeMentorshipsModal:prop_types_default().func.isRequired,t:prop_types_default().func.isRequired,existsNoAvailableAsSaas:prop_types_default().bool.isRequired,services:prop_types_default().shape({mentorships:prop_types_default().arrayOf(prop_types_default().objectOf(prop_types_default().any)),workshops:prop_types_default().arrayOf(prop_types_default().objectOf(prop_types_default().any)),voids:prop_types_default().arrayOf(prop_types_default().objectOf(prop_types_default().any))}).isRequired};const Subscriptions_ConsumableMoreInfoModal=ConsumableMoreInfoModal;ConsumableMoreInfoModal.__docgenInfo={description:"",methods:[],displayName:"ConsumableMoreInfoModal",props:{serviceModal:{description:"",type:{name:"string"},required:!0},closeMentorshipsModal:{description:"",type:{name:"func"},required:!0},t:{description:"",type:{name:"func"},required:!0},existsNoAvailableAsSaas:{description:"",type:{name:"bool"},required:!0},services:{description:"",type:{name:"shape",value:{mentorships:{name:"arrayOf",value:{name:"objectOf",value:{name:"any"}},required:!1},workshops:{name:"arrayOf",value:{name:"objectOf",value:{name:"any"}},required:!1},voids:{name:"arrayOf",value:{name:"objectOf",value:{name:"any"}},required:!1}}},required:!0}}};var Subscriptions_console=__webpack_require__("./node_modules/console-browserify/index.js"),Subscriptions_jsx=react.createElement;function Subscriptions_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Subscriptions_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Subscriptions_ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Subscriptions_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Subscriptions_ModalInfo=(0,react.lazy)(function(){return Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./src/components/ModalInfo.jsx"))});function Subscriptions(_ref){var _location$pathname,cohorts=_ref.cohorts,t=(0,useTranslation.A)("profile").t,_useSubscriptions=(0,useSubscriptions.A)(),state=_useSubscriptions.state,isLoading=_useSubscriptions.isLoading,cancelSubscription=_useSubscriptions.cancelSubscription,fontColor=(0,useStyle.A)().fontColor,_useState=(0,react.useState)(!1),cancelModalIsOpen=_useState[0],setCancelModalIsOpen=_useState[1],_useState2=(0,react.useState)(null),servicesModal=_useState2[0],setServicesModal=_useState2[1],_useState3=(0,react.useState)({cohort_sets:[],event_type_sets:[],mentorship_service_sets:[],service_sets:[],voids:[]}),consumables=_useState3[0],setConsumables=_useState3[1],_useState4=(0,react.useState)({mentorships:[],workshops:[],voids:[]}),services=_useState4[0],setServices=_useState4[1],_useState5=(0,react.useState)(!0),loadingServices=_useState5[0],setLoadingServices=_useState5[1],_useState6=(0,react.useState)({}),subscriptionProps=_useState6[0],setSubscriptionProps=_useState6[1],memberships=null==state?void 0:state.subscriptions,onOpenCancelSubscription=function onOpenCancelSubscription(){return setCancelModalIsOpen(!0)},getConsumables=function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee4(){var nonSaasCohorts,academies,allServices,cohortsServices,responseServices,nonSaasServices,res,data,promiseMentorship,promiseEvents,promiseVoids,resMentorships,resWorkshops,resVoids,_t;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,nonSaasCohorts=cohorts.filter(function(_ref3){return!_ref3.available_as_saas}),academies=(0,toConsumableArray.A)(new Set(nonSaasCohorts.map(function(_ref4){return _ref4.academy.id}))),allServices={mentorships:[],workshops:[]},cohortsServices=academies.map(function(academy){return breathecode.A.mentorship({academy},!0).getService()}),_context4.next=1,Promise.all(cohortsServices);case 1:return responseServices=_context4.sent,nonSaasServices=responseServices.flatMap(function(_ref5){return _ref5.data}).map(function(elem){return Subscriptions_objectSpread(Subscriptions_objectSpread({},elem),{},{nonSaasAcademy:!0})}),_context4.next=2,breathecode.A.payment().service().consumable();case 2:if(200!==(res=_context4.sent).status){_context4.next=6;break}return data=res.data,setConsumables(data),promiseMentorship=data.mentorship_service_sets.map(function(){var _ref6=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(elem){var mentRes;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=1,breathecode.A.payment().getServiceSet(elem.id);case 1:return mentRes=_context.sent,_context.abrupt("return",mentRes.data.mentorship_services.map(function(service){return Subscriptions_objectSpread(Subscriptions_objectSpread({},service),{},{unit:elem.balance.unit})}));case 2:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref6.apply(this,arguments)}}()),promiseEvents=data.event_type_sets.map(function(){var _ref7=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee2(elem){var evRes;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=1,breathecode.A.payment().getEventTypeSet(elem.id);case 1:return evRes=_context2.sent,_context2.abrupt("return",evRes.data.event_types);case 2:case"end":return _context2.stop()}},_callee2)}));return function(_x2){return _ref7.apply(this,arguments)}}()),promiseVoids=data.voids.map(function(){var _ref8=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee3(elem){var _serviceData$features,_serviceData$features2,_serviceData$features3,voidRes,serviceData;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=1,breathecode.A.payment().getServiceInfo(elem.slug);case 1:return voidRes=_context3.sent,serviceData=voidRes.data[0],_context3.abrupt("return",Subscriptions_objectSpread(Subscriptions_objectSpread({},serviceData),{},{name:(null===(_serviceData$features=serviceData.features[0])||void 0===_serviceData$features?void 0:_serviceData$features.title)||serviceData.service.title||"",description:(null===(_serviceData$features2=serviceData.features[0])||void 0===_serviceData$features2?void 0:_serviceData$features2.description)||"",one_line_desc:(null===(_serviceData$features3=serviceData.features[0])||void 0===_serviceData$features3?void 0:_serviceData$features3.one_line_desc)||""}));case 2:case"end":return _context3.stop()}},_callee3)}));return function(_x3){return _ref8.apply(this,arguments)}}()),_context4.next=3,Promise.all(promiseMentorship);case 3:return resMentorships=_context4.sent,_context4.next=4,Promise.all(promiseEvents);case 4:return resWorkshops=_context4.sent,_context4.next=5,Promise.all(promiseVoids);case 5:resVoids=_context4.sent,allServices.mentorships=[].concat((0,toConsumableArray.A)(resMentorships.flat()),(0,toConsumableArray.A)(nonSaasServices)),allServices.workshops=resWorkshops.flat(),allServices.voids=resVoids.flat();case 6:setServices(allServices),setLoadingServices(!1),_context4.next=8;break;case 7:_context4.prev=7,_t=_context4.catch(0),setLoadingServices(!1),Subscriptions_console.log(_t);case 8:case"end":return _context4.stop()}},_callee4,null,[[0,7]])}));return function getConsumables(){return _ref2.apply(this,arguments)}}();(0,react.useEffect)(function(){getConsumables()},[]);var membershipsArray=(null==memberships?void 0:memberships.subscriptions)&&(null==memberships?void 0:memberships.plan_financings)&&[].concat((0,toConsumableArray.A)(null==memberships?void 0:memberships.subscriptions),(0,toConsumableArray.A)(null==memberships?void 0:memberships.plan_financings)).filter(function(membership){var _membership$plans;return void 0!==(null==membership||null===(_membership$plans=membership.plans)||void 0===_membership$plans||null===(_membership$plans=_membership$plans[0])||void 0===_membership$plans?void 0:_membership$plans.slug)}),prioritizeStatus=["fully_paid","active","payment_issue","expired","cancelled","error"],membershipsFilter=(null==membershipsArray?void 0:membershipsArray.length)>0?membershipsArray.filter(function(membership){var _membership$status,_membership$planOffer2,_membership$planOffer3,isFreeTrial="free_trial"===(null==membership||null===(_membership$status=membership.status)||void 0===_membership$status?void 0:_membership$status.toLowerCase()),membershipAlreadyInList=membershipsArray.find(function(mem){var _mem$plans,_membership$planOffer;return(null==mem||null===(_mem$plans=mem.plans)||void 0===_mem$plans||null===(_mem$plans=_mem$plans[0])||void 0===_mem$plans?void 0:_mem$plans.slug)===(null==membership||null===(_membership$planOffer=membership.planOffer)||void 0===_membership$planOffer?void 0:_membership$planOffer.slug)}),suggestedPlan=!(null!=membership&&null!==(_membership$planOffer2=membership.planOffer)&&void 0!==_membership$planOffer2&&_membership$planOffer2.slug)&&(null==membership||null===(_membership$planOffer3=membership.planOffer)||void 0===_membership$planOffer3?void 0:_membership$planOffer3.status)||membershipAlreadyInList;return!isFreeTrial||!suggestedPlan}).reduce(function(acc,membership){var _membership$plans2,_membership$status2,_acc$planSlug,planSlug=null==membership||null===(_membership$plans2=membership.plans)||void 0===_membership$plans2||null===(_membership$plans2=_membership$plans2[0])||void 0===_membership$plans2?void 0:_membership$plans2.slug;return planSlug?((!acc[planSlug]||prioritizeStatus.indexOf(null==membership||null===(_membership$status2=membership.status)||void 0===_membership$status2?void 0:_membership$status2.toLowerCase())<prioritizeStatus.indexOf(null===(_acc$planSlug=acc[planSlug])||void 0===_acc$planSlug||null===(_acc$planSlug=_acc$planSlug.status)||void 0===_acc$planSlug?void 0:_acc$planSlug.toLowerCase()))&&(acc[planSlug]=membership),acc):acc},{}):[],membershipsFiltered=Object.values(membershipsFilter),totalMentorshipsAvailable=consumables.mentorship_service_sets.some(function(service){return-1===service.balance.unit})?-1:consumables.mentorship_service_sets.reduce(function(acum,service){return acum+service.balance.unit},0),totalWorkshopsAvailable=consumables.event_type_sets.some(function(service){return-1===service.balance.unit})?-1:consumables.event_type_sets.reduce(function(acum,service){return acum+service.balance.unit},0),totalRigoConsumablesAvailable=consumables.voids.some(function(service){return-1===service.balance.unit})?-1:consumables.voids.reduce(function(acum,service){return acum+service.balance.unit},0),existsNoAvailableAsSaas=cohorts.some(function(c){return!1===c.available_as_saas});return Subscriptions_jsx(react.Fragment,null,(null===utils.C5||void 0===utils.C5||null===(_location$pathname=utils.C5.pathname)||void 0===_location$pathname?void 0:_location$pathname.includes("subscriptions"))&&Subscriptions_jsx(head_default(),null,Subscriptions_jsx("title",null,t("my-subscriptions"))),Subscriptions_jsx(chunk_6CSUKJP7.az,{display:"flex",flexWrap:"wrap",gap:"24px"},loadingServices?Subscriptions_jsx(react.Fragment,null,Subscriptions_jsx(Skeleton.yq,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}}),Subscriptions_jsx(Skeleton.yq,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}}),Subscriptions_jsx(Skeleton.yq,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}})):Subscriptions_jsx(react.Fragment,null,Subscriptions_jsx(Subscriptions_ConsumableCard,{title:t("subscription.mentoring-available"),icon:Subscriptions_jsx(ProfilesSection,{profiles:variables.ym,size:"34px"}),totalAvailable:totalMentorshipsAvailable,onClick:function onClick(){return setServicesModal("mentorships")}}),Subscriptions_jsx(Subscriptions_ConsumableCard,{title:t("subscription.workshop-available"),icon:Subscriptions_jsx(Icon.A,{icon:"live-event-opaque",width:"40px",height:"40px"}),totalAvailable:totalWorkshopsAvailable,onClick:function onClick(){return setServicesModal("workshops")}}),Subscriptions_jsx(Subscriptions_ConsumableCard,{title:t("subscription.rigo-available"),icon:Subscriptions_jsx(Icon.A,{icon:"rigobot-avatar-tiny",width:"34px",height:"34px"}),totalAvailable:totalRigoConsumablesAvailable,onClick:function onClick(){return setServicesModal("voids")}}))),Subscriptions_jsx(Subscriptions_ConsumableMoreInfoModal,{serviceModal:servicesModal,services,closeMentorshipsModal:function closeMentorshipsModal(){return setServicesModal(null)},existsNoAvailableAsSaas,t}),Subscriptions_jsx(Text.A,{fontSize:"15px",fontWeight:"700",pb:"18px"},t("my-subscriptions")),(null==membershipsFiltered?void 0:membershipsFiltered.length)>0?Subscriptions_jsx(chunk_5FO2ZLZM.x,{gridTemplateColumns:{base:"repeat(auto-fill, minmax(15rem, 1fr))",md:"repeat(auto-fill, minmax(20rem, 1fr))",lg:"repeat(3, 1fr)"},gridGap:"3rem"},(null==membershipsFiltered?void 0:membershipsFiltered.length)>0&&membershipsFiltered.map(function(subscription){return Subscriptions_jsx(Subscriptions_SubscriptionCard,{key:null==subscription?void 0:subscription.id,subscription,allSubscriptions:membershipsFiltered,setSubscriptionProps,onOpenCancelSubscription})}),Subscriptions_jsx(react.Suspense,{fallback:Subscriptions_jsx(Skeleton.yq,{borderRadius:"17px",height:"108px",width:{base:"100%",md:"265px"}})},Subscriptions_jsx(Subscriptions_ModalInfo,{isOpen:cancelModalIsOpen,title:t("subscription.cancel-modal.title"),description:t("subscription.cancel-modal.description",{cohort:(0,utils.rS)(null==subscriptionProps?void 0:subscriptionProps.slug)}),closeText:t("subscription.cancel-modal.closeText"),handlerText:t("subscription.cancel-modal.handlerText"),headerStyles:{textAlign:"center"},descriptionStyle:{color:fontColor,fontSize:"14px",textAlign:"center"},footerStyle:{flexDirection:"row-reverse"},closeButtonStyles:{variant:"outline",color:"blue.default",borderColor:"currentColor"},buttonHandlerStyles:{variant:"default"},actionHandler:function actionHandler(){cancelSubscription(null==subscriptionProps?void 0:subscriptionProps.id).finally(function(){setCancelModalIsOpen(!1)})},onClose:function onClose(){return setCancelModalIsOpen(!1)}}))):Subscriptions_jsx(react.Fragment,null,isLoading?Subscriptions_jsx(Skeleton.Qv,{gridTemplateColumns:{base:"repeat(auto-fill, minmax(15rem, 1fr))",md:"repeat(auto-fill, minmax(20rem, 1fr))",lg:"repeat(3, 1fr)"},gridGap:"3rem",quantity:6,cardHeight:"316px"}):Subscriptions_jsx(Text.A,{fontSize:"15px",fontWeight:"400",pb:"18px"},t("no-subscriptions"))))}Subscriptions.propTypes={cohorts:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().any]))},Subscriptions.defaultProps={cohorts:[]};const Profile_Subscriptions=Subscriptions;Subscriptions.__docgenInfo={description:"",methods:[],displayName:"Subscriptions",props:{cohorts:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"union",value:[{name:"any"}]}},required:!1}}};var Subscriptions_stories_jsx=react.createElement;const Subscriptions_stories={title:"Components/Subscriptions",component:Profile_Subscriptions,argTypes:{cohorts:{control:"array"},subscriptionData:{control:"object"}}};var Component=function Component(args){var cohorts=null==args?void 0:args.cohorts,subscriptionData=null==args?void 0:args.subscriptionData;return Subscriptions_stories_jsx(Profile_Subscriptions,{storybookConfig:{cohorts,subscriptionData}})};Component.displayName="Component";var isFreeTrial=Component.bind({});isFreeTrial.args={cohorts:[{cohort:{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2",kickoff_date:"2023-02-25T02:44:33Z",ending_date:"2023-03-25T02:44:37Z",current_day:1,current_module:null,syllabus_version:{version:2,status:"PUBLISHED",slug:"coding-introduction",name:"Coding Introduction",syllabus:31,duration_in_hours:40,duration_in_days:5,week_hours:8,github_url:null,logo:null,private:!1},academy:{id:4,slug:"downtown-miami",name:"4Geeks Academy Miami",country:{code:"us",name:"USA"},city:{name:"Miami"},logo_url:"https://storage.googleapis.com/admissions-breathecode/location-downtown-miami",is_hidden_on_prework:!0},stage:"PREWORK",is_hidden_on_prework:!1,available_as_saas:!0},role:"STUDENT",finantial_status:"UP_TO_DATE",educational_status:"ACTIVE",created_at:"2023-01-25T00:34:29.957399Z"}],subscriptionData:{subscriptions:[{id:6,status:"FREE_TRIAL",status_message:null,user:{first_name:"John",last_name:"Doe",email:"john@doe.com"},cohort_selected:null,mentorship_service_set_selected:null,event_type_set_selected:null,plans:[{slug:"coding-introduction-2",status:"ACTIVE",time_of_life:0,time_of_life_unit:null,trial_duration:0,trial_duration_unit:"MONTH",financing_options:[]}],selected_cohort_set:{cohorts:[{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2"}]},invoices:[{amount:0,currency:{code:"USD",name:"US Dollar"},paid_at:"2023-02-24T15:55:49.567456Z",status:"FULFILLED"}],next_payment_at:"2023-02-24T15:55:49Z",valid_until:"2023-02-28T15:55:49Z",paid_at:"2023-02-24T15:55:49Z",is_refundable:!0,pay_every:1,pay_every_unit:"MONTH",service_items:[]}],plan_financings:[]}};var isActive=Component.bind({});isActive.args={cohorts:[{cohort:{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2",kickoff_date:"2023-02-25T02:44:33Z",ending_date:"2023-03-25T02:44:37Z",current_day:1,current_module:null,syllabus_version:{version:2,status:"PUBLISHED",slug:"coding-introduction",name:"Coding Introduction",syllabus:31,duration_in_hours:40,duration_in_days:5,week_hours:8,github_url:null,logo:null,private:!1},academy:{id:4,slug:"downtown-miami",name:"4Geeks Academy Miami",country:{code:"us",name:"USA"},city:{name:"Miami"},logo_url:"https://storage.googleapis.com/admissions-breathecode/location-downtown-miami",is_hidden_on_prework:!0},stage:"PREWORK",is_hidden_on_prework:!1,available_as_saas:!0},role:"STUDENT",finantial_status:"UP_TO_DATE",educational_status:"ACTIVE",created_at:"2023-01-25T00:34:29.957399Z"}],subscriptionData:{subscriptions:[{id:6,status:"ACTIVE",status_message:null,user:{first_name:"John",last_name:"Doe",email:"john@doe.com"},cohort_selected:null,mentorship_service_set_selected:null,event_type_set_selected:null,plans:[{slug:"coding-introduction-2",status:"ACTIVE",time_of_life:0,time_of_life_unit:null,trial_duration:0,trial_duration_unit:"MONTH",financing_options:[]}],selected_cohort_set:{cohorts:[{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2"}]},invoices:[{amount:200,currency:{code:"USD",name:"US Dollar"},paid_at:"2023-02-24T15:55:49.567456Z",status:"FULFILLED"}],next_payment_at:"2023-03-24T15:55:49Z",valid_until:"2023-03-24T15:55:49Z",paid_at:"2023-02-24T15:55:49Z",is_refundable:!0,pay_every:1,pay_every_unit:"MONTH",service_items:[]}],plan_financings:[]}};var isCancelled=Component.bind({});isCancelled.args={cohorts:[{cohort:{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2",kickoff_date:"2023-02-25T02:44:33Z",ending_date:"2023-03-25T02:44:37Z",current_day:1,current_module:null,syllabus_version:{version:2,status:"PUBLISHED",slug:"coding-introduction",name:"Coding Introduction",syllabus:31,duration_in_hours:40,duration_in_days:5,week_hours:8,github_url:null,logo:null,private:!1},academy:{id:4,slug:"downtown-miami",name:"4Geeks Academy Miami",country:{code:"us",name:"USA"},city:{name:"Miami"},logo_url:"https://storage.googleapis.com/admissions-breathecode/location-downtown-miami",is_hidden_on_prework:!0},stage:"PREWORK",is_hidden_on_prework:!1,available_as_saas:!0},role:"STUDENT",finantial_status:"UP_TO_DATE",educational_status:"ACTIVE",created_at:"2023-01-25T00:34:29.957399Z"}],subscriptionData:{subscriptions:[{id:6,status:"CANCELLED",status_message:null,user:{first_name:"John",last_name:"Doe",email:"john@doe.com"},cohort_selected:null,mentorship_service_set_selected:null,event_type_set_selected:null,plans:[{slug:"coding-introduction-2",status:"ACTIVE",time_of_life:0,time_of_life_unit:null,trial_duration:0,trial_duration_unit:"MONTH",financing_options:[]}],selected_cohort_set:{cohorts:[{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2"}]},invoices:[{amount:200,currency:{code:"USD",name:"US Dollar"},paid_at:"2023-02-24T15:55:49.567456Z",status:"FULFILLED"}],next_payment_at:"2023-03-24T15:55:49Z",valid_until:"2023-03-24T15:55:49Z",paid_at:"2023-02-24T15:55:49Z",is_refundable:!1,pay_every:1,pay_every_unit:"MONTH",service_items:[]}],plan_financings:[]}};var isPaymentUpToDate=Component.bind({});isPaymentUpToDate.args={cohorts:[{cohort:{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2",kickoff_date:"2023-02-25T02:44:33Z",ending_date:"2023-03-25T02:44:37Z",current_day:1,current_module:null,syllabus_version:{version:2,status:"PUBLISHED",slug:"coding-introduction",name:"Coding Introduction",syllabus:31,duration_in_hours:40,duration_in_days:5,week_hours:8,github_url:null,logo:null,private:!1},academy:{id:4,slug:"downtown-miami",name:"4Geeks Academy Miami",country:{code:"us",name:"USA"},city:{name:"Miami"},logo_url:"https://storage.googleapis.com/admissions-breathecode/location-downtown-miami",is_hidden_on_prework:!0},stage:"PREWORK",is_hidden_on_prework:!1,available_as_saas:!0},role:"STUDENT",finantial_status:"UP_TO_DATE",educational_status:"ACTIVE",created_at:"2023-01-25T00:34:29.957399Z"}],subscriptionData:{subscriptions:[{id:6,status:"ACTIVE",status_message:null,user:{first_name:"John",last_name:"Doe",email:"john@doe.com"},cohort_selected:null,mentorship_service_set_selected:null,event_type_set_selected:null,plans:[{slug:"coding-introduction-2",status:"ACTIVE",time_of_life:0,time_of_life_unit:null,trial_duration:0,trial_duration_unit:"MONTH",financing_options:[]}],selected_cohort_set:{cohorts:[{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2"}]},invoices:[{amount:200,currency:{code:"USD",name:"US Dollar"},paid_at:"2023-02-24T15:55:49.567456Z",status:"FULFILLED"}],next_payment_at:"2023-02-28T15:55:49Z",valid_until:"2023-04-28T15:55:49Z",paid_at:"2023-02-24T15:55:49Z",is_refundable:!1,pay_every:1,pay_every_unit:"MONTH",service_items:[]}],plan_financings:[]}};var PaymentIssue=Component.bind({});PaymentIssue.args={cohorts:[{cohort:{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2",kickoff_date:"2023-02-25T02:44:33Z",ending_date:"2023-03-25T02:44:37Z",current_day:1,current_module:null,syllabus_version:{version:2,status:"PUBLISHED",slug:"coding-introduction",name:"Coding Introduction",syllabus:31,duration_in_hours:40,duration_in_days:5,week_hours:8,github_url:null,logo:null,private:!1},academy:{id:4,slug:"downtown-miami",name:"4Geeks Academy Miami",country:{code:"us",name:"USA"},city:{name:"Miami"},logo_url:"https://storage.googleapis.com/admissions-breathecode/location-downtown-miami",is_hidden_on_prework:!0},stage:"PREWORK",is_hidden_on_prework:!1,available_as_saas:!0},role:"STUDENT",finantial_status:"UP_TO_DATE",educational_status:"ACTIVE",created_at:"2023-01-25T00:34:29.957399Z"}],subscriptionData:{subscriptions:[{id:6,status:"PAYMENT_ISSUE",status_message:null,user:{first_name:"John",last_name:"Doe",email:"john@doe.com"},cohort_selected:null,mentorship_service_set_selected:null,event_type_set_selected:null,plans:[{slug:"coding-introduction-2",status:"ACTIVE",time_of_life:0,time_of_life_unit:null,trial_duration:0,trial_duration_unit:"MONTH",financing_options:[]}],selected_cohort_set:{cohorts:[{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2"}]},invoices:[{amount:200,currency:{code:"USD",name:"US Dollar"},paid_at:"2023-02-24T15:55:49.567456Z",status:"FULFILLED"}],next_payment_at:"2023-02-28T15:55:49Z",valid_until:"2023-04-28T15:55:49Z",paid_at:"2023-02-24T15:55:49Z",is_refundable:!1,pay_every:1,pay_every_unit:"MONTH",service_items:[]}],plan_financings:[]}};var FullyPaid=Component.bind({});FullyPaid.args={cohorts:[{cohort:{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2",kickoff_date:"2023-02-25T02:44:33Z",ending_date:"2023-03-25T02:44:37Z",current_day:1,current_module:null,syllabus_version:{version:2,status:"PUBLISHED",slug:"coding-introduction",name:"Coding Introduction",syllabus:31,duration_in_hours:40,duration_in_days:5,week_hours:8,github_url:null,logo:null,private:!1},academy:{id:4,slug:"downtown-miami",name:"4Geeks Academy Miami",country:{code:"us",name:"USA"},city:{name:"Miami"},logo_url:"https://storage.googleapis.com/admissions-breathecode/location-downtown-miami",is_hidden_on_prework:!0},stage:"PREWORK",is_hidden_on_prework:!1,available_as_saas:!0},role:"STUDENT",finantial_status:"UP_TO_DATE",educational_status:"ACTIVE",created_at:"2023-01-25T00:34:29.957399Z"}],subscriptionData:{subscriptions:[{id:6,status:"FULLY_PAID",status_message:null,user:{first_name:"John",last_name:"Doe",email:"john@doe.com"},cohort_selected:null,mentorship_service_set_selected:null,event_type_set_selected:null,plans:[{slug:"coding-introduction-2",status:"ACTIVE",time_of_life:0,time_of_life_unit:null,trial_duration:0,trial_duration_unit:"MONTH",financing_options:[]}],selected_cohort_set:{cohorts:[{id:426,slug:"coding-introduction-2",name:"Coding Introduction 2"}]},invoices:[{amount:200,currency:{code:"USD",name:"US Dollar"},paid_at:"2023-02-24T15:55:49.567456Z",status:"FULFILLED"}],next_payment_at:"2023-02-28T15:55:49Z",valid_until:"2023-04-28T15:55:49Z",paid_at:"2023-02-24T15:55:49Z",is_refundable:!1,pay_every:1,pay_every_unit:"MONTH",service_items:[]}],plan_financings:[]}},isFreeTrial.parameters={...isFreeTrial.parameters,docs:{...isFreeTrial.parameters?.docs,source:{originalSource:"args => {\n  const cohorts = args?.cohorts;\n  const subscriptionData = args?.subscriptionData;\n  return <Subscriptions storybookConfig={{\n    cohorts,\n    subscriptionData\n  }} />;\n}",...isFreeTrial.parameters?.docs?.source}}},isActive.parameters={...isActive.parameters,docs:{...isActive.parameters?.docs,source:{originalSource:"args => {\n  const cohorts = args?.cohorts;\n  const subscriptionData = args?.subscriptionData;\n  return <Subscriptions storybookConfig={{\n    cohorts,\n    subscriptionData\n  }} />;\n}",...isActive.parameters?.docs?.source}}},isCancelled.parameters={...isCancelled.parameters,docs:{...isCancelled.parameters?.docs,source:{originalSource:"args => {\n  const cohorts = args?.cohorts;\n  const subscriptionData = args?.subscriptionData;\n  return <Subscriptions storybookConfig={{\n    cohorts,\n    subscriptionData\n  }} />;\n}",...isCancelled.parameters?.docs?.source}}},isPaymentUpToDate.parameters={...isPaymentUpToDate.parameters,docs:{...isPaymentUpToDate.parameters?.docs,source:{originalSource:"args => {\n  const cohorts = args?.cohorts;\n  const subscriptionData = args?.subscriptionData;\n  return <Subscriptions storybookConfig={{\n    cohorts,\n    subscriptionData\n  }} />;\n}",...isPaymentUpToDate.parameters?.docs?.source}}},PaymentIssue.parameters={...PaymentIssue.parameters,docs:{...PaymentIssue.parameters?.docs,source:{originalSource:"args => {\n  const cohorts = args?.cohorts;\n  const subscriptionData = args?.subscriptionData;\n  return <Subscriptions storybookConfig={{\n    cohorts,\n    subscriptionData\n  }} />;\n}",...PaymentIssue.parameters?.docs?.source}}},FullyPaid.parameters={...FullyPaid.parameters,docs:{...FullyPaid.parameters?.docs,source:{originalSource:"args => {\n  const cohorts = args?.cohorts;\n  const subscriptionData = args?.subscriptionData;\n  return <Subscriptions storybookConfig={{\n    cohorts,\n    subscriptionData\n  }} />;\n}",...FullyPaid.parameters?.docs?.source}}};const __namedExportsOrder=["isFreeTrial","isActive","isCancelled","isPaymentUpToDate","PaymentIssue","FullyPaid"]}}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2550],{"./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BMEZGHF.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function populateCommonDb(ast,db){ast.accDescr&&db.setAccDescription?.(ast.accDescr),ast.accTitle&&db.setAccTitle?.(ast.accTitle),ast.title&&db.setDiagramTitle?.(ast.title)}__webpack_require__.d(__webpack_exports__,{S:()=>populateCommonDb}),(0,__webpack_require__("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-YTJNT7DU.mjs").K2)(populateCommonDb,"populateCommonDb")},"./node_modules/mermaid/dist/chunks/mermaid.core/diagram-VNBRO52H.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{diagram:()=>diagram});var _chunk_4BMEZGHF_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-4BMEZGHF.mjs"),_chunk_O4NI6UNU_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-O4NI6UNU.mjs"),_chunk_7B677QYD_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-7B677QYD.mjs"),_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/mermaid/dist/chunks/mermaid.core/chunk-YTJNT7DU.mjs"),_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mermaid-js/parser/dist/mermaid-parser.core.mjs"),defaultPacketData={packet:[]},data=structuredClone(defaultPacketData),DEFAULT_PACKET_CONFIG=_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.UI.packet,getConfig2=(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((()=>{const config=(0,_chunk_O4NI6UNU_mjs__WEBPACK_IMPORTED_MODULE_1__.$t)({...DEFAULT_PACKET_CONFIG,...(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.zj)().packet});return config.showBits&&(config.paddingY+=10),config}),"getConfig"),getPacket=(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((()=>data.packet),"getPacket"),db={pushWord:(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((word=>{word.length>0&&data.packet.push(word)}),"pushWord"),getPacket,getConfig:getConfig2,clear:(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((()=>{(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.IU)(),data=structuredClone(defaultPacketData)}),"clear"),setAccTitle:_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.SV,getAccTitle:_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.iN,setDiagramTitle:_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.ke,getDiagramTitle:_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.ab,getAccDescription:_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.m7,setAccDescription:_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.EI},populate=(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((ast=>{(0,_chunk_4BMEZGHF_mjs__WEBPACK_IMPORTED_MODULE_0__.S)(ast,db);let lastByte=-1,word=[],row=1;const{bitsPerRow}=db.getConfig();for(let{start,end,label}of ast.blocks){if(end&&end<start)throw new Error(`Packet block ${start} - ${end} is invalid. End must be greater than start.`);if(start!==lastByte+1)throw new Error(`Packet block ${start} - ${end??start} is not contiguous. It should start from ${lastByte+1}.`);for(lastByte=end??start,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.Rm.debug(`Packet block ${start} - ${lastByte} with label ${label}`);word.length<=bitsPerRow+1&&db.getPacket().length<1e4;){const[block,nextBlock]=getNextFittingBlock({start,end,label},row,bitsPerRow);if(word.push(block),block.end+1===row*bitsPerRow&&(db.pushWord(word),word=[],row++),!nextBlock)break;({start,end,label}=nextBlock)}}db.pushWord(word)}),"populate"),getNextFittingBlock=(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)(((block,row,bitsPerRow)=>{if(void 0===block.end&&(block.end=block.start),block.start>block.end)throw new Error(`Block start ${block.start} is greater than block end ${block.end}.`);return block.end+1<=row*bitsPerRow?[block,void 0]:[{start:block.start,end:row*bitsPerRow-1,label:block.label},{start:row*bitsPerRow,end:block.end,label:block.label}]}),"getNextFittingBlock"),parser={parse:(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((async input=>{const ast=await(0,_mermaid_js_parser__WEBPACK_IMPORTED_MODULE_4__.qg)("packet",input);_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.Rm.debug(ast),populate(ast)}),"parse")},draw=(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)(((_text,id,_version,diagram2)=>{const db2=diagram2.db,config=db2.getConfig(),{rowHeight,paddingY,bitWidth,bitsPerRow}=config,words=db2.getPacket(),title=db2.getDiagramTitle(),totalRowHeight=rowHeight+paddingY,svgHeight=totalRowHeight*(words.length+1)-(title?0:rowHeight),svgWidth=bitWidth*bitsPerRow+2,svg=(0,_chunk_7B677QYD_mjs__WEBPACK_IMPORTED_MODULE_2__.D)(id);svg.attr("viewbox",`0 0 ${svgWidth} ${svgHeight}`),(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.a$)(svg,svgHeight,svgWidth,config.useMaxWidth);for(const[word,packet]of words.entries())drawWord(svg,packet,word,config);svg.append("text").text(title).attr("x",svgWidth/2).attr("y",svgHeight-totalRowHeight/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")}),"draw"),drawWord=(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)(((svg,word,rowNumber,{rowHeight,paddingX,paddingY,bitWidth,bitsPerRow,showBits})=>{const group=svg.append("g"),wordY=rowNumber*(rowHeight+paddingY)+paddingY;for(const block of word){const blockX=block.start%bitsPerRow*bitWidth+1,width=(block.end-block.start+1)*bitWidth-paddingX;if(group.append("rect").attr("x",blockX).attr("y",wordY).attr("width",width).attr("height",rowHeight).attr("class","packetBlock"),group.append("text").attr("x",blockX+width/2).attr("y",wordY+rowHeight/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(block.label),!showBits)continue;const isSingleBlock=block.end===block.start,bitNumberY=wordY-2;group.append("text").attr("x",blockX+(isSingleBlock?width/2:0)).attr("y",bitNumberY).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",isSingleBlock?"middle":"start").text(block.start),isSingleBlock||group.append("text").attr("x",blockX+width).attr("y",bitNumberY).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(block.end)}}),"drawWord"),defaultPacketStyleOptions={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},diagram={parser,db,renderer:{draw},styles:(0,_chunk_YTJNT7DU_mjs__WEBPACK_IMPORTED_MODULE_3__.K2)((({packet}={})=>{const options=(0,_chunk_O4NI6UNU_mjs__WEBPACK_IMPORTED_MODULE_1__.$t)(defaultPacketStyleOptions,packet);return`\n\t.packetByte {\n\t\tfont-size: ${options.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${options.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${options.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${options.labelColor};\n\t\tfont-size: ${options.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${options.titleColor};\n\t\tfont-size: ${options.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${options.blockStrokeColor};\n\t\tstroke-width: ${options.blockStrokeWidth};\n\t\tfill: ${options.blockFillColor};\n\t}\n\t`}),"styles")}}}]);
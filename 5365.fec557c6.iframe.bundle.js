"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5365],{"./src/components/Forms/validationSchemas.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var yup__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/yup/index.esm.js"),_utils_regex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/regex.js"),subscribe=yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({email:yup__WEBPACK_IMPORTED_MODULE_0__.string().matches(_utils_regex__WEBPACK_IMPORTED_MODULE_1__.Rp,"Invalid email").required("Email is required")});const __WEBPACK_DEFAULT_EXPORT__={register:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({first_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("First name is required"),last_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("Last name is required"),email:yup__WEBPACK_IMPORTED_MODULE_0__.string().email("Invalid email").required("Email is required"),phone:yup__WEBPACK_IMPORTED_MODULE_0__.string().matches(_utils_regex__WEBPACK_IMPORTED_MODULE_1__.lZ,"Invalid phone number")}),invite:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({first_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("First name is required"),last_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("Last name is required"),email:yup__WEBPACK_IMPORTED_MODULE_0__.string().email("Invalid email").required("Email is required"),phone:yup__WEBPACK_IMPORTED_MODULE_0__.string().matches(_utils_regex__WEBPACK_IMPORTED_MODULE_1__.lZ,"Invalid phone number"),password:yup__WEBPACK_IMPORTED_MODULE_0__.string().required("Password is required"),passwordConfirmation:yup__WEBPACK_IMPORTED_MODULE_0__.string().required("Password Confirmation Required").oneOf([yup__WEBPACK_IMPORTED_MODULE_0__.ref("password"),null],"Passwords must match")}),handleProfile:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({first_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("First name is required"),last_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("Last name is required"),email:yup__WEBPACK_IMPORTED_MODULE_0__.string().email("Invalid email").required("Email is required"),phone:yup__WEBPACK_IMPORTED_MODULE_0__.string().matches(_utils_regex__WEBPACK_IMPORTED_MODULE_1__.lZ,"Invalid phone number")}),login:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({password:yup__WEBPACK_IMPORTED_MODULE_0__.string().required("Password is required"),email:yup__WEBPACK_IMPORTED_MODULE_0__.string().email("Invalid email").required("Email is required")}),leadForm:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({full_name:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(10,"Too Short!").max(50,"Too Long!").required("Full name is required"),email:yup__WEBPACK_IMPORTED_MODULE_0__.string().email("Invalid email").required("Email is required")}),subscribe,projectUrlValidation:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({githubUrl:yup__WEBPACK_IMPORTED_MODULE_0__.string().matches(_utils_regex__WEBPACK_IMPORTED_MODULE_1__.OZ,"Invalid Url").required("Url is required")}),signup:yup__WEBPACK_IMPORTED_MODULE_0__.object().shape({firstName:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("First name is required"),lastName:yup__WEBPACK_IMPORTED_MODULE_0__.string().min(2,"Too Short!").max(50,"Too Long!").required("Last name is required"),email:yup__WEBPACK_IMPORTED_MODULE_0__.string().email("Invalid email").required("Email is required"),confirmEmail:yup__WEBPACK_IMPORTED_MODULE_0__.string().oneOf([yup__WEBPACK_IMPORTED_MODULE_0__.ref("email"),null],"Emails don't match").required("Confirm Email is required")})}},"./src/components/ModalInfo.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@chakra-ui/color-mode/dist/chunk-7NLW6UB6.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-UUGUEMMH.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-OWW5MU75.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-66WFFNY3.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YBA5A33G.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YLPWWAYV.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-PVJ72NKC.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-YTV6DHKL.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-6ZNYZUDD.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-GYFRIY2Z.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/@chakra-ui/form-control/dist/chunk-3GP7MWMA.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("./node_modules/@chakra-ui/modal/dist/chunk-YI7XFFAC.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),formik__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/formik/dist/formik.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_23__),_Text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Text.jsx"),_Forms_validationSchemas__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Forms/validationSchemas.js"),_Icon__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Icon/index.jsx"),_public_iconDict_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./public/iconDict.json"),_excluded=["isOpen","onClose","actionHandler","closeActionHandler","rejectHandler","forceHandler","disableHandler","title","description","teacherFeedback","linkInfo","linkText","link","handlerText","closeText","cancelColorButton","handlerColorButton","rejectData","sendProject","currentTask","type","closeButtonVariant","htmlDescription","attachment","disableInput","descriptionStyle","footerStyle","closeButtonStyles","buttonHandlerStyles","headerStyles","disableCloseButton","childrenDescription","maxWidth","forceHandlerAndClose","children"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ModalInfo(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,actionHandler=_ref.actionHandler,closeActionHandler=_ref.closeActionHandler,rejectHandler=_ref.rejectHandler,forceHandler=_ref.forceHandler,disableHandler=_ref.disableHandler,title=_ref.title,description=_ref.description,teacherFeedback=_ref.teacherFeedback,linkInfo=_ref.linkInfo,linkText=_ref.linkText,link=_ref.link,handlerText=_ref.handlerText,closeText=_ref.closeText,cancelColorButton=_ref.cancelColorButton,handlerColorButton=_ref.handlerColorButton,rejectData=_ref.rejectData,sendProject=_ref.sendProject,currentTask=_ref.currentTask,type=_ref.type,closeButtonVariant=_ref.closeButtonVariant,htmlDescription=_ref.htmlDescription,attachment=_ref.attachment,disableInput=_ref.disableInput,descriptionStyle=_ref.descriptionStyle,footerStyle=_ref.footerStyle,closeButtonStyles=_ref.closeButtonStyles,buttonHandlerStyles=_ref.buttonHandlerStyles,headerStyles=_ref.headerStyles,disableCloseButton=_ref.disableCloseButton,childrenDescription=_ref.childrenDescription,maxWidth=_ref.maxWidth,forceHandlerAndClose=_ref.forceHandlerAndClose,children=_ref.children,rest=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_7__.A)(_ref,_excluded),t=(0,next_translate_useTranslation__WEBPACK_IMPORTED_MODULE_1__.A)("dashboard").t,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(link),githubUrl=_useState[0],setGithubUrl=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),isSubmitting=_useState2[0],setIsSubmitting=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),confirmRejection=_useState3[0],setConfirmRejection=_useState3[1],commonBorderColor=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("gray.200","gray.500"),commonTextColor=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("gray.600","gray.200"),commonInputColor=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("gray.default","gray.300"),commonInputActiveColor=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("gray.800","gray.100"),commonHighlightColor=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("gray.250","darkTheme");return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.aF,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({blockScrollOnMount:!1,closeOnOverlayClick:!forceHandler,isOpen,onClose},rest),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.m,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.$,{maxWidth:maxWidth||"md",borderRadius:"6px",style:{marginTop:"10vh"}},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.r,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({borderBottom:1,borderStyle:"solid",borderColor:commonBorderColor},headerStyles),title),!forceHandler&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_14__.s,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_15__.c,null,description&&__jsx(_Text__WEBPACK_IMPORTED_MODULE_3__.A,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({size:"l",fontWeight:"400",color:commonTextColor,margin:"10px 0 0 0"},descriptionStyle),description),htmlDescription&&__jsx(_Text__WEBPACK_IMPORTED_MODULE_3__.A,{size:"l",color:commonTextColor,margin:"10px 0 0 0",dangerouslySetInnerHTML:{__html:htmlDescription}}),childrenDescription&&childrenDescription,teacherFeedback&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{margin:"15px 0 0 0",padding:"12px 16px",background:commonHighlightColor,display:"flex",flexDirection:"column",gridGap:"0px"},__jsx(_Text__WEBPACK_IMPORTED_MODULE_3__.A,{size:"l",fontWeight:"700",color:(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("gray.800","gray.light")},t("modalInfo.rejected.teacher-feedback")),__jsx(_Text__WEBPACK_IMPORTED_MODULE_3__.A,{size:"l",fontWeight:"500",color:commonTextColor,margin:"0"},teacherFeedback)),Array.isArray(attachment)&&attachment.length>0?__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{mt:"10px"},__jsx(_Text__WEBPACK_IMPORTED_MODULE_3__.A,{size:"l",mb:"8px"},t("modalInfo.files-sended-to-teacher")),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{display:"flex",flexDirection:"column",gridGap:"8px",maxHeight:"135px",overflowY:"auto"},attachment.map(function(file){var extension=file.name.split(".").pop(),isImage=["jpg","jpeg","png","gif","svg"].includes(extension),icon=_public_iconDict_json__WEBPACK_IMPORTED_MODULE_6__.includes(extension)?extension:"file";return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{key:"".concat(file.id,"-").concat(file.name),display:"flex"},__jsx(_Icon__WEBPACK_IMPORTED_MODULE_5__.A,{icon:isImage?"image":icon,width:"22px",height:"22px"}),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__.N,{href:file.url,target:"_blank",rel:"noopener noreferrer",color:"blue.500",margin:"0 0 0 10px"},file.name))}))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!disableInput&&!disableHandler&&link&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{padding:"18px 0 0 0"},__jsx(formik__WEBPACK_IMPORTED_MODULE_2__.l1,{initialValues:{githubUrl:link},onSubmit:function onSubmit(){setIsSubmitting(!0),""!==githubUrl&&(sendProject({task:currentTask,githubUrl,taskStatus:"DONE"}),setIsSubmitting(!1),onClose())},validationSchema:_Forms_validationSchemas__WEBPACK_IMPORTED_MODULE_4__.A.projectUrlValidation},function(){return __jsx(formik__WEBPACK_IMPORTED_MODULE_2__.lV,null,__jsx(formik__WEBPACK_IMPORTED_MODULE_2__.D0,{name:"githubUrl"},function(_ref2){var field=_ref2.field,form=_ref2.form;return setGithubUrl(form.values.githubUrl),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_18__.MJ,{isInvalid:form.errors.githubUrl&&form.touched.githubUrl},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_19__.p,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({},field,{type:"text",color:commonInputColor,_focus:{color:commonInputActiveColor},_hover:{color:commonInputActiveColor},id:"githubUrl",placeholder:"https://github.com/..."})),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_20__.Wt,{marginTop:"10px"},form.errors.githubUrl))}))})),disableInput&&(linkText||link)&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{padding:"18px 0 0 0"},__jsx(_Text__WEBPACK_IMPORTED_MODULE_3__.A,{size:"l",fontWeight:"bold",color:commonTextColor},linkInfo),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_17__.N,{href:link,color:(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_8__.dU)("blue.default","blue.300"),target:"_blank",rel:"noopener noreferrer"},linkText||link))),children&&children),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_21__.j,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({justifyContent:"space-evenly"},footerStyle),"taskHandler"===type?__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_16__.az,{width:"100%",display:"flex",justifyContent:"space-between"},!disableCloseButton&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__.$,{fontSize:"13px",variant:closeButtonVariant,onClick:actionHandler,textTransform:"uppercase"},closeText||t("common:close")),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__.$,{fontSize:"13px",isDisabled:Array.isArray(attachment)&&attachment.length>0||isSubmitting||disableHandler,isLoading:isSubmitting,onClick:function onClick(){return function resubmitHandler(){setIsSubmitting(!0),""!==githubUrl?(sendProject({task:currentTask,githubUrl,taskStatus:"DONE"}),setIsSubmitting(!1),onClose()):setIsSubmitting(!1)}()},variant:"default",textTransform:"uppercase"},handlerText)):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!disableCloseButton&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__.$,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({fontSize:"13px",variant:closeButtonVariant,colorScheme:cancelColorButton,mr:3,onClick:function onClick(){return function rejectFunction(){forceHandler&&!forceHandlerAndClose?setConfirmRejection(!0):(closeActionHandler(),onClose())}()},textTransform:"uppercase"},closeButtonStyles),closeText||t("common:close")),!disableHandler&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__.$,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_10__.A)({fontSize:"13px",onClick:actionHandler,colorScheme:handlerColorButton,textTransform:"uppercase"},buttonHandlerStyles),handlerText))))),confirmRejection&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.aF,{isOpen:confirmRejection,isCentered:!0},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.m,null),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.$,null,__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.r,{borderBottom:1,borderStyle:"solid",borderColor:commonBorderColor},rejectData.title),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_21__.j,null,__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__.$,{fontSize:"13px",colorScheme:"red",mr:3,onClick:function onClick(){return setConfirmRejection(!1)},textTransform:"uppercase"},rejectData.closeText),(!disableHandler||forceHandler)&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_22__.$,{fontSize:"13px",colorScheme:"blue",onClick:function onClick(){rejectHandler(),setConfirmRejection(!1)},textTransform:"uppercase"},rejectData.handlerText)))))}ModalInfo.propTypes={isOpen:prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool,onClose:prop_types__WEBPACK_IMPORTED_MODULE_23___default().func.isRequired,actionHandler:prop_types__WEBPACK_IMPORTED_MODULE_23___default().func,closeActionHandler:prop_types__WEBPACK_IMPORTED_MODULE_23___default().func,rejectHandler:prop_types__WEBPACK_IMPORTED_MODULE_23___default().func,forceHandler:prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool,disableHandler:prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool,disableInput:prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool,title:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,description:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,teacherFeedback:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,linkInfo:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,linkText:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,link:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,handlerText:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,closeText:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,handlerColorButton:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,cancelColorButton:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,rejectData:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().string),sendProject:prop_types__WEBPACK_IMPORTED_MODULE_23___default().func,currentTask:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any])),type:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,closeButtonVariant:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,htmlDescription:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,attachment:prop_types__WEBPACK_IMPORTED_MODULE_23___default().arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any]))),descriptionStyle:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any])),footerStyle:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any])),closeButtonStyles:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any])),buttonHandlerStyles:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any])),headerStyles:prop_types__WEBPACK_IMPORTED_MODULE_23___default().objectOf(prop_types__WEBPACK_IMPORTED_MODULE_23___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_23___default().any])),disableCloseButton:prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool,childrenDescription:prop_types__WEBPACK_IMPORTED_MODULE_23___default().node,maxWidth:prop_types__WEBPACK_IMPORTED_MODULE_23___default().string,forceHandlerAndClose:prop_types__WEBPACK_IMPORTED_MODULE_23___default().bool,children:prop_types__WEBPACK_IMPORTED_MODULE_23___default().node},ModalInfo.defaultProps={isOpen:!1,actionHandler:function actionHandler(){},closeActionHandler:function closeActionHandler(){},rejectHandler:function rejectHandler(){},forceHandler:!1,disableHandler:!1,title:"Review status",description:"",teacherFeedback:"",linkInfo:"",disableInput:!1,linkText:"",link:"",handlerText:"Remove delivery",closeText:"",handlerColorButton:"blue",cancelColorButton:"red",rejectData:{},sendProject:function sendProject(){},currentTask:{},type:"default",closeButtonVariant:"danger",htmlDescription:"",attachment:[],descriptionStyle:{},footerStyle:{},closeButtonStyles:{},buttonHandlerStyles:{},headerStyles:{},disableCloseButton:!1,childrenDescription:null,maxWidth:"md",forceHandlerAndClose:!1,children:null};const __WEBPACK_DEFAULT_EXPORT__=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(ModalInfo);ModalInfo.__docgenInfo={description:"",methods:[],displayName:"ModalInfo",props:{isOpen:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},actionHandler:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},closeActionHandler:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},rejectHandler:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},forceHandler:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},disableHandler:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},title:{defaultValue:{value:"'Review status'",computed:!1},description:"",type:{name:"string"},required:!1},description:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},teacherFeedback:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},linkInfo:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},disableInput:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},linkText:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},link:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},handlerText:{defaultValue:{value:"'Remove delivery'",computed:!1},description:"",type:{name:"string"},required:!1},closeText:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},handlerColorButton:{defaultValue:{value:"'blue'",computed:!1},description:"",type:{name:"string"},required:!1},cancelColorButton:{defaultValue:{value:"'red'",computed:!1},description:"",type:{name:"string"},required:!1},rejectData:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"string"}},required:!1},sendProject:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},currentTask:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},type:{defaultValue:{value:"'default'",computed:!1},description:"",type:{name:"string"},required:!1},closeButtonVariant:{defaultValue:{value:"'danger'",computed:!1},description:"",type:{name:"string"},required:!1},htmlDescription:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},attachment:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}}},required:!1},descriptionStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},footerStyle:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},closeButtonStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},buttonHandlerStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},headerStyles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1},disableCloseButton:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},childrenDescription:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},maxWidth:{defaultValue:{value:"'md'",computed:!1},description:"",type:{name:"string"},required:!1},forceHandlerAndClose:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},onClose:{description:"",type:{name:"func"},required:!0}}}},"./src/components/Text.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/tooltip/dist/chunk-HEDGDMHJ.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-P74GIWPW.mjs"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__),_excluded=["children","size","maxWidth","letterSpacing","withLimit","label","withTooltip"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,sizes={l:"15px",md:"14px",sm:"12px",xs:"10px"};function Text(_ref){var children=_ref.children,size=_ref.size,maxWidth=_ref.maxWidth,letterSpacing=_ref.letterSpacing,withLimit=_ref.withLimit,label=_ref.label,withTooltip=_ref.withTooltip,rest=(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.A)(_ref,_excluded);return withLimit?__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.m,{label:withTooltip?label:children,hasArrow:!0,placement:"top-start",openDelay:500},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.E,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__.A)({className:"text",letterSpacing,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",fontSize:sizes[size]||size,width:maxWidth||withTooltip?"auto":"13em",border:"0px"},rest),children&&children)):__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.E,(0,_home_runner_work_app_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__.A)({letterSpacing,maxWidth,fontSize:sizes[size]||size},rest),children&&children)}Text.propTypes={size:prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,prop_types__WEBPACK_IMPORTED_MODULE_5___default().object]),letterSpacing:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,maxWidth:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_5___default().node,withLimit:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,withTooltip:prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool,label:prop_types__WEBPACK_IMPORTED_MODULE_5___default().string},Text.defaultProps={letterSpacing:"0.05em",size:"sm",maxWidth:"",children:null,withLimit:!1,withTooltip:!1,label:""};const __WEBPACK_DEFAULT_EXPORT__=Text;Text.__docgenInfo={description:"",methods:[],displayName:"Text",props:{letterSpacing:{defaultValue:{value:"'0.05em'",computed:!1},description:"",type:{name:"string"},required:!1},size:{defaultValue:{value:"'sm'",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1},maxWidth:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},withLimit:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},withTooltip:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},label:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1}}}},"./src/hooks/useAuth.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useAuth});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),next_router=__webpack_require__("./node_modules/next/router.js"),useTranslation=__webpack_require__("./node_modules/next-translate/lib/esm/useTranslation.js"),chunk_6CSUKJP7=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),chunk_WPAIWTI3=__webpack_require__("./node_modules/@chakra-ui/avatar/dist/chunk-WPAIWTI3.mjs"),breathecode=__webpack_require__("./src/services/breathecode.js"),axios=__webpack_require__("./src/axios.js"),utils_url=__webpack_require__("./src/utils/url.js"),variables=__webpack_require__("./src/utils/variables.js"),rigoHostV1="".concat(variables.oA,"/v1");const services_rigobot={auth:function auth(){var url="".concat(rigoHostV1,"/auth");return{meToken:function meToken(token){return axios.Ay.get("".concat(url,"/me/token?breathecode_token=").concat(token))}}},prompting:function prompting(){var query=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},url="".concat(rigoHostV1,"/prompting"),qs=(0,utils_url.hk)(query);return{completionJob:function completionJob(data){return axios.Ay.post("".concat(url,"/completion/43").concat(qs),data)}}}};var usePersistent=__webpack_require__("./src/hooks/usePersistent.js"),useRigo=__webpack_require__("./src/hooks/useRigo.js"),useCustomToast=__webpack_require__("./src/hooks/useCustomToast.jsx"),useSubscriptions=__webpack_require__("./src/hooks/useSubscriptions.js"),ModalInfo=__webpack_require__("./src/components/ModalInfo.jsx"),Text=__webpack_require__("./src/components/Text.jsx"),logging=__webpack_require__("./src/utils/logging.js"),utils=__webpack_require__("./src/utils/index.js"),requests=__webpack_require__("./src/utils/requests.js"),Buffer=__webpack_require__("./node_modules/buffer/index.js").Buffer,console=__webpack_require__("./node_modules/console-browserify/index.js"),_excluded=["cohorts"],_excluded2=["cohort"],__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var initialState={isLoading:!0,isAuthenticated:!1,isAuthenticatedWithRigobot:!1,user:null,cohorts:[],blockedServices:null,hasNonSaasCohort:!1},langHelper={us:"en",en:"en",es:"es"},reducer=function reducer(state,action){switch(action.type){case"INIT":var _action$payload=action.payload,isLoading=_action$payload.isLoading,isAuthenticated=_action$payload.isAuthenticated,isAuthenticatedWithRigobot=_action$payload.isAuthenticatedWithRigobot,user=_action$payload.user,cohorts=_action$payload.cohorts,hasNonSaasCohort=_action$payload.hasNonSaasCohort;return _objectSpread(_objectSpread({},state),{},{isLoading,isAuthenticated,isAuthenticatedWithRigobot,user,cohorts,hasNonSaasCohort});case"LOGIN":var _user=action.payload.user;return _objectSpread(_objectSpread({},state),{},{isLoading:!1,isAuthenticated:!0,user:_user});case"LOGOUT":return _objectSpread(_objectSpread({},state),{},{isLoading:!1,isAuthenticated:!1,user:null,cohorts:[],hasNonSaasCohort:!1});case"REGISTER":var _user2=action.payload.user;return _objectSpread(_objectSpread({},state),{},{isAuthenticated:!0,user:_user2});case"UPDATE_PROFILE":return _objectSpread(_objectSpread({},state),{},{isLoading:!1,user:action.payload});case"SET_COHORTS":var _hasNonSaasCohort=action.payload.some(function(c){return!1===c.available_as_saas});return _objectSpread(_objectSpread({},state),{},{cohorts:action.payload,hasNonSaasCohort:_hasNonSaasCohort});case"SET_COHORTS_AND_USER":var _action$payload2=action.payload,_user3=_action$payload2.user,_cohorts2=_action$payload2.cohorts,_hasNonSaasCohort2=_cohorts2.some(function(c){return!1===c.available_as_saas});return _objectSpread(_objectSpread({},state),{},{user:_user3,cohorts:_cohorts2,hasNonSaasCohort:_hasNonSaasCohort2});case"LOADING":return _objectSpread(_objectSpread({},state),{},{isLoading:action.payload});case"SET_BLOCKED_SERVICES":return _objectSpread(_objectSpread({},state),{},{blockedServices:action.payload});default:return _objectSpread({},state)}},getToken=function getToken(){if(utils.l6){var _query$get,queryToken=null===(_query$get=new URLSearchParams(window.location.search||"").get("token"))||void 0===_query$get?void 0:_query$get.split("?")[0];return queryToken||localStorage.getItem("accessToken")}return null},AuthContext=(0,react.createContext)(_objectSpread({},initialState));function AuthProvider(_ref){var _query$get2,children=_ref.children,pageProps=_ref.pageProps,router=(0,next_router.useRouter)(),initializeSubscriptionsData=(0,useSubscriptions.A)().initializeSubscriptionsData,_useTranslation=(0,useTranslation.A)("footer"),t=_useTranslation.t,lang=_useTranslation.lang,createToast=(0,useCustomToast.A)({toastId:"auth-context-email-sent"}).createToast,_useRigo=(0,useRigo.A)(),rigo=_useRigo.rigo,isRigoInitialized=_useRigo.isRigoInitialized,queryCoupon=(0,utils.eA)("coupon"),_usePersistentBySessi=(0,usePersistent.M)("coupon",[]),setCoupon=(0,slicedToArray.A)(_usePersistentBySessi,2)[1],_useReducer=(0,react.useReducer)(reducer,initialState),state=_useReducer[0],dispatch=_useReducer[1],user=state.user,isAuthenticated=state.isAuthenticated,_useState=(0,react.useState)({state:!1,user:null}),modalState=_useState[0],setModalState=_useState[1],query=utils.l6&&new URLSearchParams(window.location.search||""),queryToken=utils.l6&&(null===(_query$get2=query.get("token"))||void 0===_query$get2?void 0:_query$get2.split("?")[0]),cleanUrl=utils.l6&&(0,utils.bR)(window.location.href,"token"),queryTokenExists=utils.l6&&void 0!==queryToken&&queryToken.length>0,handleSession=function handleSession(tokenString){return function setTokenSession(token){token?(localStorage.setItem("accessToken",token),axios.Ay.defaults.headers.common.Authorization="Token ".concat(token)):((0,utils.fl)("syllabus"),(0,utils.fl)("programMentors"),(0,utils.fl)("programServices"),(0,utils.fl)("cohortSession"),(0,utils.fl)("accessToken"),(0,utils.fl)("days_history_log"),(0,utils.fl)("queryCache"),(0,utils.fl)("programsList"),(0,utils.fl)("isClosedLateModal"),delete axios.Ay.defaults.headers.common.Authorization)}(tokenString)},updateSettingsLang=function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(){var _t;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=1,breathecode.A.auth().updateSettings({lang});case 1:_context.next=3;break;case 2:_context.prev=2,_t=_context.catch(0),(0,logging.R8)('error function "updateSettingsLang": ',_t);case 3:case"end":return _context.stop()}},_callee,null,[[0,2]])}));return function updateSettingsLang(){return _ref2.apply(this,arguments)}}();(0,react.useEffect)(function(){!state.isAuthenticated||"/"!==router.pathname&&""!==router.pathname||router.push("/choose-program")},[state.isAuthenticated,router.pathname]);var fetchUserAndCohorts=function(){var _ref3=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee2(){var _yield$bc$admissions$,data,cohortUsers,userData,validCohortUsers,cohorts,hasNonSaasCohort,_t2;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=1,breathecode.A.admissions().me();case 1:return _yield$bc$admissions$=_context2.sent,data=_yield$bc$admissions$.data,cohortUsers=data.cohorts,userData=(0,objectWithoutProperties.A)(data,_excluded),validCohortUsers=Array.isArray(cohortUsers)?cohortUsers.filter(function(_ref4){var _cohort$syllabus_vers,_cohort$syllabus_vers2,cohort=_ref4.cohort;return(null==cohort||null===(_cohort$syllabus_vers=cohort.syllabus_version)||void 0===_cohort$syllabus_vers?void 0:_cohort$syllabus_vers.slug)&&(null==cohort||null===(_cohort$syllabus_vers2=cohort.syllabus_version)||void 0===_cohort$syllabus_vers2?void 0:_cohort$syllabus_vers2.version)}):[],cohorts=validCohortUsers.map(function(elem){var cohort=elem.cohort,cohort_user=(0,objectWithoutProperties.A)(elem,_excluded2),syllabus_version=cohort.syllabus_version;return _objectSpread(_objectSpread({},cohort),{},{selectedProgramSlug:"/cohort/".concat(cohort.slug,"/").concat(syllabus_version.slug,"/v").concat(syllabus_version.version),cohort_user})}),hasNonSaasCohort=cohorts.some(function(c){return!1===c.available_as_saas}),_context2.abrupt("return",{cohorts,userData,hasNonSaasCohort});case 2:return _context2.prev=2,_t2=_context2.catch(0),console.log(_t2),_context2.abrupt("return",_t2);case 3:case"end":return _context2.stop()}},_callee2,null,[[0,2]])}));return function fetchUserAndCohorts(){return _ref3.apply(this,arguments)}}(),reSetUserAndCohorts=function(){var _ref5=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee3(){var _yield$fetchUserAndCo,cohorts,userData,hasNonSaasCohort;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=1,fetchUserAndCohorts();case 1:return _yield$fetchUserAndCo=_context3.sent,cohorts=_yield$fetchUserAndCo.cohorts,userData=_yield$fetchUserAndCo.userData,hasNonSaasCohort=_yield$fetchUserAndCo.hasNonSaasCohort,dispatch({type:"SET_COHORTS_AND_USER",payload:{user:userData,cohorts}}),_context3.abrupt("return",{cohorts,userData,hasNonSaasCohort});case 2:case"end":return _context3.stop()}},_callee3)}));return function reSetUserAndCohorts(){return _ref5.apply(this,arguments)}}(),fetchBlockedServices=function(){var _ref6=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee4(){var _yield$bc$payment$get,data,_t3;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=1,breathecode.A.payment().getBlockedServices();case 1:_yield$bc$payment$get=_context4.sent,data=_yield$bc$payment$get.data,dispatch({type:"SET_BLOCKED_SERVICES",payload:data}),_context4.next=3;break;case 2:_context4.prev=2,_t3=_context4.catch(0),(0,logging.R8)("Error fetching blocked services:",_t3),dispatch({type:"SET_BLOCKED_SERVICES",payload:null});case 3:case"end":return _context4.stop()}},_callee4,null,[[0,2]])}));return function fetchBlockedServices(){return _ref6.apply(this,arguments)}}(),authHandler=function(){var _ref7=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee5(){var token,_userData$profile,_userData$github,_yield$fetchUserAndCo2,cohorts,userData,hasNonSaasCohort,_yield$Promise$all,_yield$Promise$all2,respRigobotAuth,isAuthenticatedWithRigobot,settingsLang;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(null==(token=getToken())){_context5.next=9;break}return _context5.next=1,fetch("".concat(variables.UA,"/v1/auth/token/").concat(token),{method:"GET",headers:{"Content-Type":"application/json"}});case 1:if(!(_context5.sent.status>=400)){_context5.next=2;break}handleSession(null),queryTokenExists?router.push(cleanUrl):router.reload(),dispatch({type:"INIT",payload:{user:null,isAuthenticated:!1,isLoading:!1,cohorts:[],hasNonSaasCohort:!1}}),_context5.next=8;break;case 2:if(handleSession(token),_context5.prev=3,user){_context5.next=6;break}return _context5.next=4,fetchUserAndCohorts();case 4:return _yield$fetchUserAndCo2=_context5.sent,cohorts=_yield$fetchUserAndCo2.cohorts,userData=_yield$fetchUserAndCo2.userData,hasNonSaasCohort=_yield$fetchUserAndCo2.hasNonSaasCohort,_context5.next=5,Promise.all([services_rigobot.auth().meToken(token),fetchBlockedServices()]);case 5:_yield$Promise$all=_context5.sent,_yield$Promise$all2=(0,slicedToArray.A)(_yield$Promise$all,1),respRigobotAuth=_yield$Promise$all2[0],isAuthenticatedWithRigobot=200===(null==respRigobotAuth?void 0:respRigobotAuth.status),dispatch({type:"INIT",payload:{user:userData,cohorts,isAuthenticated:!0,isAuthenticatedWithRigobot,isLoading:!1,hasNonSaasCohort}}),settingsLang=null==userData?void 0:userData.settings.lang,(0,requests.A$)({dataLayer:{event:"session_load",method:"native",user_id:userData.id,email:userData.email,is_academy_legacy:(0,toConsumableArray.A)(new Set(userData.roles.map(function(role){return role.academy.id}))).join(", "),is_available_as_saas:!userData.roles.some(function(r){return!0!==r.academy.available_as_saas}),first_name:userData.first_name,last_name:userData.last_name,avatar_url:(null===(_userData$profile=userData.profile)||void 0===_userData$profile?void 0:_userData$profile.avatar_url)||(null===(_userData$github=userData.github)||void 0===_userData$github?void 0:_userData$github.avatar_url),language:settingsLang,agent:(0,utils.VK)()}}),userData.github?localStorage.setItem("showGithubWarning","closed"):localStorage.getItem("showGithubWarning")&&"postponed"===localStorage.getItem("showGithubWarning")||localStorage.setItem("showGithubWarning","active"),pageProps.disableLangSwitcher||langHelper[null==router?void 0:router.locale]===settingsLang||updateSettingsLang();case 6:_context5.next=8;break;case 7:_context5.prev=7,_context5.catch(3),handleSession(null);case 8:_context5.next=10;break;case 9:dispatch({type:"LOADING",payload:!1});case 10:return _context5.abrupt("return",null);case 11:case"end":return _context5.stop()}},_callee5,null,[[3,7]])}));return function authHandler(){return _ref7.apply(this,arguments)}}();(0,react.useEffect)(function(){queryCoupon&&setCoupon(queryCoupon),authHandler()},[router]),(0,react.useEffect)(function(){if(user&&isRigoInitialized){var _user$profile,token=getToken(),context=function generateUserContext(user){var first_name=user.first_name,last_name=user.last_name,date_joined=user.date_joined,roles=user.roles,settings=user.settings,ai_context="";return first_name&&(ai_context+="The user's first name is ".concat(first_name,". ")),last_name&&(ai_context+="The user's last name is ".concat(last_name,". ")),date_joined&&(ai_context+="The user joined on ".concat(date_joined,". ")),roles&&roles.forEach(function(role){ai_context+="The user has the role of ".concat(role.role," in the academy of ").concat(role.academy.name,". ")}),settings&&(ai_context+="The user has the following settings: Default language: ".concat(settings.lang,".")),ai_context}(user);rigo.updateOptions({context,user:{token,nickname:"".concat(user.first_name," ").concat(user.last_name),avatar_url:null===(_user$profile=user.profile)||void 0===_user$profile?void 0:_user$profile.avatar_url}})}},[user,isRigoInitialized]),(0,react.useEffect)(function(){isAuthenticated&&initializeSubscriptionsData().then(function(data){var _data$plan_financings,_data$subscriptions;(0,requests.A$)({dataLayer:{event:"subscriptions_load",method:"native",plan_financings:null==data||null===(_data$plan_financings=data.plan_financings)||void 0===_data$plan_financings?void 0:_data$plan_financings.filter(function(s){return"ACTIVE"===s.status}).map(function(s){return s.plans.filter(function(p){return"ACTIVE"===p.status}).map(function(p){return p.slug}).join(",")}).join(","),subscriptions:null==data||null===(_data$subscriptions=data.subscriptions)||void 0===_data$subscriptions?void 0:_data$subscriptions.filter(function(s){return"ACTIVE"===s.status}).map(function(s){return s.plans.filter(function(p){return"ACTIVE"===p.status}).map(function(p){return p.slug}).join(",")}).join(","),agent:(0,utils.VK)()}})})},[isAuthenticated]);var login=function(){var _ref8=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee6(){var payload,disableRedirect,redirect,_responseData$non_fie,response,responseData,i,_responseData$non_fie2,indexFromOne,prismicPages,prismicPagesUrls,disabledRedirectUrls,message,_t5,_args6=arguments;return regenerator_default().wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(payload=_args6.length>0&&void 0!==_args6[0]?_args6[0]:null,disableRedirect=_args6.length>1&&void 0!==_args6[1]&&_args6[1],redirect=utils.l6&&localStorage.getItem("redirect"),_context6.prev=1,!payload){_context6.next=5;break}return _context6.next=2,breathecode.A.auth().login(payload);case 2:if(response=_context6.sent,(null==(responseData=response.data)?void 0:responseData.silent_code)===variables.y4.EMAIL_NOT_VALIDATED&&setModalState(_objectSpread(_objectSpread(_objectSpread({},payload),responseData),{},{state:!0})),!0!==(null==responseData?void 0:responseData.silent)&&(null==responseData||null===(_responseData$non_fie=responseData.non_field_errors)||void 0===_responseData$non_fie?void 0:_responseData$non_fie.length)>0)for(i=0;i<(null===(_responseData$non_fie2=responseData.non_field_errors)||void 0===_responseData$non_fie2?void 0:_responseData$non_fie2.length);i+=1)indexFromOne=i+1,createToast({position:"top",status:"error",title:responseData.non_field_errors[i],duration:5e3+1e3*indexFromOne,isClosable:!0});if(200!==response.status){_context6.next=4;break}return handleSession(responseData.token||response.token),dispatch({type:"LOGIN",payload:responseData}),_context6.next=3,(0,requests.uU)();case 3:prismicPages=_context6.sent,prismicPagesUrls=(0,utils_url._r)(prismicPages),disabledRedirectUrls=[].concat((0,toConsumableArray.A)(prismicPagesUrls),["/"]),disableRedirect?router.reload():redirect&&redirect.length>0&&!disabledRedirectUrls.includes(redirect)?(router.push(redirect),localStorage.removeItem("redirect")):(router.push("/choose-program"),localStorage.removeItem("redirect")),(0,requests.A$)({dataLayer:{event:"login",path:router.pathname,method:"native",user_id:responseData.user_id,email:responseData.email,agent:(0,utils.VK)()}});case 4:return _context6.abrupt("return",response);case 5:throw Error("Empty values");case 6:throw _context6.prev=6,_t5=_context6.catch(1),message=_t5.details||_t5.detail||Array.isArray(_t5.non_field_errors)?_t5.non_field_errors[0]:"Unable to login",Error(message);case 7:case"end":return _context6.stop()}},_callee6,null,[[1,6]])}));return function login(){return _ref8.apply(this,arguments)}}(),register=function(){var _ref9=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee7(){var payload,response,message,_t6,_args7=arguments;return regenerator_default().wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(payload=_args7.length>0&&void 0!==_args7[0]?_args7[0]:null,_context7.prev=1,!payload){_context7.next=3;break}return _context7.next=2,breathecode.A.auth().register(payload);case 2:return 200===(response=_context7.sent).status&&(handleSession(response.data.token||response.token),dispatch({type:"REGISTER",payload:{isLoading:!1,isAuthenticated:!0,user:response.data}})),_context7.abrupt("return",response);case 3:throw Error("Empty values");case 4:throw _context7.prev=4,_t6=_context7.catch(1),message=_t6.details||_t6.detail||Array.isArray(_t6.non_field_errors)?_t6.non_field_errors[0]:"Unable to register",Error(message);case 5:case"end":return _context7.stop()}},_callee7,null,[[1,4]])}));return function register(){return _ref9.apply(this,arguments)}}(),updateProfile=function(){var _ref0=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee8(payload){return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:dispatch({type:"UPDATE_PROFILE",payload});case 1:case"end":return _context8.stop()}},_callee8)}));return function updateProfile(_x){return _ref0.apply(this,arguments)}}();return __jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{method:"Bearer",login,logout:function logout(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,axios.Zi)(),handleSession(null),"function"==typeof callback&&callback(),"function"!=typeof callback&&(queryTokenExists?router.push(cleanUrl).then(function(){router.reload()}):router.reload()),localStorage.removeItem("showGithubWarning"),localStorage.removeItem("redirect"),dispatch({type:"LOGOUT"})},register,updateProfile,conntectToRigobot:function conntectToRigobot(){var accessToken=getToken(),callBackUrl=window.location.href,base64String=Buffer.from(callBackUrl,"utf8").toString("base64"),inviteUrl="".concat(variables.oA,"/invite/?referer=4geeks&token=").concat(accessToken,"&callback=").concat(base64String);window.location.href=inviteUrl},setCohorts:function setCohorts(cohorts){dispatch({type:"SET_COHORTS",payload:cohorts})},reSetUserAndCohorts,fetchUserAndCohorts})},children,__jsx(ModalInfo.default,{headerStyles:{textAlign:"center"},title:t("signup:alert-message.validate-email-title"),footerStyle:{flexDirection:"row-reverse"},closeButtonVariant:"outline",closeButtonStyles:{borderRadius:"3px",color:"#0097CD",borderColor:"#0097CD"},childrenDescription:__jsx(chunk_6CSUKJP7.az,{display:"flex",flexDirection:"column",alignItems:"center",gridGap:"17px"},__jsx(chunk_WPAIWTI3.e,{src:"".concat(variables.UA,"/static/img/avatar-1.png"),border:"3px solid #0097CD",width:"91px",height:"91px",borderRadius:"50px"}),__jsx(Text.A,{size:"14px",textAlign:"center",dangerouslySetInnerHTML:{__html:t("signup:alert-message.validate-email-description",{email:null==modalState?void 0:modalState.email})}})),isOpen:modalState.state,buttonHandlerStyles:{variant:"default"},actionHandler:function actionHandler(){var _modalState$data,inviteId=null==modalState||null===(_modalState$data=modalState.data)||void 0===_modalState$data||null===(_modalState$data=_modalState$data[0])||void 0===_modalState$data?void 0:_modalState$data.id;breathecode.A.auth().resendConfirmationEmail(inviteId).then(function(resp){var data=null==resp?void 0:resp.data;createToast(void 0===data?{position:"top",status:"info",title:t("signup:alert-message.email-already-sent"),isClosable:!0,duration:6e3}:{position:"top",status:"success",title:t("signup:alert-message.email-sent-to",{email:null==data?void 0:data.email}),isClosable:!0,duration:6e3})})},handlerText:t("signup:resend"),onClose:function onClose(){return setModalState(_objectSpread(_objectSpread({},modalState),{},{state:!1}))}}))}AuthProvider.displayName="AuthProvider",AuthProvider.propTypes={children:prop_types_default().node,pageProps:prop_types_default().objectOf(prop_types_default().oneOfType([prop_types_default().any]))},AuthProvider.defaultProps={children:null,pageProps:{}};AuthProvider.__docgenInfo={description:"",methods:[],displayName:"AuthProvider",props:{children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},pageProps:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"objectOf",value:{name:"union",value:[{name:"any"}]}},required:!1}}};const hooks_useAuth=function useAuth(){return(0,react.useContext)(AuthContext)}},"./src/hooks/useCustomToast.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@chakra-ui/toast/dist/chunk-ENIANY67.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-6CSUKJP7.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-MPFPK3CX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/button/dist/chunk-NAA7TEES.mjs"),_components_Icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Icon/index.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,bgColors={info:{background:"#F9F9F9",color:"#3A3A3A",borderColor:"#DADADA"},warning:{background:"#ffefcc",color:"#975100",borderColor:"#FFB718"},error:{background:"#fee8e8",color:"#EB5757",borderColor:"#EB5757"},success:{background:"#e0ffe8",color:"#00a33d",borderColor:"#00bb2d"}},globalActiveToasts=new Map,globalActiveToastIds=new Set;const __WEBPACK_DEFAULT_EXPORT__=function useCustomToast(){var toast=(0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_2__.d)(),closeToast=function closeToast(id){toast.close(id),globalActiveToastIds.delete(id),globalActiveToasts.forEach(function(value,key){value.id===id&&globalActiveToasts.delete(key)})};return{createToast:function createToast(_ref){var _ref$title=_ref.title,title=void 0===_ref$title?"Already have an account?":_ref$title,_ref$status=_ref.status,status=void 0===_ref$status?"success":_ref$status,_ref$position=_ref.position,position=void 0===_ref$position?"top":_ref$position,_ref$maxWidth=_ref.maxWidth,maxWidth=void 0===_ref$maxWidth?"1200px":_ref$maxWidth,_ref$width=_ref.width,width=void 0===_ref$width?"90%":_ref$width,_ref$duration=_ref.duration,duration=void 0===_ref$duration?4e3:_ref$duration,description=_ref.description,_ref$actions=_ref.actions,actions=void 0===_ref$actions?null:_ref$actions,_ref$isClosable=_ref.isClosable,isClosable=void 0===_ref$isClosable||_ref$isClosable,_ref$silent=_ref.silent;if(void 0!==_ref$silent&&_ref$silent)return null;var safeString=function safeString(value){return null==value?"":"string"==typeof value?value:String(value)},contentKey="".concat(safeString(title),"-").concat(safeString(description),"-").concat(safeString(status)),now=Date.now(),existingToast=globalActiveToasts.get(contentKey);if(existingToast&&now-existingToast.timestamp<4e3)return existingToast.id;if(globalActiveToastIds.size>=3){var oldestToast=Array.from(globalActiveToastIds)[0];closeToast(oldestToast)}var toastColors=bgColors[status],id=toast({position,status,render:function render(){return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.az,{color:toastColors.color,py:8,pl:5,pr:6,bg:toastColors.background,borderColor:toastColors.borderColor,borderWidth:"2px",borderRadius:"10px",position:"relative",width,maxWidth,margin:"auto",top:"6vh",mt:"12px"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.s,{gridGap:"10px",mt:"2px"},__jsx(_components_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{icon:status,width:"15px",height:"15px",color:"currentColor",mt:"-4px"}),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.az,{fontSize:"14px",fontWeight:"bold",lineHeight:6,mt:"-8px",letterSpacing:"1px"},title),isClosable&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.$,{position:"absolute",background:"transparent",_hover:{background:"var(--chakra-colors-blckAlpha-100)"},_active:{background:"var(--chakra-colors-blackAlpha-100)"},width:"24px",minWidth:"24px",height:"24px",fontSize:"10px",padding:2,onClick:function onClick(){return closeToast(id)},top:2,right:2},__jsx(_components_Icon__WEBPACK_IMPORTED_MODULE_1__.A,{icon:"close",width:"10px",height:"10px",color:"black"}))),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.az,{textAlign:"left",mx:"auto",ms:"7",fontSize:"14px"},description),(null==actions?void 0:actions.length)>0&&__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.s,{gap:"16px",mb:"-35px"},actions.map(function(action){return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.$,{as:"a",key:action.label,href:action.link,background:"transparent",color:"black",_hover:{background:"transparent"},left:7,fontSize:"14px",textDecoration:"underline",target:"_blank",onClick:function onClick(){return closeToast(id)}},action.label)})))},duration,onCloseComplete:function onCloseComplete(){globalActiveToastIds.delete(id),globalActiveToasts.delete(contentKey)}});return globalActiveToastIds.add(id),globalActiveToasts.set(contentKey,{id,timestamp:now}),id},closeToast}}},"./src/hooks/usePersistent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>usePersistent,M:()=>usePersistentBySession});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_utils_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),usePersistent=function usePersistent(key,initialValue){var getStoredValues=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){var item=_utils_index__WEBPACK_IMPORTED_MODULE_1__.l6?window.localStorage.getItem(key):null;return JSON.parse(item)||initialValue},[key,initialValue]),_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getStoredValues),storedValue=_useState[0],setStoredValue=_useState[1];return[storedValue,function setValue(value){try{setStoredValue(value),window.localStorage.setItem(key,JSON.stringify(value))}catch(error){console.error("usePersistent_error:",error)}}]},usePersistentBySession=function usePersistentBySession(key,initialValue){var getStoredValues=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function(){if("undefined"==typeof window)return initialValue;var item=_utils_index__WEBPACK_IMPORTED_MODULE_1__.l6?window.sessionStorage.getItem(key):null;return null===item?initialValue:item.startsWith("{")||item.startsWith("[")?JSON.parse(item):item},[key,initialValue]),_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(getStoredValues),storedValue=_useState2[0],setStoredValue=_useState2[1];return[void 0!==storedValue?storedValue:initialValue,function setValue(value){setStoredValue(value);var valueToStore="object"==typeof value?JSON.stringify(value):value;window.sessionStorage.setItem(key,valueToStore)}]}},"./src/hooks/useRigo.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useRigo});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),script=__webpack_require__("./node_modules/next/script.js"),script_default=__webpack_require__.n(script),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),requests=__webpack_require__("./src/utils/requests.js"),utils=__webpack_require__("./src/utils/index.js"),process=__webpack_require__("./node_modules/process/browser.js"),__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var RigoContext=(0,react.createContext)({rigo:null,isRigoInitialized:!1});function RigoProvider(_ref){var children=_ref.children,_useState=(0,react.useState)(!1),isRigoInitialized=_useState[0],setIsRigoInitialized=_useState[1];return(0,react.useEffect)(function(){isRigoInitialized&&(window.rigo.on("open_bubble",function(data){(0,requests.A$)({dataLayer:_objectSpread({event:"rigobot_open_bubble",agent:(0,utils.VK)()},data)})}),window.rigo.on("incoming_message",function(data){(0,requests.A$)({dataLayer:_objectSpread({event:"rigobot_incoming_message",agent:(0,utils.VK)()},data)})}))},[isRigoInitialized]),__jsx(RigoContext.Provider,{value:{rigo:utils.l6&&window.rigo,isRigoInitialized}},__jsx(script_default(),{src:"https://unpkg.com/rigo-ai@0.1.10/dist/main.js",onLoad:function onLoad(){window.rigo.init(process.env.RIGOBOT_HASH,{context:""}),window.rigo.show({showBubble:!1}),setIsRigoInitialized(!0)}}),children)}RigoProvider.displayName="RigoProvider",RigoProvider.propTypes={children:prop_types_default().node},RigoProvider.defaultProps={children:null};RigoProvider.__docgenInfo={description:"",methods:[],displayName:"RigoProvider",props:{children:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1}}};const hooks_useRigo=function useRigo(){return(0,react.useContext)(RigoContext)}},"./src/hooks/useSubscriptions.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>hooks_useSubscriptions});var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),next_router=__webpack_require__("./node_modules/next/router.js"),signupAction=__webpack_require__("./src/store/actions/signupAction.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),types=__webpack_require__("./src/store/types/index.js");const actions_subscriptionAction=function subscriptionAction(){var state=(0,es.d4)(function(st){return st.subscriptionsReducer}),dispatch=(0,es.wA)();return{state,setSubscriptionsLoading:function setSubscriptionsLoading(payload){return dispatch({type:types.T5,payload})},setSubscriptions:function setSubscriptions(payload){return dispatch({type:types.Gv,payload})},setCancelSubscription:function setCancelSubscription(payload){return dispatch({type:types.lE,payload})},setReactivateSubscription:function setReactivateSubscription(payload){return dispatch({type:types.xj,payload})},setAreSubscriptionsFetched:function setAreSubscriptionsFetched(payload){return dispatch({type:types.Fb,payload})}}};var breathecode=__webpack_require__("./src/services/breathecode.js"),useCustomToast=__webpack_require__("./src/hooks/useCustomToast.jsx"),utils=__webpack_require__("./src/utils/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,defineProperty.A)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}const hooks_useSubscriptions=function useSubscriptions(){var _subscriptionAction=actions_subscriptionAction(),state=_subscriptionAction.state,setAreSubscriptionsFetched=_subscriptionAction.setAreSubscriptionsFetched,setSubscriptionsLoading=_subscriptionAction.setSubscriptionsLoading,setSubscriptions=_subscriptionAction.setSubscriptions,setCancelSubscription=_subscriptionAction.setCancelSubscription,setReactivateSubscription=_subscriptionAction.setReactivateSubscription,subscriptions=state.subscriptions,setPaymentStatus=(0,signupAction.A)().setPaymentStatus,createToast=(0,useCustomToast.A)({toastId:"canceling-subscription-error-action"}).createToast,router=(0,next_router.useRouter)(),getPlanOffer=function(){var _ref=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee(slug){var _yield$bc$payment$pla,data,currentOffer;return regenerator_default().wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=1,breathecode.A.payment({original_plan:slug}).planOffer();case 1:return _yield$bc$payment$pla=_context.sent,data=_yield$bc$payment$pla.data,currentOffer=data.find(function(item){var _item$original_plan;return(null===(_item$original_plan=item.original_plan)||void 0===_item$original_plan?void 0:_item$original_plan.slug)===slug}),_context.abrupt("return",currentOffer);case 2:case"end":return _context.stop()}},_callee)}));return function getPlanOffer(_x){return _ref.apply(this,arguments)}}(),managePlanOffer=function(){var _ref3=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee2(_ref2){var slug,currentOffer,offerData,_currentOffer$origina,outOfConsumables;return regenerator_default().wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return slug=_ref2.slug,_context2.prev=1,_context2.next=2,getPlanOffer(slug);case 2:if(currentOffer=_context2.sent,!(offerData=null==currentOffer?void 0:currentOffer.suggested_plan)){_context2.next=3;break}return outOfConsumables=null===(_currentOffer$origina=currentOffer.original_plan)||void 0===_currentOffer$origina?void 0:_currentOffer$origina.service_items.some(function(item){return 0===item.how_many}),_context2.abrupt("return",{title:(0,utils.A4)((0,utils.Pf)(String(offerData.slug))),slug:offerData.slug,outOfConsumables});case 3:return _context2.abrupt("return",null);case 4:return _context2.prev=4,_context2.catch(1),_context2.abrupt("return",null);case 5:case"end":return _context2.stop()}},_callee2,null,[[1,4]])}));return function managePlanOffer(_x2){return _ref3.apply(this,arguments)}}(),getSubscriptions=function(){var _ref4=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee3(){var _yield$bc$payment$sub,data;return regenerator_default().wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=1,breathecode.A.payment({status:"ACTIVE,FREE_TRIAL,FULLY_PAID,CANCELLED,PAYMENT_ISSUE,EXPIRED,ERROR"}).subscriptions();case 1:return _yield$bc$payment$sub=_context3.sent,data=_yield$bc$payment$sub.data,_context3.abrupt("return",data);case 2:case"end":return _context3.stop()}},_callee3)}));return function getSubscriptions(){return _ref4.apply(this,arguments)}}(),initializeSubscriptionsData=function(){var _ref5=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee6(){var result,data,subscriptionsDataWithPlanOffer,planFinancingsDataWithPlanOffer,_t2;return regenerator_default().wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.prev=0,setSubscriptionsLoading(!0),_context6.next=1,getSubscriptions();case 1:return data=_context6.sent,_context6.next=2,Promise.all(data.subscriptions.map(function(){var _ref6=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee4(s){var _s$plans$,planOffer;return regenerator_default().wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=1,managePlanOffer({slug:null==s||null===(_s$plans$=s.plans[0])||void 0===_s$plans$?void 0:_s$plans$.slug});case 1:return planOffer=_context4.sent,_context4.abrupt("return",_objectSpread(_objectSpread({},s),{},{type:"subscription",planOffer}));case 2:case"end":return _context4.stop()}},_callee4)}));return function(_x3){return _ref6.apply(this,arguments)}}()));case 2:return subscriptionsDataWithPlanOffer=_context6.sent,_context6.next=3,Promise.all(data.plan_financings.map(function(){var _ref7=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee5(f){var _f$plans$,planOffer;return regenerator_default().wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=1,managePlanOffer({slug:null==f||null===(_f$plans$=f.plans[0])||void 0===_f$plans$?void 0:_f$plans$.slug});case 1:return planOffer=_context5.sent,_context5.abrupt("return",_objectSpread(_objectSpread({},f),{},{type:"plan_financing",planOffer}));case 2:case"end":return _context5.stop()}},_callee5)}));return function(_x4){return _ref7.apply(this,arguments)}}()));case 3:planFinancingsDataWithPlanOffer=_context6.sent,setSubscriptions(result={subscriptions:subscriptionsDataWithPlanOffer,plan_financings:planFinancingsDataWithPlanOffer}),_context6.next=5;break;case 4:_context6.prev=4,_t2=_context6.catch(0),result=_t2;case 5:return _context6.prev=5,setSubscriptionsLoading(!1),setAreSubscriptionsFetched(!0),_context6.abrupt("return",result);case 6:case"end":return _context6.stop()}},_callee6,null,[[0,4,5,6]])}));return function initializeSubscriptionsData(){return _ref5.apply(this,arguments)}}(),cancelSubscription=function(){var _ref8=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee7(id){var _yield$bc$payment$can,data,_t3;return regenerator_default().wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=1,breathecode.A.payment().cancelMySubscription(id);case 1:return _yield$bc$payment$can=_context7.sent,data=_yield$bc$payment$can.data,setCancelSubscription(data),_context7.abrupt("return",data);case 2:return _context7.prev=2,_t3=_context7.catch(0),createToast({position:"top",title:"Error while cancelling subscription",status:"error",duration:5e3,isClosable:!0}),_context7.abrupt("return",_t3);case 3:case"end":return _context7.stop()}},_callee7,null,[[0,2]])}));return function cancelSubscription(_x5){return _ref8.apply(this,arguments)}}(),reactivateSubscription=function(){var _ref9=(0,asyncToGenerator.A)(regenerator_default().mark(function _callee8(subscription){var _subscription$plans$,planStatus,planSlug,now,_yield$bc$payment$rea,data,_t4;return regenerator_default().wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(planStatus=null==subscription?void 0:subscription.status,planSlug=null==subscription||null===(_subscription$plans$=subscription.plans[0])||void 0===_subscription$plans$?void 0:_subscription$plans$.slug,"CANCELLED"!==planStatus){_context8.next=5;break}if(now=new Date,!(subscription&&(subscription.valid_until&&new Date(subscription.valid_until)>now||subscription.next_payment_at&&new Date(subscription.next_payment_at)>now))){_context8.next=4;break}return _context8.prev=1,_context8.next=2,breathecode.A.payment({}).reactivateMySubscription(subscription.id);case 2:return _yield$bc$payment$rea=_context8.sent,data=_yield$bc$payment$rea.data,setReactivateSubscription(data),_context8.abrupt("return",data);case 3:throw _context8.prev=3,_t4=_context8.catch(1),console.error("Error reactivating subscription:",_t4),_t4;case 4:setPaymentStatus("idle"),router.push("/checkout?plan=".concat(planSlug));case 5:throw new Error("Subscription is not cancelled");case 6:case"end":return _context8.stop()}},_callee8,null,[[1,3]])}));return function reactivateSubscription(_x6){return _ref9.apply(this,arguments)}}(),allSubscriptions=(null==subscriptions?void 0:subscriptions.subscriptions)&&(null==subscriptions?void 0:subscriptions.plan_financings)&&[].concat((0,toConsumableArray.A)(subscriptions.subscriptions),(0,toConsumableArray.A)(subscriptions.plan_financings))||[];return _objectSpread(_objectSpread({},state),{},{state,allSubscriptions,SUBS_STATUS:{ACTIVE:"ACTIVE",FREE_TRIAL:"FREE_TRIAL",FULLY_PAID:"FULLY_PAID",CANCELLED:"CANCELLED",PAYMENT_ISSUE:"PAYMENT_ISSUE"},getPlanOffer,initializeSubscriptionsData,cancelSubscription,reactivateSubscription,getSubscriptions})}},"./src/store/actions/signupAction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/store/types/index.js");const __WEBPACK_DEFAULT_EXPORT__=function signupAction(){var state=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.d4)(function(sl){return sl.signupReducer}),dispatch=(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.wA)();return{state,toggleIfEnrolled:function toggleIfEnrolled(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.nY,payload})},setLoader:function setLoader(payload,value){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.rQ,payload,value})},handleStep:function handleStep(step){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.GR,payload:step})},setCheckingData:function setCheckingData(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.F6,payload})},setPaymentMethods:function setPaymentMethods(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.t$,payload})},setPaymentStatus:function setPaymentStatus(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.Xp,payload})},setIsSubmittingCard:function setIsSubmittingCard(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.rI,payload})},setIsSubmittingPayment:function setIsSubmittingPayment(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.Tz,payload})},setPaymentInfo:function setPaymentInfo(payload,value){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.pB,payload,value})},setSelfAppliedCoupon:function setSelfAppliedCoupon(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.tZ,payload})},setPlanData:function setPlanData(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.sL,payload})},setSelectedPlan:function setSelectedPlan(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.VK,payload})},setSelectedService:function setSelectedService(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.PL,payload})},restartSignup:function restartSignup(){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.$D})},setService:function setService(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.Vz,payload})},setDeclinedPayment:function setDeclinedPayment(payload){return dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__.hH,payload})},setSelectedPlanAddons:function setSelectedPlanAddons(payload){return dispatch({type:"SET_SELECTED_PLAN_ADDONS",payload})}}}}}]);